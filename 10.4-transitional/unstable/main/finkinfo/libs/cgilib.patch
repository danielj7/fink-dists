diff -uNr cgilib-0.5/Makefile cgilib-0.5-new/Makefile
--- cgilib-0.5/Makefile	1999-08-20 17:14:07.000000000 -0400
+++ cgilib-0.5-new/Makefile	2005-05-21 18:20:26.000000000 -0400
@@ -23,19 +23,22 @@
 libcgi.a: $(OBJS)
 	ar rc $@ $^
 
+libcgi.0.5.dylib: $(OBJS)
+	gcc -dynamiclib -install_name @PREFIX@/lib/libcgi.0.5.dylib -current_version 0.5 -o $@ $^
+
 cgitest: cgitest.o libcgi.a
 	$(CC) $(CFLAGS) $(LDFLAGS) -o $@ $^ $(LIBS)
 
 jumpto: jumpto.o libcgi.a
 	$(CC) $(CFLAGS) $(LDFLAGS) -o $@ $^ $(LIBS)
 
-all: libcgi.a cgitest jumpto
+all: libcgi.a libcgi.0.5.dylib cgitest jumpto
 
 install: cgitest
 	install -m 755 cgitest /usr/lib/cgi-bin
 
 clean:
-	rm -f cgitest cgitest.o jumpto jumpto.o libcgi.a $(OBJS) *.[35].html
+	rm -f cgitest cgitest.o jumpto jumpto.o libcgi.a libcgi.0.5.dylib $(OBJS) *.[35].html
 
 htmlman:
 	for f in *.[35]; do \
diff -uNr cgilib-0.5/cgi.c cgilib-0.5-new/cgi.c
--- cgilib-0.5/cgi.c	1999-08-20 17:14:07.000000000 -0400
+++ cgilib-0.5-new/cgi.c	2005-05-21 18:14:35.000000000 -0400
@@ -31,7 +31,6 @@
 #include <unistd.h>
 #include <string.h>
 #include <ctype.h>
-#include <malloc.h>
 #include <cgi.h>
 
 int cgiDebugLevel = 0;
diff -uNr cgilib-0.5/cgitest.c cgilib-0.5-new/cgitest.c
--- cgilib-0.5/cgitest.c	1999-08-17 09:21:20.000000000 -0400
+++ cgilib-0.5-new/cgitest.c	2005-05-21 18:21:26.000000000 -0400
@@ -23,6 +23,7 @@
 
 #include <stdio.h>
 #include <stdlib.h>
+#include <string.h>
 #include <cgi.h>
 
 s_cgi *cgi;
@@ -113,7 +114,7 @@
             cgiHeader();
 	    printf ("<html>\n<head><title>cgilib</title></title>\n\n<body bgcolor=\"#ffffff\">\n");
 	    printf ("<h1><a href=\"%s\">cgilib</a></h1>\n", URL);
-	    printf ("<h3>Cookie "Library" set</h3>\n");
+	    printf ("<h3>Cookie \"Library\" set</h3>\n");
 	    printf ("<p><br><p><br><a href=\"/cgi-bin/cgitest\">Test</a><p>\n");
 	    printf ("<p><br><p><br><a href=\"/cgi-bin/cgitest/redirect\">Redirect</a><p>\n");
 	    printf ("<p><br><p><br><a href=\"/cgi-bin/cgitest/listall\">List Everything</a><p>\n");
