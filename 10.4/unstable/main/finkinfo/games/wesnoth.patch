diff -Naur --exclude='*~' wesnoth-1.2.3/configure wesnoth-1.2.3.fink/configure
--- wesnoth-1.2.3/configure	2007-03-14 14:13:55.000000000 -0700
+++ wesnoth-1.2.3.fink/configure	2007-03-17 21:28:55.000000000 -0700
@@ -2534,76 +2534,9 @@
 
 { echo "$as_me:$LINENO: checking how to create a ustar tar archive" >&5
 echo $ECHO_N "checking how to create a ustar tar archive... $ECHO_C" >&6; }
-# Loop over all known methods to create a tar archive until one works.
-_am_tools='gnutar plaintar pax cpio none'
-_am_tools=${am_cv_prog_tar_ustar-$_am_tools}
-# Do not fold the above two line into one, because Tru64 sh and
-# Solaris sh will not grok spaces in the rhs of `-'.
-for _am_tool in $_am_tools
-do
-  case $_am_tool in
-  gnutar)
-    for _am_tar in tar gnutar gtar;
-    do
-      { echo "$as_me:$LINENO: $_am_tar --version" >&5
-   ($_am_tar --version) >&5 2>&5
-   ac_status=$?
-   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-   (exit $ac_status); } && break
-    done
-    am__tar="$_am_tar --format=ustar -chf - "'"$$tardir"'
-    am__tar_="$_am_tar --format=ustar -chf - "'"$tardir"'
-    am__untar="$_am_tar -xf -"
-    ;;
-  plaintar)
-    # Must skip GNU tar: if it does not support --format= it doesn't create
-    # ustar tarball either.
-    (tar --version) >/dev/null 2>&1 && continue
-    am__tar='tar chf - "$$tardir"'
-    am__tar_='tar chf - "$tardir"'
-    am__untar='tar xf -'
-    ;;
-  pax)
-    am__tar='pax -L -x ustar -w "$$tardir"'
-    am__tar_='pax -L -x ustar -w "$tardir"'
-    am__untar='pax -r'
-    ;;
-  cpio)
-    am__tar='find "$$tardir" -print | cpio -o -H ustar -L'
-    am__tar_='find "$tardir" -print | cpio -o -H ustar -L'
-    am__untar='cpio -i -H ustar -d'
-    ;;
-  none)
-    am__tar=false
-    am__tar_=false
-    am__untar=false
-    ;;
-  esac
-
-  # If the value was cached, stop now.  We just wanted to have am__tar
-  # and am__untar set.
-  test -n "${am_cv_prog_tar_ustar}" && break
-
-  # tar/untar a dummy directory, and stop if the command works
-  rm -rf conftest.dir
-  mkdir conftest.dir
-  echo GrepMe > conftest.dir/file
-  { echo "$as_me:$LINENO: tardir=conftest.dir && eval $am__tar_ >conftest.tar" >&5
-   (tardir=conftest.dir && eval $am__tar_ >conftest.tar) >&5 2>&5
-   ac_status=$?
-   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-   (exit $ac_status); }
-  rm -rf conftest.dir
-  if test -s conftest.tar; then
-    { echo "$as_me:$LINENO: $am__untar <conftest.tar" >&5
-   ($am__untar <conftest.tar) >&5 2>&5
-   ac_status=$?
-   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-   (exit $ac_status); }
-    grep GrepMe conftest.dir/file >/dev/null 2>&1 && break
-  fi
-done
-rm -rf conftest.dir
+am__tar="tar --format=ustar -chf - "'"$$tardir"'
+am__tar_="tar --format=ustar -chf - "'"$tardir"'
+am__untar="tar -xf -"
 
 if test "${am_cv_prog_tar_ustar+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
@@ -13336,6 +13269,7 @@
 OLD_CFLAGS=$CFLAGS
 OLD_LIBS=$LIBS
 
+if test "x$enable_sdltest" = "xyes" ; then
 CPPFLAGS="$CPPFLAGS $SDL_CFLAGS"
 CFLAGS="$CFLAGS $SDL_CFLAGS"
 LIBS="$LIBS $SDL_LIBS $SDL_IMAGE_LIBS"
@@ -13408,7 +13342,7 @@
 CPPFLAGS=$OLD_CPPFLAGS
 CFLAGS=$OLD_CFLAGS
 LIBS=$OLD_LIBS
-
+fi
 
 #######################################################################
 # Check for OGG support in SDL_mixer                                  #
@@ -13425,6 +13359,7 @@
 	{ echo "$as_me:$LINENO: checking for OGG support in SDL_mixer" >&5
 echo $ECHO_N "checking for OGG support in SDL_mixer... $ECHO_C" >&6; }
 
+	if test "x$enable_sdltest" = "xyes" ; then
         OLD_CPPFLAGS=$CPPFLAGS
 	OLD_CFLAGS=$CFLAGS
         OLD_LIBS=$LIBS
@@ -13501,6 +13436,7 @@
         CPPFLAGS=$OLD_CPPFLAGS
 	CFLAGS=$OLD_CFLAGS
         LIBS=$OLD_LIBS
+	fi
     fi
 fi
 
