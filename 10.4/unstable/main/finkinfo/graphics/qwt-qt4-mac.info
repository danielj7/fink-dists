Package: qwt-qt4-mac
Version: 5.2.0
Revision: 4
Description: Qt Widgets for Technical Applications
Homepage: http://qwt.sourceforge.net
License: LGPL
Maintainer: Alexandre Vial <avial@altern.org>
Depends: %N-shlibs ( = %v-%r )
BuildDepends: <<
	fink (>= 0.24.12),
	fink-package-precedence,
	libiconv-dev,
	libpng15,
	qt4-base-x11 (>= 4.7.3-1),
	system-openssl-dev
<<
BuildDependsOnly: true
Conflicts: qwt-qt4-x11
Replaces: qwt-qt4-x11

Source: mirror:sourceforge:qwt/qwt-%v.tar.bz2
Source-MD5: c60b4cfac271a41524402b3ae5197890

PatchFile: %n.patch
PatchFile-MD5: 9ad03cd2b2de71a09a10057bb9b0b774
PatchScript: sed 's,@PREFIX@,%p,g' < %{PatchFile} | patch -p1

GCC: 4.0

CompileScript: <<
#!/bin/sh -ev
unset QMAKESPEC
export QTDIR=%p/lib/qt4-mac
export PATH="$QTDIR/bin:$PATH"
%p/lib/qt4-mac/bin/qmake qwt.pro QMAKE_CXXFLAGS=-MD
make
fink-package-precedence --depfile-ext='\.d' --prohibit-bdep=%n .
<<

InstallScript: <<
mkdir -p %i/lib/qt4-mac/qwt
cp -R lib %i/lib/qt4-mac/
cp -R examples %i/lib/qt4-mac/qwt/

mkdir -p  %i/lib/qt4-mac/include/qwt
cp src/*.h %i/lib/qt4-mac/include/qwt/

mkdir -p %i/share/doc/qwt
cp -R doc/html %i/share/doc/qwt/
cp -R doc/man %i/share/

cp -R designer/plugins %i/lib/qt4-mac/
<<

DocFiles: COPYING CHANGES README INSTALL

SplitOff: <<
 Package: qwt-qt4-mac-designer-plugin
 Depends: <<
	%N-shlibs ( =%v-%r ),
	libiconv,
	libpng15-shlibs,
	qt4-base-mac-qtcore-shlibs (>= 4.7.3-1),
	qt4-base-mac-qtdesigner-shlibs (>= 4.7.3-1),
	qt4-base-mac-qtgui-shlibs (>= 4.7.3-1),
	qt4-base-mac-qtscript-shlibs (>= 4.7.3-1),
	qt4-base-mac-qtxml-shlibs (>= 4.7.3-1)
 <<
 Files: lib/qt4-mac/plugins/designer/libqwt_designer_plugin.bundle
 DocFiles: COPYING CHANGES README INSTALL
<<

Splitoff2: <<
 Package: %N-shlibs
 Depends: <<
	libiconv,
	libpng15-shlibs,
	qt4-base-mac-qtcore-shlibs (>= 4.7.3-1),
	qt4-base-mac-qtgui-shlibs (>= 4.7.3-1),
	qwt-qt4-mac-shlibs (>= 4.7.3-1)
 <<
 Replaces: %N ( << 5.2.0-1 )
 Files: lib/qt4-mac/lib/libqwt.*.dylib
 Shlibs: %p/lib/qt4-mac/lib/libqwt.5.dylib 5.2.0 %n (>= 5.2.0-1)
 Description: Qt Widgets for Technical Applications -- shared library
DocFiles: COPYING CHANGES README INSTALL
<<

Splitoff3: <<
  Package: %N-doc
  Conflicts: qwt-doc
  Replaces: qwt-doc
  Recommends: %N
  Files: share/doc/qwt share/man/man3
  Description: Qwt's docs and man pages
  DocFiles: COPYING CHANGES README INSTALL
<<

DescDetail: <<
Qwt is a graphics extension to the Qt GUI application 
framework from Trolltech AS of Norway. It provides a 
2D plotting widget and more.
<<
 	  	 

 	  	 
