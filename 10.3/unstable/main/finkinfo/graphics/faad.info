Package: faad
Version: 2.0-rc1
Revision: 10
###
Depends: libfaad1-shlibs, libmp4v21-shlibs
BuildDepends: libtool14, id3lib4-dev, xmms, libfaad1-dev, libmp4v21-dev, libiconv-dev, gettext-dev, gtk+, glib, automake1.8
###
Source: mirror:sourceforge:faac/faad2_2.0_rc1.tar.gz
Source-MD5: 102be2681834f9f0351a885eb7eb5c99
NoSourceDirectory: true
###
GCC: 3.3
###
PatchScript: <<
  aclocal -I .; autoheader; libtoolize --force; automake --add-missing; autoconf
  cd common/mp4v2; aclocal -I .; autoheader; libtoolize --force; automake --add-missing; autoconf
  cd plugins/xmms; aclocal -I .; autoheader; libtoolize --force; automake --add-missing; autoconf
  ### Already donig this above
  perl -pi -e 's,cd common/mp4v2,#cd common/mp4v2,g' configure
  perl -pi -e 's,cd plugins/xmms,#cd plugins/xmms,g' configure
  ### fixing libtool non-sense
  perl -pi -e 's,-flat_namespace -undefined suppress,-undefined dynamic_lookup,g' configure
  perl -pi -e 's,-flat_namespace -undefined suppress,-undefined dynamic_lookup,g' common/mp4v2/configure
  perl -pi -e 's,-flat_namespace -undefined suppress,-undefined dynamic_lookup,g' plugins/xmms/configure
  ### fix multi defs
  perl -pi -e 's,hcb \*hcb_table\[\];,extern hcb \*hcb_table\[\];,g' libfaad/codebook/hcb.h
  perl -pi -e 's,hcb_2_quad \*hcb_2_quad_table\[\];,extern hcb_2_quad \*hcb_2_quad_table\[\];,g' libfaad/codebook/hcb.h
  perl -pi -e 's,hcb_2_pair \*hcb_2_pair_table\[\];,extern hcb_2_pair \*hcb_2_pair_table\[\];,g' libfaad/codebook/hcb.h
  perl -pi -e 's,hcb_bin_pair \*hcb_bin_table\[\];,extern hcb_bin_pair \*hcb_bin_table\[\];,g' libfaad/codebook/hcb.h
  perl -pi -e 's,uint8_t hcbN\[\];,extern uint8_t hcbN\[\];,g' libfaad/codebook/hcb.h
  perl -pi -e 's,uint8_t unsigned_cb\[\];,extern uint8_t unsigned_cb\[\];,g' libfaad/codebook/hcb.h
  perl -pi -e 's,int hcb_2_quad_table_size\[\];,extern int hcb_2_quad_table_size\[\];,g' libfaad/codebook/hcb.h
  perl -pi -e 's,int hcb_2_pair_table_size\[\];,extern int hcb_2_pair_table_size\[\];,g' libfaad/codebook/hcb.h
  perl -pi -e 's,int hcb_bin_table_size\[\];,extern int hcb_bin_table_size\[\];,g' libfaad/codebook/hcb.h
  perl -pi -e 's,^const,extern const,g' libfaad/sbr_huff.h
  ### fix relink
  perl -pi -e 's,need_relink=yes,need_relink=no,g' ltmain.sh
  perl -pi -e 's,need_relink=yes,need_relink=no,g' common/mp4v2/ltmain.sh
  perl -pi -e 's,need_relink=yes,need_relink=no,g' plugins/xmms/ltmain.sh
<<
###
ConfigureParams: --with-pic --enable-shared --enable-static --mandir=%i/share/man --infodir=%p/share/info --libexecdir=%p/lib
###
DocFiles: AUTHORS COPYING NEWS README* TODO
###
InstallScript: <<
  make install DESTDIR=%d
<<
###
SplitOff: <<
  Package: libfaad1-shlibs
  Files: <<
    lib/libfaad.*.dylib
  <<
  Shlibs: <<
    %p/lib/libfaad.0.dylib 1.0.0 %n (>= 2.0-rc1-1)
  <<
  DocFiles: AUTHORS COPYING NEWS README* TODO
<<
###
SplitOff2: <<
  Package: libfaad1-dev
  Depends: libfaad1-shlibs (= %v-%r)
  Files: <<
    lib/libfaad.a
    lib/libfaad.la
    lib/libfaad.dylib
    include/
  <<
  DocFiles: AUTHORS COPYING NEWS README* TODO
<<
###
SplitOff3: <<
  Package: libmp4v21-shlibs
  Files: <<
    lib/libmp4v2.*.dylib
  <<
  Shlibs: <<
    %p/lib/libmp4v2.0.dylib 1.0.0 %n (>= 2.0-rc1-1)
  <<
  DocFiles: common/mp4v2/API_CHANGES common/mp4v2/COPYING common/mp4v2/INSTALL common/mp4v2/INTERNALS common/mp4v2/TODO
<<
###
SplitOff4: <<
  Package: libmp4v21-dev
  Depends: libmp4v21-shlibs (= %v-%r)
  Files: <<
    lib/libmp4v2.a
    lib/libmp4v2.la
    lib/libmp4v2.dylib
  <<
  DocFiles: common/mp4v2/API_CHANGES common/mp4v2/COPYING common/mp4v2/INSTALL common/mp4v2/INTERNALS common/mp4v2/TODO
<<
###
SplitOff5: <<
  Package: xmms-aac
  Depends: x11, libiconv, gtk+-shlibs, glib-shlibs, xmms-shlibs, gettext, id3lib4-shlibs, libfaad1-shlibs
  Files: <<
    lib/xmms/
  <<
  DocFiles: plugins/xmms/AUTHORS plugins/xmms/COPYING plugins/xmms/ChangeLog plugins/xmms/INSTALL plugins/xmms/NEWS plugins/xmms/README plugins/xmms/TODO
<<
###
Description: FAAC audio library
DescDetail: <<
  FAAC is an Advanced Audio Coder (MPEG2-AAC, MPEG4-AAC). The goal of FAAC is
  to explore the possibilities of AAC and exceed the quality of the currentlyi
  best MP3 encoders.
<<
###
License: GPL
Maintainer: Justin F. Hallett <thesin@users.sourceforge.net>
Homepage: http://faac.sourceforge.net/
