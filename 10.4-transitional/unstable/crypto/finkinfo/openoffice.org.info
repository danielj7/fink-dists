Package: openoffice.org
Description: Integrated office productivity suite
Version: 2.0.2
Revision: 101
License: LGPL
Maintainer: Todai Fink Team <fink@sodan.ecc.u-tokyo.ac.jp>

Conflicts: openoffice.org, openoffice.org-firefox, openoffice.org-nocrypto
Replaces: openoffice.org, openoffice.org-firefox, openoffice.org-nocrypto
Provides: openoffice.org-generation2
BuildConflicts: libicu32-dev
BuildDepends: <<
  x11-dev, ant, bison, fileutils, system-java14-dev,
  archive-zip-pm586,
  libjpeg, expat, freetype219, libxml2,
  sane-backends-dev, libcurl3-unified, libsndfile1-dev,
  portaudio (>= 18.1-1), neon24-ssl | neon24,
  libart2, startup-notification-dev, libgettext3-dev,
  atk1, gtk+2-dev, orbit2-dev, pango1-xft2-dev,
  libiconv-dev, openldap23-dev,
  libwpd-0.8-dev, glib2-dev, db42-ssl | db42,
  libsablot-dev, libsablot, unixodbc2-nox | unixodbc2,
  mozilla-dev,
  boost1.32-py24, python24,
  pkgconfig, popt, autoconf2.5
<<

Depends: <<
  x11, system-java14, system-perl,
  libjpeg-shlibs, expat-shlibs, freetype219-shlibs, libxml2-shlibs,
  sane-backends-shlibs, libcurl3-unified-shlibs, libsndfile1-shlibs,
  portaudio-shlibs (>= 18.1-1), neon24-ssl-shlibs | neon24-shlibs,
  libart2-shlibs, startup-notification-shlibs,
  atk1-shlibs, gtk+2-shlibs, libgettext3-shlibs, pango1-xft2-shlibs,
  libiconv, openldap23-shlibs,
  libwpd-0.8-shlibs, glib2-shlibs,
  db42-ssl-shlibs | db42-shlibs, db42-ssl-java | db42-java,
  libsablot-shlibs, unixodbc2-nox-shlibs | unixodbc2-shlibs,
  mozilla-shlibs, mozilla-mailnews,
  python24-shlibs,
  fondu
<<

CustomMirror: <<
aus-AU: http://openoffice.mirrors.ilisys.com.au/
#aus-AU: ftp://mirror.pacific.net.au/OpenOffice/
#aus-AU: http://mirror.pacific.net.au/openoffice/
aus-AU: ftp://ftp.planetmirror.com/pub/openoffice/
aus-AU: http://public.planetmirror.com/pub/openoffice/
eur-AT: http://gd.tuwien.ac.at/office/openoffice/
eur-AT: ftp://gd.tuwien.ac.at/office/openoffice/
eur-BE: http://ftp.belnet.be/pub/mirror/ftp.openoffice.org/
#eur-BE: ftp://ftp.scarlet.be/pub/openoffice/
#eur-BE: http://ftp.scarlet.be/pub/openoffice/
eur-BE: ftp://ftp.openoffice.skynet.be/pub/ftp.openoffice.org/
eur-BE: ftp://ftp.kulnet.kuleuven.ac.be/pub/mirror/openoffice.org/
sam-BR: http://linorg.usp.br/OpenOffice.org/
sam-BR: ftp://ftp.pucpr.br/openoffice/
eur-BG: http://ftp.spnet.net/openoffice/
eur-BG: ftp://ftp.spnet.net/openoffice/
nam-CA: ftp://openoffice.mirror.rafal.ca/openoffice/
nam-CA: http://openoffice.mirror.rafal.ca/
nam-CA: http://gulus.USherbrooke.ca/pub/appl/openoffice/
eur-CZ: http://ftp.sh.cvut.cz/MIRRORS/OpenOffice/
eur-CZ: ftp://ftp.sh.cvut.cz/MIRRORS/OpenOffice/
eur-DK: http://mirrors.dotsrc.org/openoffice/
eur-DK: ftp://mirrors.dotsrc.org/openoffice/
eur-EE: http://openoffice.offline.ee/
eur-FI: ftp://ftp.funet.fi/pub/mirrors/openoffice.org/
#eur-FR: ftp://openoffice.cict.fr/openoffice/
eur-FR: ftp://ftp.free.fr/mirrors/ftp.openoffice.org/
eur-DE: ftp://ftp.tu-chemnitz.de/pub/openoffice/
eur-DE: ftp://ftp.gwdg.de/pub/misc/openoffice/
eur-DE: ftp://sunsite.informatik.rwth-aachen.de/pub/mirror/OpenOffice/
eur-DE: ftp://ftp.leo.org/pub/openoffice/
eur-DE: http://ftp.leo.org/pub/openoffice/
eur-DE: ftp://ftp.uni-muenster.de/pub/software/OpenOffice/
eur-DE: ftp://openoffice.tu-bs.de/OpenOffice.org/
eur-DE: ftp://ftp.stardiv.de/pub/OpenOffice.org/
eur-DE: http://ftp.stardiv.de/pub/OpenOffice.org/
eur-DE: ftp://ftp-stud.fht-esslingen.de/pub/Mirrors/ftp.openoffice.org/
eur-DE: http://mirror.xaranet.de/openoffice/
eur-GR: http://www.ellak.gr/pub/openoffice/
eur-GR: http://ftp.ntua.gr/pub/OpenOffice/
eur-GR: ftp://ftp.ntua.gr/pub/OpenOffice/
eur-HU: http://ftp.fsf.hu/OpenOffice.org/
eur-HU: ftp://ftp.fsf.hu/OpenOffice.org/
eur-IS: ftp://ftp.rhnet.is/pub/OpenOffice/
eur-IS: http://ftp.rhnet.is/pub/OpenOffice/
asi-ID: http://openoffice.ugm.ac.id/
asi-ID: ftp://kambing.vlsm.org/openoffice/
asi-ID: http://kambing.vlsm.org/openoffice/
eur-IE: ftp://ftp.heanet.ie/mirrors/openoffice.org/
eur-IE: http://ftp.heanet.ie/mirrors/openoffice.org/
eur-IT: ftp://na.mirror.garr.it/mirrors/openoffice/
eur-IT: http://na.mirror.garr.it/mirrors/openoffice/
asi-JP: ftp://ftp.kddlabs.co.jp/office/openoffice/
asi-JP: ftp://ftp.ring.gr.jp/pub/misc/openoffice/
asi-JP: http://www.ring.gr.jp/archives/misc/openoffice/
asi-JP: ftp://ftp.yz.yamagata-u.ac.jp/pub/openoffice/
asi-JP: http://ftp.yz.yamagata-u.ac.jp/pub/openoffice/
eur-LT: ftp://files.akl.lt/OpenOffice.org/
eur-LT: http://files.akl.lt/OpenOffice.org/
#asi-MY: http://mymirror.asiaosc.org/openoffice/
eur-NL: ftp://ftp.nluug.nl/pub/office/openoffice/
eur-NL: http://ftp.nluug.nl/pub/office/openoffice/
eur-NL: ftp://ftp.snt.utwente.nl/pub/software/openoffice/
eur-NL: ftp://borft.student.utwente.nl/
eur-NL: http://borft.student.utwente.nl/openoffice/
eur-NL: ftp://niihau.student.utwente.nl/
eur-NL: http://vlaai.snt.utwente.nl/pub/software/openoffice/
eur-PL: ftp://ftp.man.poznan.pl/pub/openoffice/
eur-PL: ftp://ftp.openoffice.pl/OpenOffice.ORG/
eur-PL: ftp://ftp.tpnet.pl/d9/OpenOffice/
eur-PL: http://ftp.tpnet.pl/vol/d9/OpenOffice/
eur-RO: ftp://ftp.iasi.roedu.net/pub/mirrors/openoffice.org/
eur-RO: http://ftp.iasi.roedu.net/mirrors/openoffice.org/
eur-RO: ftp://mirrors.evolva.ro/openoffice.org/
eur-RO: ftp://ftp.idilis.ro/mirrors/openoffice.org/
eur-RO: http://ftp.idilis.ro/mirrors/openoffice.org/
eur-RU: ftp://ftp.chg.ru/pub/OpenOffice/
eur-RU: http://ftp.chg.ru/pub/OpenOffice/
eur-YU: ftp://mirror.etf.bg.ac.yu/openoffice.org/
eur-YU: http://mirror.etf.bg.ac.yu/openoffice/
asi-SG: ftp://mirror.averse.net/pub/openoffice/
#asi-SG: http://mirror.averse.net/openoffice/
eur-SI: ftp://ftp.bevc.net/mirrors/openoffice/
eur-SI: http://mirrors.bevc.net/openoffice/
#eur-SI: http://www.wsection.com/openoffice/
#afr-ZA: ftp://ftp.is.co.za/mirrors/OpenOffice/
asi-KR: ftp://ftp.kr.freebsd.org/pub/openoffice/
eur-ES: http://ftp.rediris.es/ftp/mirror/openoffice.org/
eur-ES: ftp://ftp.rediris.es/mirror/openoffice.org/
eur-SE: http://ftp.sunet.se/pub/Office/OpenOffice.org/
#eur-CH: ftp://ftp.solnet.ch/mirror/OpenOffice/
eur-CH: ftp://sunsite.cnlab-switch.ch/mirror/OpenOffice/
eur-CH: http://mirror.switch.ch/ftp/mirror/OpenOffice/
eur-CH: ftp://mirror.switch.ch/mirror/OpenOffice/
#asi-TW: ftp://ftp.isu.edu.tw/pub/OpenOffice/
#asi-TW: http://ftp.isu.edu.tw/pub/OpenOffice/
#asi-TW: ftp://ftp.nctu.edu.tw/UNIX/OpenOffice/
eur-UK: ftp://ftp.mirrorservice.org/sites/ny1.mirror.openoffice.org/
eur-UK: http://www.mirrorservice.org/sites/ny1.mirror.openoffice.org/
#eur-UK: ftp://mirrors.blueyonder.co.uk/sites/openoffice.org
eur-UK: http://openoffice.blueyonder.co.uk/
eur-UK: ftp://ftp.mirror.ac.uk/mirror/sunsite.dk/openoffice/
#eur-UK: http://www.mirror.ac.uk/mirror/sunsite.dk/openoffice/
nam-US: ftp://ftp.osuosl.org/pub/openoffice/
nam-US: http://ftp.osuosl.org/pub/openoffice/
nam-US: http://mirrors.ibiblio.org/pub/mirrors/openoffice/
nam-US: ftp://ftp.ibiblio.org/pub/mirrors/openoffice/
nam-US: ftp://ftp.ussg.iu.edu/pub/openoffice/
nam-US: http://mirrors.isc.org/pub/openoffice/
nam-US: ftp://openoffice.mirrors.pair.com/
nam-US: http://openoffice.mirrors.pair.com/ftp/
nam-US: ftp://openofficeorg.secsup.org/pub/software/openoffice/
nam-US: http://openofficeorg.secsup.org/
nam-US: http://openoffice.mirror.wrpn.net/
nam-US: ftp://openoffice.mirrors.tds.net/pub/openoffice/
nam-US: http://openoffice.mirrors.tds.net/pub/openoffice/
<<
Source: mirror:custom:stable/%v/OOo_%v_src.tar.gz
Source-MD5: 1b50c8c4c1002edbc4993060ca05ca8f
SourceDirectory: OOB680_m5

PatchScript: <<
  /usr/bin/patch -p0 < %a/openoffice.org.patch
  chmod a+x languagepack-splitoff
<<

GCC: 3.3
SetCPPFLAGS: -I%p/include/db4 -I%p/include/boost
ConfigureParams: <<
  --with-gnu-cp=%p/bin/cp \
  --disable-epm \
  --with-lang=ALL \
  --with-x --x-includes=/usr/X11R6/include --x-libraries=/usr/X11R6/lib \
  --with-jdk-home=/Library/Java/Home --with-ant-home=%p/lib/ant \
  --disable-crashdump \
  --with-build-version="%v-%r; Built with Fink <http://fink.sourceforge.net>" \
  --enable-libart \
  --enable-pasf \
  --with-system-db \
  --with-db-jar=%p/share/java/db42-ssl-java/db.jar \
  --with-system-libwpd \
  --with-system-sablot \
  --with-system-odbc-headers \
  --with-system-sane-header \
  --with-system-xrender-headers \
  --with-system-curl \
  --with-system-sndfile \
  --with-system-portaudio \
  --with-system-neon \
  --with-system-stdlibs \
  --with-system-zlib \
  --with-system-jpeg \
  --with-system-expat \
  --enable-gtk \
  --disable-kde \
  --with-system-freetype \
  --with-system-boost \
  --without-nas \
  --with-system-libxml \
  --with-system-python \
  --with-python-libs="-L%p/lib/python2.4/config -lpython2.4" \
  --with-system-mozilla \
  --enable-openldap \
  --enable-libsn
<<

CompileScript: <<
  #!/bin/bash

  set -e

  if ${CXX:-"g++"} --version | /usr/bin/grep -q 'build 5250'; then
    echo "Xcode 2.2.1 is buggy." >&2
    exit 2
  fi

  echo "[ Message from OpenOffice.org package maintainer ] ================="
  echo
  echo "Welcome to OpenOffice.org build script!"
  echo
  echo "Notice for builders:"
  echo
  echo "1. This building process may take a couple of day or more,"
  echo "   and often fails with errors."
  echo "2. This building process may consume much of your disk space,"
  echo "   possibly up to 10GB."
  echo "3. This building process needs your own WindowServer process."
  echo "   i.e, it is not possible to build through simple SSH connection."
  echo "   This is because the building process uses /usr/bin/osacompile ."
  echo "   (This limitation would be removed in the future release.)"
  echo
  echo "If you faced a building problem, feel free to mail the maintainer,"
  echo "preferably with your environment (gcc's version, etc.) and"
  echo "the build log."
  echo "You can find the logs here:"
  echo "   %b/%n-%v-%r.buildlog"
  echo
  echo "The mail address is: Todai Fink Team <fink@sodan.ecc.u-tokyo.ac.jp>"
  echo
  echo "Please understand this Fink package is still unstable."
  echo
  echo "===================================================================="
  echo
  echo "If you are ready, press RETURN/ENTER to proceed..."

  read -t 60 || true

  echo

  # Record the time
  STARTTIME=`/bin/date +"%%F %%T %%Z(%%z)"`

  set -v

  # Check the architecture
  case %m in
    powerpc) machine=PPC;;
    i386) machine=Intel;;
    *) echo 'Unknown architecture'; exit 1;;
  esac

  # Create a log file
  exec 3> >(/usr/bin/tee -i %n-%v-%r.buildlog)

  # $X_LDFLAGS is needed to configure with X correctly.  
  export X_LDFLAGS=$LDFLAGS

  # $PKG_CONFIG_PATH is needed to configure with freetype219
  export PKG_CONFIG_PATH=%p/lib/freetype219/lib/pkgconfig

  # $PYTHON is needed to configure with python24
  export PYTHON=%p/bin/python2.4


  /usr/bin/printf "[ Phase 1: Configure ]\n\n" >&3
  (cd config_office && autoconf && ./configure %c) >&3 2>&3 || exit

  /usr/bin/printf "\n\n[ Phase 2: Bootstrap ]\n\n" >&3
  ./bootstrap >&3 2>&3

  # Because we are using %p, $SOLARINC and $SOLARLIB need modified  
  # Include libdb_java-4.2.jnilib to DYLD_LIBRARY_PATH so that Java can find it
  /usr/bin/sed -i.bak \
    -e"/^\(setenv \)*SOLARLIB/s|-L/usr/lib|-L%b/FINKLIBS -L%p/lib/freetype219/lib -L%p/lib -L/usr/lib|" \
    -e"/^\(setenv \)*SOLARINC/s|-I/usr/X11R6/include -I/usr/X11R6/include/freetype2|-I%p/include/db4 -I%p/lib/freetype219/include/freetype2 -I%p/lib/freetype219/include -I%p/include -I/usr/X11R6/include|" \
    -e"/^\(setenv \)*DYLD_LIBRARY_PATH/s|/lib|/lib:%b/FINKLIBS|" \
    -e"/^\(setenv \)*PROFULLSWITCH/s|product=full|--dlv_switch -link product=full|" \
    MacOSX${machine}Env.Set MacOSX${machine}Env.Set.sh

  /bin/mkdir FINKLIBS
  /bin/ln -s %p/lib/libdb_java-4.2.jnilib FINKLIBS
  # Xcode >= 2.2 has /usr/lib/libsupc++.a, which follows GCC 4.0 ABI.
  # Unfortunately, g++-3.3 finds libsupc++.a at /usr/lib if -L/usr/lib is given.
  /bin/ln -s /usr/lib/gcc/darwin/3.3/libsupc++.a FINKLIBS

  # Retry forever to build OOo until success!
  while :; do
    /usr/bin/printf "\n\n[ Phase 3: Make ]\n\n" >&3
    . ./MacOSX${machine}Env.Set.sh
    dmake >&3 2>&3 && break

    echo
    echo "[ Message from OpenOffice.org package maintainer ] ================="
    echo
    echo "Building OpenOffice.org faild with an error."
    echo "Now you can get rid of the cause by hand, or call for help."
    echo "The build directory is:"
    echo "  %b"
    echo "and the full log file is available here:"
    echo "  %b/%n-%v-%r.buildlog"
    echo
    echo "===================================================================="
    echo
    echo "Press RETURN/ENTER to exit or input any key to restart dmake..."
    read input
    [ -n "$input" ] || false
  done

  set +v

  /usr/bin/printf "\n\n[ Phase 4: Statistics ]\n\n" >&3
  echo
  echo "[ Message from OpenOffice.org package maintainer ] ================="
  echo
  echo "Congratulations!"
  echo "The building process of OpenOffice.org has completed!"
  echo "   Started:   $STARTTIME" >&3

  ENDTIME=`/bin/date +"%%F %%T %%Z(%%z)"`

  echo "   Completed: $ENDTIME" >&3

  DISKUSAGE=`/usr/bin/du -sh %b | /usr/bin/cut -f1`

  echo "   $DISKUSAGE is used for this building process (not including tarball)." >&3
  echo
  echo "===================================================================="
<<

InstallScript: <<
  #!/bin/bash

  set  -e

  # Mainly, this InstallScript is derived from
  # "ooinstall" in ooo-build and instsetoo_native/util/makefile.mk

  /usr/bin/printf "\n\n[ Install Phase ]\n\n"

  # Setting up environment
  case %m in
    powerpc) . ./MacOSXPPCEnv.Set.sh;;
    i386) . ./MacOSXIntelEnv.Set.sh;;
    *) echo 'Unknown architecture'; exit 1;;
  esac

  set -v

  # Variables needed to execute make_installer.pl
  export OUT="../$INPATH"
  export LOCAL_OUT="$OUT"
  export LOCAL_COMMON_OUT="$OUT"
  solarlibdir=$SOLARVER/$UPD/$INPATH/lib
  export PYTHONPATH=$SRC_ROOT/instsetoo_native/$INPATH/bin:$solarlibdir:$solarlibdir/python:$solarlibdir/python/lib-dynload
  build=`sed -n 's/^BUILD=\(.*\)$/\1/p' $SOLARENVINC/minor.mk`

  # Some dirty hacks to reduce disk consumption

  # Force make_installer.pl to use ln instead of cp
  /usr/bin/sed -i .bak 's|cp -af|/bin/ln -f|' \
    $SOLARENV/bin/modules/installer/worker.pm
  # Disable making download installation set  
  /usr/bin/sed -i .bak 's/$makedownload = .;/$makedownload = 0;/' \
    $SOLARENV/bin/modules/installer/globals.pm
  # Disable cleaning output tree, to reuse unzipped files
  /usr/bin/sed 's/installer::worker::clean_output_tree();/# Disabled by Fink; /' \
    $SOLARENV/bin/make_installer.pl > $SOLARENV/bin/make_installer-noclean.pl

  # Install
  pushd instsetoo_native/util
  /usr/bin/perl -w $SOLARENV/bin/make_installer-noclean.pl \
    -f openoffice.lst -l en-US -p OpenOffice \
    -packagelist ../inc_openoffice/unix/packagelist.txt \
    -buildid $build -destdir %d \
    -simple %p/lib/%n
  popd

  # Some dirty hacks to reduce disk consumption -- again

  # Don't recurse in symlinks on cleaning
  /usr/bin/sed -i .bak 's/-f $item/( -l $item ) || ( -f $item )/' \
    $SOLARENV/bin/modules/installer/systemactions.pm
  # Surpress further unzipping from now on
  /usr/bin/sed -i .bak \
    -e 's|\(.installer::globals::unzippath -o -q[^"]*\)|if [ -d %b/instsetoo_native/util/OpenOffice/zipfiles/en-US/00/$onefilename ]; then /bin/rmdir $unzipdir; /bin/ln -s %b/instsetoo_native/util/OpenOffice/zipfiles/en-US/00/$onefilename `/usr/bin/dirname ${unzipdir}foo`; elif [ -d %b/instsetoo_native/util/OpenOffice/zipfiles/en-US/en-US/$onefilename ]; then /bin/rmdir $unzipdir; /bin/ln -s %b/instsetoo_native/util/OpenOffice/zipfiles/en-US/en-US/$onefilename `/usr/bin/dirname ${unzipdir}foo`; else \1; fi|' \
    -e 's/installer::systemactions::copy_one_file/installer::systemactions::hardlink_one_file/' \
    $SOLARENV/bin/modules/installer/archivefiles.pm

  # Remove the list files
  /bin/rm -v %d/gid_Module*

  # Convenience symlinks
  /usr/bin/install -m 755 -d %i/bin
  for bin in base calc draw impress math writer; do
    /bin/ln -s ../lib/%n/program/s${bin} %i/bin
    /bin/ln -s s${bin} %i/bin/oo${bin}
  done
  /bin/ln -s ../lib/%n/program/soffice %i/bin
  /usr/bin/sed -e "s/ -calc//" %i/lib/%n/program/scalc > %i/bin/ooffice
  /bin/chmod 755 %i/bin/ooffice

  # Symlink libdb_java-4.2.jnilib so that Java can find it
  /bin/ln -s %p/lib/libdb_java-4.2.jnilib %i/lib/%n/program

  # Install update-ooo-fonts
  /usr/bin/install -m 755 -d %i/sbin
  sed 's|@PREFIX@|%p|g;s|@PKGNAME@|%n|g' update-ooo-fonts.in > %i/sbin/update-ooo-fonts
  /bin/chmod 755 %i/sbin/update-ooo-fonts

  # Install DocFiles
  /usr/bin/install -m 755 -d %i/share/doc/%n
  /bin/ln -s %i/lib/%n/LICENSE %i/share/doc/%n/LICENSE

  # Currently, Fink cannot handle "OpenOffice.org 2.0.app"
  # (which contains space character) with AppBundles field.
  /usr/bin/install -d -m 755 %i/Applications
  /usr/bin/tar -xf $STAR_RESOURCEPATH/OpenOffice.org.app.tar -C %i/Applications
  /bin/mv %i/Applications/OpenOffice.org.app "%i/Applications/OpenOffice.org 2.0.app"
  /bin/ln -s %p/lib/%n "%i/Applications/OpenOffice.org 2.0.app/Contents/openoffice.org"
  /bin/chmod -R o-w '%i/Applications/'
  [ -x /Developer/Tools/SplitForks ] && /Developer/Tools/SplitForks '%i/Applications/'

  # End of Install Phase. Proceeding to install language packs...

<<
#AppBundles: instsetoo_native/unxmacxp.pro/OpenOffice/install/en-US_temp/OpenOffice.org*.app
PostInstScript: <<
  %p/sbin/update-ooo-fonts
  [ ! -e /Applications/Fink ] && /usr/bin/install -d -m 755 /Applications/Fink
  /bin/ln -s '%p/Applications/OpenOffice.org 2.0.app' /Applications/Fink/
<<
PreRmScript: %p/sbin/update-ooo-fonts --clean
PostRmScript: /bin/rm -f '/Applications/Fink/OpenOffice.org 2.0.app'

Homepage: http://www.openoffice.org/

DescDetail: <<
OpenOffice.org is an Open Source, community-developed, multi-platform office
productivity suite. It includes the key desktop applications, such as a
word processor, spreadsheet, presentation manager, and drawing program,
with a user interface and feature set similar to other office suites.

Components include:
  * A universal word processing application for creating business
    letters, extensive text documents, professional layouts, and HTML
    documents.
  * A sophisticated application for performing advanced spreadsheet
    functions, such as analyzing figures, creating lists, and viewing data.
  * A tool for creating effective eye-catching presentations.
  * A vector-oriented draw module that enables the creation of 3D
    illustrations.
<<
DescPort: <<
This package is advised by NAKATA Maho <maho@FreeBSD.org>.
And furthermore, much advice from _rene_, ericb2, paveljanik, pmladek, shres
and ssa @ irc://irc.freenode.net/OpenOffice.org . Thanks to all OOo persons!

You can join discussions on porting here:
http://porting.openoffice.org/servlets/SummarizeList?listName=dev

It is reported that:
  * Mac OS X SDK (which comes with Xcode) is needed.

Because DYLD_LIBRARY_PATH does not contain %p/lib by default,
Java cannot find %p/lib/libdb_java-4.2.jnilib at compile time and runtime.
This script tries to make a symlink of it in %p/lib/%n/programs.
<<
DescPackaging: <<
This finkinfo is maintained by m4. See experimental/asari/openoffice.org.info.m4.

To Do 1: Report build failures on building nas (Network Audio System)
  ( --without-nas or --with-system-nas )
with internal nas, build fails on Panther. 

"boost" is required on compile time, but not needed on runtime.

These --with-system flags are not used because they are not in Fink:
   --with-system-mspack
   --with-system-myspell
   --with-system-mythes
   --with-system-altlinuxhyph
   --enable-evolution2

Some comments about configure logs:
# checking whether to enable fontconfig support... no
Using fontconfig is not supported on Mac OS X.
<<
DescUsage: <<
To start OpenOffice.org, type "soffice" on your terminal,
or double-click "OpenOffice.org 2.0.app" icon located at /Applications/Fink .

To use GTK+ look and feel,
set SAL_USE_VCLPLUGIN environmental variable to "gtk".
normally this is done by rewriting %p/bin/soffice startup script.

To update fonts, execute %p/sbin/update-ooo-fonts.
<<
SplitOff: <<
  Package: %N-af
  Description: Language Pack(af) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff af af %p %d %i %N
<<

SplitOff2: <<
  Package: %N-ar
  Description: Language Pack(ar) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff ar ar %p %d %i %N
<<

SplitOff3: <<
  Package: %N-be-by
  Description: Language Pack(be-BY) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff be-by be-BY %p %d %i %N
<<

SplitOff4: <<
  Package: %N-bg
  Description: Language Pack(bg) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff bg bg %p %d %i %N
<<

SplitOff5: <<
  Package: %N-bn
  Description: Language Pack(bn) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff bn bn %p %d %i %N
<<

SplitOff6: <<
  Package: %N-bn-bd
  Description: Language Pack(bn-BD) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff bn-bd bn-BD %p %d %i %N
<<

SplitOff7: <<
  Package: %N-bn-in
  Description: Language Pack(bn-IN) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff bn-in bn-IN %p %d %i %N
<<

SplitOff8: <<
  Package: %N-br
  Description: Language Pack(br) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff br br %p %d %i %N
<<

SplitOff9: <<
  Package: %N-bs
  Description: Language Pack(bs) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff bs bs %p %d %i %N
<<

SplitOff10: <<
  Package: %N-ca
  Description: Language Pack(ca) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff ca ca %p %d %i %N
<<

SplitOff11: <<
  Package: %N-cs
  Description: Language Pack(cs) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff cs cs %p %d %i %N
<<

SplitOff12: <<
  Package: %N-cy
  Description: Language Pack(cy) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff cy cy %p %d %i %N
<<

SplitOff13: <<
  Package: %N-da
  Description: Language Pack(da) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff da da %p %d %i %N
<<

SplitOff14: <<
  Package: %N-de
  Description: Language Pack(de) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff de de %p %d %i %N
<<

SplitOff15: <<
  Package: %N-el
  Description: Language Pack(el) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff el el %p %d %i %N
<<

SplitOff16: <<
  Package: %N-en-gb
  Description: Language Pack(en-GB) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff en-gb en-GB %p %d %i %N
<<

SplitOff17: <<
  Package: %N-en-za
  Description: Language Pack(en-ZA) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff en-za en-ZA %p %d %i %N
<<

SplitOff18: <<
  Package: %N-eo
  Description: Language Pack(eo) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff eo eo %p %d %i %N
<<

SplitOff19: <<
  Package: %N-es
  Description: Language Pack(es) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff es es %p %d %i %N
<<

SplitOff20: <<
  Package: %N-et
  Description: Language Pack(et) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff et et %p %d %i %N
<<

SplitOff21: <<
  Package: %N-eu
  Description: Language Pack(eu) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff eu eu %p %d %i %N
<<

SplitOff22: <<
  Package: %N-fa
  Description: Language Pack(fa) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff fa fa %p %d %i %N
<<

SplitOff23: <<
  Package: %N-fi
  Description: Language Pack(fi) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff fi fi %p %d %i %N
<<

SplitOff24: <<
  Package: %N-fr
  Description: Language Pack(fr) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff fr fr %p %d %i %N
<<

SplitOff25: <<
  Package: %N-ga
  Description: Language Pack(ga) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff ga ga %p %d %i %N
<<

SplitOff26: <<
  Package: %N-gl
  Description: Language Pack(gl) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff gl gl %p %d %i %N
<<

SplitOff27: <<
  Package: %N-gu-in
  Description: Language Pack(gu-IN) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff gu-in gu-IN %p %d %i %N
<<

SplitOff28: <<
  Package: %N-he
  Description: Language Pack(he) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff he he %p %d %i %N
<<

SplitOff29: <<
  Package: %N-hi-in
  Description: Language Pack(hi-IN) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff hi-in hi-IN %p %d %i %N
<<

SplitOff30: <<
  Package: %N-hr
  Description: Language Pack(hr) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff hr hr %p %d %i %N
<<

SplitOff31: <<
  Package: %N-hu
  Description: Language Pack(hu) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff hu hu %p %d %i %N
<<

SplitOff32: <<
  Package: %N-it
  Description: Language Pack(it) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff it it %p %d %i %N
<<

SplitOff33: <<
  Package: %N-ja
  Description: Language Pack(ja) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff ja ja %p %d %i %N
<<

SplitOff34: <<
  Package: %N-km
  Description: Language Pack(km) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff km km %p %d %i %N
<<

SplitOff35: <<
  Package: %N-kn-in
  Description: Language Pack(kn-IN) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff kn-in kn-IN %p %d %i %N
<<

SplitOff36: <<
  Package: %N-ko
  Description: Language Pack(ko) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff ko ko %p %d %i %N
<<

SplitOff37: <<
  Package: %N-lo
  Description: Language Pack(lo) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff lo lo %p %d %i %N
<<

SplitOff38: <<
  Package: %N-lt
  Description: Language Pack(lt) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff lt lt %p %d %i %N
<<

SplitOff39: <<
  Package: %N-lv
  Description: Language Pack(lv) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff lv lv %p %d %i %N
<<

SplitOff40: <<
  Package: %N-mk
  Description: Language Pack(mk) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff mk mk %p %d %i %N
<<

SplitOff41: <<
  Package: %N-ms
  Description: Language Pack(ms) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff ms ms %p %d %i %N
<<

SplitOff42: <<
  Package: %N-nb
  Description: Language Pack(nb) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff nb nb %p %d %i %N
<<

SplitOff43: <<
  Package: %N-ne
  Description: Language Pack(ne) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff ne ne %p %d %i %N
<<

SplitOff44: <<
  Package: %N-nl
  Description: Language Pack(nl) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff nl nl %p %d %i %N
<<

SplitOff45: <<
  Package: %N-nn
  Description: Language Pack(nn) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff nn nn %p %d %i %N
<<

SplitOff46: <<
  Package: %N-nr
  Description: Language Pack(nr) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff nr nr %p %d %i %N
<<

SplitOff47: <<
  Package: %N-ns
  Description: Language Pack(ns) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff ns ns %p %d %i %N
<<

SplitOff48: <<
  Package: %N-pa-in
  Description: Language Pack(pa-IN) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff pa-in pa-IN %p %d %i %N
<<

SplitOff49: <<
  Package: %N-pl
  Description: Language Pack(pl) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff pl pl %p %d %i %N
<<

SplitOff50: <<
  Package: %N-pt
  Description: Language Pack(pt) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff pt pt %p %d %i %N
<<

SplitOff51: <<
  Package: %N-pt-br
  Description: Language Pack(pt-BR) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff pt-br pt-BR %p %d %i %N
<<

SplitOff52: <<
  Package: %N-ru
  Description: Language Pack(ru) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff ru ru %p %d %i %N
<<

SplitOff53: <<
  Package: %N-rw
  Description: Language Pack(rw) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff rw rw %p %d %i %N
<<

SplitOff54: <<
  Package: %N-sh-yu
  Description: Language Pack(sh-YU) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff sh-yu sh-YU %p %d %i %N
<<

SplitOff55: <<
  Package: %N-sk
  Description: Language Pack(sk) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff sk sk %p %d %i %N
<<

SplitOff56: <<
  Package: %N-sl
  Description: Language Pack(sl) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff sl sl %p %d %i %N
<<

SplitOff57: <<
  Package: %N-sr-cs
  Description: Language Pack(sr-CS) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff sr-cs sr-CS %p %d %i %N
<<

SplitOff58: <<
  Package: %N-ss
  Description: Language Pack(ss) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff ss ss %p %d %i %N
<<

SplitOff59: <<
  Package: %N-st
  Description: Language Pack(st) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff st st %p %d %i %N
<<

SplitOff60: <<
  Package: %N-sv
  Description: Language Pack(sv) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff sv sv %p %d %i %N
<<

SplitOff61: <<
  Package: %N-sw
  Description: Language Pack(sw) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff sw sw %p %d %i %N
<<

SplitOff62: <<
  Package: %N-sw-tz
  Description: Language Pack(sw-TZ) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff sw-tz sw-TZ %p %d %i %N
<<

SplitOff63: <<
  Package: %N-sx
  Description: Language Pack(sx) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff sx sx %p %d %i %N
<<

SplitOff64: <<
  Package: %N-ta-in
  Description: Language Pack(ta-IN) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff ta-in ta-IN %p %d %i %N
<<

SplitOff65: <<
  Package: %N-th
  Description: Language Pack(th) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff th th %p %d %i %N
<<

SplitOff66: <<
  Package: %N-tn
  Description: Language Pack(tn) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff tn tn %p %d %i %N
<<

SplitOff67: <<
  Package: %N-tr
  Description: Language Pack(tr) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff tr tr %p %d %i %N
<<

SplitOff68: <<
  Package: %N-ts
  Description: Language Pack(ts) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff ts ts %p %d %i %N
<<

SplitOff69: <<
  Package: %N-ve
  Description: Language Pack(ve) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff ve ve %p %d %i %N
<<

SplitOff70: <<
  Package: %N-vi
  Description: Language Pack(vi) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff vi vi %p %d %i %N
<<

SplitOff71: <<
  Package: %N-xh
  Description: Language Pack(xh) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff xh xh %p %d %i %N
<<

SplitOff72: <<
  Package: %N-zh-cn
  Description: Language Pack(zh-CN) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff zh-cn zh-CN %p %d %i %N
<<

SplitOff73: <<
  Package: %N-zh-tw
  Description: Language Pack(zh-TW) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff zh-tw zh-TW %p %d %i %N
<<

SplitOff74: <<
  Package: %N-zu
  Description: Language Pack(zu) for OpenOffice.org
  Depends: %N (= %v-%r)
  InstallScript: ./languagepack-splitoff zu zu %p %d %i %N
<<

