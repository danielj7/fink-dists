Package: joe
Version: 3.5
Revision: 1002
Description: User friendly full screen text editor
License: GPL
Maintainer: Andreas Gockel <fink-joe@unixforge.de>
Depends: libncurses5-shlibs (>= 5.4-20041023-1006) | libncursesw5-shlibs (>= 5.4-20041023-1001)
BuildDepends: libncurses5 (>= 5.4-20041023-1006) | libncursesw5 (>= 5.4-20041023-1001)
Suggests: ispell | aspell
Source: mirror:sourceforge:%n-editor/%n-%v.tar.gz
Source-MD5: 9bdffecce7ef910feaa06452d48843de
Source2: http://cvsweb.allbsd.org/cvsweb.cgi/~checkout~/contrib/code/jupp/jupprc?rev=1.15&content-type=text/plain&cvsroot=mirbsd
Source2Rename: %n-3_1jupp9
Source2-MD5: 60d584e5ec84a5e16e3272ef9796de0d
Patch: %n.patch
ConfigureParams: --mandir=%p/share/man --sysconfdir=%p/etc --disable-dependency-tracking
InstallScript: <<
 make install DESTDIR=%d
 /bin/rm %i/bin/termidx
 /bin/ln -s %n %i/bin/jupp
 /usr/bin/install -c -m 444 ../%n-3_1jupp9 %i/etc/%n/jupprc
 /usr/bin/gzip -9 %i/share/man/man1/%n.1
 /usr/bin/gzip -9 %i/share/man/ru/man1/%n.1
 for i in jmacs jstar r%n jpico jupp; do \
  /bin/ln -s %n.1.gz %i/share/man/man1/${i}.1.gz; \
 done
 for i in COPYING TODO docs/help-system.html; do \
  /usr/bin/install -c -m 444 ${i} %i/share/doc/%n/; \
 done
 for i in ChangeLog COPYING HACKING help-system.html HINTS LIST NEWS README TODO; do \
  /usr/bin/gzip -9 %i/share/doc/%n/${i}; \
 done
<<
PostInstScript: <<
 if [ "$1" = "configure" ]; then
  update-alternatives --install %p/bin/editor editor %p/bin/%n 70 \
    --slave %p/share/man/man1/editor.1.gz editor.1.gz %p/share/man/man1/%n.1.gz
  update-alternatives --install %p/etc/%n/editorrc editorrc %p/etc/%n/%nrc 70
  update-alternatives --install %p/bin/editor editor %p/bin/jupp 50 \
    --slave %p/share/man/man1/editor.1.gz editor.1.gz %p/share/man/man1/jupp.1.gz
  update-alternatives --install %p/etc/%n/editorrc editorrc %p/etc/%n/jupprc 50
  update-alternatives --install %p/bin/editor editor %p/bin/jmacs 50 \
    --slave %p/share/man/man1/editor.1.gz editor.1.gz %p/share/man/man1/jmacs.1.gz
  update-alternatives --install %p/etc/%n/editorrc editorrc %p/etc/%n/jmacsrc 50
  update-alternatives --install %p/bin/editor editor %p/bin/jstar 50 \
    --slave %p/share/man/man1/editor.1.gz editor.1.gz %p/share/man/man1/jstar.1.gz
  update-alternatives --install %p/etc/%n/editorrc editorrc %p/etc/%n/jstarrc 50
  update-alternatives --install %p/bin/editor editor %p/bin/jpico 50 \
    --slave %p/share/man/man1/editor.1.gz editor.1.gz %p/share/man/man1/jpico.1.gz
  update-alternatives --install %p/etc/%n/editorrc editorrc %p/etc/%n/jpicorc 50
  update-alternatives --install %p/bin/editor editor %p/bin/r%n 25 \
    --slave %p/share/man/man1/editor.1.gz editor.1.gz %p/share/man/man1/r%n.1.gz
  update-alternatives --install %p/etc/%n/editorrc editorrc %p/etc/%n/r%nrc 25
 fi
<<
PreRmScript: <<
 if [ "$1" != "upgrade" ]; then
  update-alternatives --remove editor %p/bin/%n
  update-alternatives --remove editorrc %p/etc/%n/%nrc
  update-alternatives --remove editor %p/bin/jupp
  update-alternatives --remove editorrc %p/etc/%n/jupprc
  update-alternatives --remove editor %p/bin/jmacs
  update-alternatives --remove editorrc %p/etc/%n/jmacsrc
  update-alternatives --remove editor %p/bin/jstar
  update-alternatives --remove editorrc %p/etc/%n/jstarrc
  update-alternatives --remove editor %p/bin/jpico
  update-alternatives --remove editorrc %p/etc/%n/jpicorc
  update-alternatives --remove editor %p/bin/r%n
  update-alternatives --remove editorrc %p/etc/%n/r%nrc
 fi
<<
PostRmScript: <<
 if [ "$1" = "purge" ]; then
  rm -rf %p/etc/%n
 fi
<<
ConfFiles: <<
 %p/etc/%n/charmaps/klingon %p/etc/%n/jmacsrc %p/etc/%n/%nrc %p/etc/%n/jpicorc
 %p/etc/%n/jstarrc %p/etc/%n/jupprc %p/etc/%n/r%nrc %p/etc/%n/syntax/4gl.jsf
 %p/etc/%n/syntax/ada.jsf %p/etc/%n/syntax/asm.jsf %p/etc/%n/syntax/awk.jsf
 %p/etc/%n/syntax/c.jsf %p/etc/%n/syntax/cobol.jsf %p/etc/%n/syntax/conf.jsf
 %p/etc/%n/syntax/csh.jsf %p/etc/%n/syntax/css.jsf %p/etc/%n/syntax/diff.jsf
 %p/etc/%n/syntax/fortran.jsf %p/etc/%n/syntax/html.jsf %p/etc/%n/syntax/java.jsf
 %p/etc/%n/syntax/lisp.jsf %p/etc/%n/syntax/mail.jsf %p/etc/%n/syntax/mason.jsf
 %p/etc/%n/syntax/ocaml.jsf %p/etc/%n/syntax/pascal.jsf %p/etc/%n/syntax/perl.jsf
 %p/etc/%n/syntax/php.jsf %p/etc/%n/syntax/ps.jsf %p/etc/%n/syntax/python.jsf
 %p/etc/%n/syntax/sed.jsf %p/etc/%n/syntax/sh.jsf %p/etc/%n/syntax/sml.jsf
 %p/etc/%n/syntax/sql.jsf %p/etc/%n/syntax/tcl.jsf %p/etc/%n/syntax/tex.jsf
 %p/etc/%n/syntax/verilog.jsf %p/etc/%n/syntax/vhdl.jsf %p/etc/%n/syntax/xml.jsf
<<
Homepage: http://sourceforge.net/projects/joe-editor
DescDetail: <<
 Joe, the Joe's Own Editor, has the feel of most PC text editors: the key
 sequences are reminiscent of WordStar and Turbo C editors, but the feature
 set is much larger than of those.  Joe has all of the features a Unix
 user should expect: full use of termcap/terminfo, complete VI-style Unix
 integration, a powerful configuration file, and regular expression search
 system.  It also has six help reference cards which are always available,
 and an intuitive, simple, and well thought-out user interface.
 .
 Joe has a great screen update optimization algorithm, multiple windows
 (through/between which you can scroll) and lacks the confusing notion of
 named buffers.  It has command history, TAB expansion in file selection
 menus, undo and redo functions, (un)indenting and paragraph formatting,
 filtering highlighted blocks through any external Unix command, editing
 a pipe into or out of a command, and block move, copy, delete or filter.
 .
 Through simple QEdit-style configuration files, Joe can be set up to
 emulate editors such as Pico and Emacs, along with a complete imitation
 of WordStar, and a restricted mode version (lets you edit only the files
 specified on the command line).  Joe also has a deferred screen update to
 handle type-ahead, and it ensures that deferral is not bypassed by tty
 buffering.  It's usable even at 2400 baud, and it will work on any
 kind of sane terminal.
<<
DescUsage: <<
 Uses update-alternatives in case users wants to change between
 default editor.
<<
DescPackaging: <<
 Patched Makefile to get docs in the right place.
 Since %n doesn't use termcap (but terminfo), termidx can be removed.
 Fixing Segfault when using execmd with empty command.
 .
 Previous versions by Christoph Pfisterer and Matt Stephenson
<<

