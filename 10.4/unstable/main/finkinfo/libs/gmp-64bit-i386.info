Package: gmp-64bit
Architecture: i386
Version: 4.2.1
Revision: 1007
GCC: 4.0
Source: mirror:gnu:gmp/gmp-%v.tar.gz
Source-MD5: 5603ae75bc0cb1b21ad0187308a23c84
Source2: http://www.math.jmu.edu/~martin/gmp-4.2.1-core2-port.tar.gz
Source2-MD5: 0e0dcd8fc12461a54947c522635287e8
Depends: %N-shlibs (= %v-%r), libgmpxx4-64bit-shlibs (= %v-%r), 64bit-cpu
BuildDepends: fink (>= 0.24.24), gcc4.0 (>= 4.0.1-1)
Conflicts: gmp, gmp-64bit
Replaces: gmp, gmp-64bit
NoSetMAKEFLAGS: true
SetMAKEFLAGS: -j1
NoSetLDFLAGS: true
SetLDFlags: -L%p/lib/x86_64 -L%p/lib
ConfigureParams: --infodir='${prefix}/share/info' --enable-cxx --libdir='${prefix}/lib/x86_64'
CompileScript: <<
#! /bin/sh -ev
# Using Jason Martin's core2 port on intel.
# On powerpc, "make check" fails.
case "%m" in
i386) export CFLAGS="-m64 -fast"; ./configure  %c --build=amd64-apple-darwin; cp ../gmp-4.2.1-core2-port/amd64call.asm tests; cp ../gmp-4.2.1-core2-port/add_n.asm ../gmp-4.2.1-core2-port/sub_n.asm ../gmp-4.2.1-core2-port/lahf_sahf_test.sh mpn; make; make check ;;
powerpc) ABI=mode64  ./configure %c; make ;;
esac
<<
InstallScript: <<
 make install prefix=%i
 ranlib %i/lib/x86_64/libgmp.a
 ranlib %i/lib/x86_64/libgmpxx.a
<<
DocFiles: COPYING COPYING.LIB README ../gmp-4.2.1-core2-port/README:README.core2-port
InfoDocs: gmp.info
BuildDependsOnly: True
SplitOff: <<
  Package: %N-shlibs
  Replaces: gmp (<< 4.0.1-1)
  Files: lib/x86_64/libgmp.*.dylib
  Shlibs: <<
    %p/lib/x86_64/libgmp.3.dylib 8.0.0 %n (>= 4.2.1-1) 64
  <<
  Description: Shared library for gmp package
  DocFiles: doc/* AUTHORS COPYING COPYING.LIB ChangeLog INSTALL NEWS README ../gmp-4.2.1-core2-port/README:README.core2-port
<<
SplitOff2: <<
  Package: libgmpxx4-64bit-shlibs
  Replaces: gmp (<< 4.0.1-1), gmp-shlibs (<< 4.1.4-1)
  Files: lib/x86_64/libgmpxx.*.dylib
  Shlibs: <<
    %p/lib/x86_64/libgmpxx.3.dylib 5.0.0 %n (>= 4.2.1-1) 64
  <<
  Description: Shared C++ library for gmp package
  DocFiles: doc/* AUTHORS COPYING COPYING.LIB ChangeLog INSTALL NEWS README ../gmp-4.2.1-core2-port/README:README.core2-port
<<
License: LGPL
Description: GNU multiple precision arithmetic library
DescDetail: <<
 GNU MP is a portable library written in C for arbitrary precision 
 arithmetic on integers, rational numbers, and floating-point numbers.
<<
DescPort: <<
 Patch from Ben Hines to build libgmpxx, as of vers. 4.1-2.  As of vers.
 4.1.4-1, libgmpxx gets its own splitoff.

 As of vers. 4.2, mpfr is a separate library, available in fink as the 
 libmpfr1 package.
<<
Maintainer: Dave Morrison <drm@finkproject.org>
Homepage: http://www.swox.com/gmp/
