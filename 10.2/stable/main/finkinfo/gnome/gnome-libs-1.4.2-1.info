Package: gnome-libs
Version: 1.4.2
Revision: 1
BuildDepends: audiofile, glib, gtk+, libjpeg, libpng, libtiff, netpbm, db3 (>= 3.3.11-8), gtk-doc (>= 0.9-4)
Depends: %N-shlibs (= %v-%r), db3-shlibs
Source: mirror:gnome:sources/%n/1.4/%n-%v.tar.bz2
Source-MD5: 6111e91b143a90afb30f7a8c1e6cbbd6
Patch: %f.patch
ConfFiles: <<
  %p/etc/mime-magic
  %p/etc/mime-magic.dat
  %p/etc/paper.config
  %p/etc/sound/events/gnome.soundlist
  %p/etc/sound/events/gtk-events.soundlist
<<
SetCPPFLAGS: -no-cpp-precomp
ConfigureParams: --disable-test-gnome --mandir=%p/share/man
InstallScript: <<
  make install DESTDIR=%d docdir=%p/share/doc/%n
  (cd %i/share/pixmaps; mv gnome-default-dlg.png gnome-default-dlg.png.%n)
  (cd %i/share/pixmaps; mv gnome-error.png gnome-error.png.%n)
  (cd %i/share/pixmaps; mv gnome-info.png gnome-info.png.%n)
  (cd %i/share/pixmaps; mv gnome-question.png gnome-question.png.%n)
  (cd %i/share/pixmaps; mv gnome-warning.png gnome-warning.png.%n)
<<
SplitOff: <<
  Package: %N-shlibs
  Depends: imlib, orbit (>= 0.5.12), esound, passwd (>= 20011007-1)
  Replaces: %N (<= 1.4.1.4-2)
  Files: lib/lib*.*.dylib 
  Shlibs: <<
    %p/lib/libart_lgpl.2.dylib 5.0.0 %n (>= 1.4.2-1)
    %p/lib/libgnome.32.dylib 37.0.0 %n (>= 1.4.2-1)
    %p/lib/libgnomesupport.0.dylib 1.0.0 %n (>= 1.4.2-1)
    %p/lib/libgnomeui.32.dylib 47.0.0 %n (>= 1.4.2-1)
    %p/lib/libgnorba.27.dylib 29.0.0 %n (>= 1.4.2-1)
    %p/lib/libgnorbagtk.0.dylib 1.0.0 %n (>= 1.4.2-1)
    %p/lib/libgtkxmhtml.1.dylib 2.0.0 %n (>= 1.4.2-1)
    %p/lib/libzvt.2.dylib 6.0.0 %n (>= 1.4.2-1)
  <<
  DocFiles: AUTHORS COPYING* ChangeLog HACKING NEWS README
<<
SplitOff2: <<
  Package: %N-dev
  BuildDependsOnly: True
  Depends: %N-shlibs (= %v-%r)
  Replaces: %N (<= 1.4.1.7-2)
  Files: include lib/lib*.dylib lib/lib*.a lib/lib*.la lib/*.sh share/aclocal
  DocFiles: AUTHORS COPYING* ChangeLog HACKING NEWS README
<<
PostInstScript: <<
  update-alternatives --install %p/share/pixmaps/gnome-default-dlg.png gnome-default-dlg.png %p/share/pixmaps/gnome-default-dlg.png.%n 30
  update-alternatives --install %p/share/pixmaps/gnome-error.png gnome-error.png %p/share/pixmaps/gnome-error.png.%n 30
  update-alternatives --install %p/share/pixmaps/gnome-info.png gnome-info.png %p/share/pixmaps/gnome-info.png.%n 30
  update-alternatives --install %p/share/pixmaps/gnome-question.png gnome-question.png %p/share/pixmaps/gnome-question.png.%n 30
  update-alternatives --install %p/share/pixmaps/gnome-warning.png gnome-warning.png %p/share/pixmaps/gnome-warning.png.%n 30
<<
PreRmScript: <<
if [ upgrade != "$1" ]; then
  update-alternatives --remove gnome-default-dlg.png %p/share/pixmaps/gnome-default-dlg.png.%n
  update-alternatives --remove gnome-error.png %p/share/pixmaps/gnome-error.png.%n
  update-alternatives --remove gnome-info.png %p/share/pixmaps/gnome-info.png.%n
  update-alternatives --remove gnome-question.png %p/share/pixmaps/gnome-question.png.%n
  update-alternatives --remove gnome-warning.png %p/share/pixmaps/gnome-warning.png.%n
fi
<<
DocFiles: AUTHORS COPYING* ChangeLog HACKING NEWS README
Description: Base libraries for GNOME
DescPort: <<
Problems solved by the patch:
 - gtkxmhtml uses strtok_r() and needs -lgnomesupport.
 - gnome-pty-helper tries to change resource size in sanity_check().
   when current limit is too small.
 - gnome-config --cflags does not return -I${includedir}.
<<
License: GPL/LGPL
Homepage: http://www.gnome.org/
Maintainer: Masanori Sekino <msek@users.sourceforge.net>
