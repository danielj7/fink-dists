# DISCLAIMER: Max Horn is the sole maintainer of this package.
# Please DO NOT MAKE MODIFICATIONS without informing the maintainer.
# Preferably, send a patch to me instead of making changes yourself!
# If that is not possible due to extra urgency, at least send me a mail.
#
# Explanation: I am sick and tired of getting back to my packages and
# discovering that people have messed with it. I am then forced to
# retrace their steps, find out who, when and why did make a certain
# change etc. -- i.e. it makes my life as maintainer harder.
# Furthermore, as maintainer I am responsible for problems caused by my
# packages. But I am not willing to take responsibility for something I
# did not do. In particular, for changes that other people introduced
# behind my back, no matter how good and noble their intentions were. As
# such, I may see myself forced to drop responsibility for (and hence,
# maintainership of) the affected package.

Package: xchat
Version: 2.8.8
Revision: 1
Maintainer: Max Horn <max@quendi.de>
BuildDepends: <<
  system-openssl-dev,
  cairo (>= 1.6-1),
  expat1,
  glitz,
  fontconfig2-dev (>= 2.4.1-1),
  freetype219 (>= 2.3.5-1),
  xft2-dev,
  x11-dev,
  pkgconfig (>= 0.21-1),
  gtk+2-dev (>= 2.12.0-1),
  gtk+2 (>= 2.12.0-1),
  atk1 (>= 1.20.0-1),
  pango1-xft2-ft219-dev (>= 1.18.4-4),
  pixman (>= 0.10.0-1),
  glib2-dev (>= 2.14.0-1),
  gtkspell2-dev (>= 2.0.11-1004),
  enchant1-dev,
  aspell-dev,
  dbus-dev (>= 1.0-1),
  tcltk,
  tcltk-dev,
  libgettext8-dev,
  libiconv-dev,
  fink (>= 0.24.12-1)
<<
Depends: <<
  gtk+2-shlibs (>= 2.12.0-1),
  gtkspell2-shlibs (>= 2.0.11-1004),
  pango1-xft2-ft219 (>= 1.18.4-4),
  dbus (>= 1.0-1),
  tcltk-shlibs,
  python25,
  libgettext8-shlibs
<<
Conflicts: xchat-ssl (<< 2.6.8-1022)
Replaces: xchat-ssl (<< 2.6.8-1022)
Source: http://xchat.org/files/source/2.8/xchat-%v.tar.bz2
Source-MD5: 6775c44f38e84d06c06c336b32c4a452
PatchFile: %n.patch
PatchFile-MD5: 731c5e62819224c4627b9fea2905ab15
ConfigureParams: <<
  --enable-openssl \
  --enable-hebrew \
  --enable-tcl=%p/lib \
  --enable-ipv6 \
  --enable-spell=gtkspell \
  --disable-xlib \
  --disable-dependency-tracking \
  --disable-mmx \
  PKG_CONFIG_PATH="%p/lib/pango-ft219/lib/pkgconfig:%p/lib/fontconfig2/lib/pkgconfig:%p/lib/freetype219/lib/pkgconfig:$PKG_CONFIG_PATH" FREETYPE_CONFIG=%p/lib/freetype219/bin/freetype-config
<<
SetCPPFLAGS: -I%p/lib/system-openssl/include
SetLDFLAGS: -L%p/lib/system-openssl/lib
CompileScript: <<
  pythonpath=%p/bin/python2.5 ./configure %c
  make
<<
InstallScript: make install DESTDIR=%d
DocFiles: AUTHORS COPYING ChangeLog README faq.html
Description: Graphical IRC client
DescDetail: <<
XChat is a graphical IRC client for UNIX operating systems (I.R.C. is Internet
Relay Chat, see http://irchelp.org for more information about IRC in general).
It runs under the X Window System and uses the GTK+2 toolkit.
<<
DescPort: <<
No -lutil is available nor required for the python plugin; thus I removed it
(and the -lpthread), which fixes the python plugin.
<<
DescPackaging: <<
Force python interp to avoid "first 'python' in PATH" dependency mess.

The bdep on enchant1-dev is not a real bdep, as xchat does not use enchant
directly; but due to some .la file silliness (fixed in the late unstable dpkg),
we have to bdep on it anyway. Once the new dpkg moves to stable, we should
get rid of this bdep.
<<
Homepage: http://www.xchat.org
License: GPL
#
SplitOff: <<
  Package: %N-ssl
  Depends: %N (= %v-%r), fink-obsolete-packages
  InstallScript: <<
    mkdir -p %i/share/doc/installed-packages
    touch %i/share/doc/installed-packages/%n
  <<
  Description: Placeholder package to update to unified %N. (OBSOLETE)
<<
