Package: opensp3
Version: 1.5
Revision: 15
Maintainer: Peter O'Gorman <peter@pogma.com>
Source: mirror:sourceforge:openjade/OpenSP-%v.tar.gz
Patch: %n.patch
PatchScript: <<
for i in `grep -rl '^#pragma implementation' .` ; do perl -pi -e 's/^#pragma implementation//' $i; done
for i in `grep -rl '^#pragma interface' .` ; do perl -pi -e 's/^#pragma interface//' $i ; done
<<
Source-MD5: 87f56e79ae0c20397f4207d61d154303
NoSetLDFlags: true
SetLibs: -L%p/lib -lintl
GCC: 3.3
Depends: %N-shlibs (= %v-%r)
BuildDepends: gettext-dev, gettext-bin, libiconv-dev, gcc3.3
Replaces: openjade (<< 1.3.2-1), opensp, opensp4
Conflicts: opensp, opensp4
ConfigureParams: --enable-http --disable-dependency-tracking --enable-default-catalog=%p/share/sgml/catalog --mandir=%p/share/man --datadir=%p/share
CompileScript: <<
  export CC=gcc-3.3; export CXX=g++-3.3; ./configure %c
  make CC=gcc-3.3 CXX=g++-3.3
<<
InstallScript: <<
 make install DESTDIR=%d
 rm -f %i/lib/charset.alias
 rm -f %i/share/locale/locale.alias
<<

Splitoff: <<
Package: %N-shlibs
Replaces: openjade (<< 1.3.2-1), opensp
Conflicts: opensp
Description: Shared Libraries for opensp3
Files: lib/libosp.3.dylib lib/libosp.3.0.0.dylib
Shlibs: <<
  %p/lib/libosp.3.dylib 4.0.0 %n (>= 1.5-13)
<<
DocFiles: COPYING
<<

Splitoff2: <<
Package: %N-dev
BuildDependsOnly: true
Replaces: openjade (<< 1.3.2-1), opensp, %N (<< 1.5-15), opensp4-dev
Conflicts: opensp, opensp4-dev
Depends: %N-shlibs (= %v-%r), %N (=%v-%r)
Description: Development package for opensp3
Files: lib include
DocFiles: COPYING
<<

DocFiles: COPYING NEWS README
Description: SGML parser
DescDetail: <<
<<
DescPackaging: <<
<<
DescPort: <<
* work around template instantiation problem (thanks, Matthias)
* some other minor problems fixed
* hacks for gcc3 and more
<<
License: BSD
Homepage: http://openjade.sourceforge.net/
