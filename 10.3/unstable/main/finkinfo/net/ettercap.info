Info2: <<
Package: ettercap%type_pkg[-gtk]
Version: 0.7.2
Revision: 4
Maintainer: Jeremy Higgs <fink@higgs-family.net>
Type: -gtk (boolean)
Depends: <<
libiconv,
libpoll-shlibs, 
libtool14-shlibs, 
libncurses5-shlibs,
libpcap-shlibs ( >= 0.8.1 ), 
pcre-shlibs ( >= 4.2 ), 
(%type_raw[-gtk] = -gtk) glib2-shlibs (>= 2.2.2),
(%type_raw[-gtk] = -gtk) gtk+2-shlibs (>= 2.2.2),
(%type_raw[-gtk] = -gtk) atk1-shlibs (>= 1.2.4),
(%type_raw[-gtk] = -gtk) pango1-xft2-shlibs (>= 1.2.3)
<<
BuildDepends: <<
gcc3.3,
fink (>= 0.19.2-1), 
gettext-dev,
gettext-bin,
gettext-tools,
libiconv-dev,
cctools (>= 446-1), 
libncurses5,
pcre, 
libpcap ( >= 0.8.1 ),
libnet1.1 ( >= 1.1.2.1 ),
(%type_raw[-gtk] = -gtk) glib2-dev (>= 2.2.2),
(%type_raw[-gtk] = -gtk) gtk+2-dev (>= 2.2.2),
(%type_raw[-gtk] = -gtk) atk1 (>= 1.2.4),
(%type_raw[-gtk] = -gtk) pango1-xft2-dev (>= 1.2.3),
(%type_raw[-gtk] = -gtk) pkgconfig (>= 0.15.0)
<<
Conflicts: <<
ettercap,
ettercap-ssl,
ettercap-ssl-gtk,
ettercap-gtk
<<
Replaces: <<
ettercap,
ettercap-ssl,
ettercap-ssl-gtk,
ettercap-gtk
<<
Source: mirror:sourceforge:%{Ni}/%{Ni}-NG-%v.tar.gz
Source-MD5: 96c85eb0acb3a1b28823012c146239b9
SourceDirectory: %{Ni}-NG-%v
PatchScript: sed 's|@FINK_PREFIX@|%p|g' < %a/%{Ni}.patch | patch -p1
ConfigureParams: --mandir=%p/share/man --with-libpcre=%p --with-libnet=%p --with-libpcap=%p --with-libncurses=%p --enable-plugins --without-openssl
SetCC: gcc-3.3
SetCXX: g++-3.3
CompileScript: <<
  #!/bin/bash -ev
  if [ "%type_raw[-gtk]" == "-gtk" ]; then
	./configure %c --enable-gtk
  else
	./configure %c --disable-gtk
  fi
  make
<<
InstallScript: <<
make install DESTDIR=%d
#chmod +x %i/sbin/%n
mkdir -p %i/etc/%{Ni}
mv %i/share/%{Ni}/* %i/etc/%{Ni}
rm -rf %i/share/%{Ni}
ln -s %p/etc/%{Ni} %i/share/%{Ni}
<<
ConfFiles: <<
%p/etc/etter.conf
%p/etc/%{Ni}/etter.dns
%p/etc/%{Ni}/etter.fields
%p/etc/%{Ni}/etter.filter
%p/etc/%{Ni}/etter.finger.mac
%p/etc/%{Ni}/etter.finger.os
%p/etc/%{Ni}/etter.mime
%p/etc/%{Ni}/etter.services
%p/etc/%{Ni}/etter.ssl.crt
%p/etc/%{Ni}/etterfilter.cnt
%p/etc/%{Ni}/etterfilter.tbl
<<
PreInstScript: <<
if [ -d %p/share/ettercap ] && [ ! -L %p/share/ettercap ]; then
  sudo rmdir %p/share/ettercap
fi
<<
Description: Powerful net sniffer (without OpenSSL)
DescDetail: <<
Ettercap is a suite for man in the middle attacks on LAN.
It features sniffing of live connections, content filtering on the
fly and many other interesting tricks.
It supports active and passive dissection of many protocols and
includes many feature for network and host analysis. 
This version does not have OpenSSL support. For a version with OpenSSL,
see the 'ettercap-ssl' package.
<<
DescUsage: <<
Ettercap must be run as root, either through "sudo" or "su -".
Start Ettercap with the -C option to use the curse interface.
<<
DescPackaging: <<
ConfigureParams places manpages in proper directories, enables ncurses 
interface, enables plugins, enables PCRE and disables use of openssl and gtk UI.
InstallScript moves configuration files into own directory under PREFIX/etc, 
and creates symlinks to the previous directory.
Version 0.7.0-1 was updated by Masseboeuf Mathieu <mathieuma@users.sourceforge.net>.
Package has been designed to make use of variant support added in Fink 0.19.2.
<<
DescPort: <<
Patch modifies Makefile.in file to put the plugins in the proper directory.
<<
License: GPL
Homepage: http://ettercap.sourceforge.net/
<<
