diff -Naur libIDL-0.8.2.old/configure libIDL-0.8.2.new/configure
--- libIDL-0.8.2.old/configure	Tue May 27 02:12:17 2003
+++ libIDL-0.8.2.new/configure	Fri Dec  5 00:00:07 2003
@@ -6708,7 +6708,7 @@
       allow_undefined_flag='-undefined suppress'
       ;;
     *) # Darwin 1.3 on
-      allow_undefined_flag='-flat_namespace -undefined suppress'
+      test -z ${LD_TWOLEVEL_NAMESPACE} && allow_undefined_flag='-flat_namespace -undefined suppress'
       ;;
     esac
     # FIXME: Relying on posixy $() will cause problems for
diff -Naur libIDL-0.8.2.old/lexer.l libIDL-0.8.2.new/lexer.l
--- libIDL-0.8.2.old/lexer.l	Sat May 10 00:19:06 2003
+++ libIDL-0.8.2.new/lexer.l	Thu Dec  4 23:56:20 2003
@@ -225,18 +225,30 @@
 <*>{cpp_other}						;
 <*>{whitespace}						;
 {b8_int}						{
+#if defined(__APPLE__)
+	yylval.integer = strtoq (yytext, NULL, 8);
+#else
 	yylval.integer = 0;
 	sscanf (yytext, "%" IDL_LL "o", &yylval.integer);
+#endif
 	tokreturn (TOK_INTEGER);
 }
 {b10_uint}						{
+#if defined(__APPLE__)
+	yylval.integer = strtoq (yytext, NULL, 10);
+#else
 	yylval.integer = 0;
 	sscanf (yytext, "%" IDL_LL "u", &yylval.integer);
+#endif
 	tokreturn (TOK_INTEGER);
 }
 {b16_int}						{
+#if defined(__APPLE__)
+	yylval.integer = strtoq (yytext + 2, NULL, 16);
+#else
 	yylval.integer = 0;
 	sscanf (yytext + 2, "%" IDL_LL "x", &yylval.integer);
+#endif
 	tokreturn (TOK_INTEGER);
 }
 {fixed_lit}						{
diff -Naur libIDL-0.8.2.old/ltmain.sh libIDL-0.8.2.new/ltmain.sh
--- libIDL-0.8.2.old/ltmain.sh	Tue May 27 02:12:13 2003
+++ libIDL-0.8.2.new/ltmain.sh	Thu Dec  4 23:56:20 2003
@@ -2982,6 +2982,11 @@
 	    done
 	    deplibs="$tmp_deplibs"
 	  done
+	  if test "x$verstring" = "x0.0"; then
+            tmp_verstring=
+          else
+            tmp_verstring="$verstring"
+          fi
 	  eval cmds=\"$archive_cmds\"
 	  deplibs="$save_deplibs"
 	fi
