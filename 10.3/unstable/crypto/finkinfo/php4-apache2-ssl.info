Package: php4-apache2-ssl
Version: 4.3.3
Revision: 12
###
Depends: libapache2-ssl-mod-php4 | %N-cgi
BuildDepends: apr-ssl (>= 0.9.4-4), libtool14, gettext-dev, libiconv-dev, gd2, mysql12-dev, postgresql73-ssl-dev, curl-ssl-dev, expat, libmhash (>= 0.8.18-2), libmcve (>= 3.2-1), libmcrypt, libxml2, libxslt, openldap-ssl-dev (>= 2.1.22-3), uw-imap-c-client-ssl (>= 2002d-3), libsablot-dev, ming, t1lib1, pcre (>= 4.3-1), libpng3, apache2-ssl-dev (>= 2.0.47-5), unixodbc2 | unixodbc2-nox, gdbm3, net-snmp-ssl (>= 5.0.7-2), net-snmp-ssl-dev (>= 5.0.7-2), db3, libtiff, pdflib
Replaces: php4-apache2, php4-apache, php4-apache-ssl
Conflicts: php4-apache2, php4-apache, php4-apache-ssl
Provides: php4-ssl
###
CustomMirror: <<
  eur-AR: http://ar.php.net/
  oce-AU: http://au.php.net/
  oce-AU: http://au2.php.net/
  oce-AU: http://au3.php.net/
  eur-AT: http://at.php.net/
  eur-AT: http://at2.php.net/
  eur-BE: http://be.php.net/
  eur-BE: http://be2.php.net/
  sam-BR: http://br.php.net/
  sam-BR: http://br2.php.net/
  nam-CA: http://ca.php.net/
  nam-CA: http://ca2.php.net/
  nam-CA: http://ca3.php.net/
  asi-CN: http://cn.php.net/
  asi-CN: http://cn2.php.net/
  sam-CR: http://cr2.php.net/
  eur-CZ: http://cz.php.net/
  eur-DK: http://dk.php.net/
  eur-DK: http://dk2.php.net/
  eur-FR: http://fr.php.net/
  eur-FR: http://fr2.php.net/
  eur-FR: http://fr3.php.net/
  eur-DE: http://de.php.net/
  eur-DE: http://de2.php.net/
  eur-DE: http://de3.php.net/
  eur-GR: http://gr.php.net/
  eur-GR: http://gr2.php.net/
  eur-HU: http://hu.php.net/
  eur-HU: http://hu2.php.net/
  asi-ID: http://id.php.net/
  eur-IE: http://ie.php.net/
  asi-JP: http://jp.php.net/
  asi-JP: http://jp2.php.net/
  eur-LV: http://lv.php.net/
  nam-MX: http://mx.php.net/
  eur-PL: http://pl.php.net/
  eur-PL: http://pl2.php.net/
  eur-RU: http://ru.php.net/
  eur-RU: http://ru2.php.net/
  eur-SI: http://si.php.net/
  eur-SI: http://si2.php.net/
  eur-SE: http://se.php.net/
  eur-SE: http://se2.php.net/
  eur-CH: http://ch.php.net/
  eur-CH: http://ch2.php.net/
  asi-TW: http://tw.php.net/
  asi-TW: http://tw2.php.net/
  eur-UA: http://ua.php.net/
  eur-UA: http://ua2.php.net/
  eur-UK: http://uk.php.net/
  eur-UK: http://uk2.php.net/
  nam-US: http://us2.php.net/
  nam-US: http://us3.php.net/  
  nam-US: http://us4.php.net/  
  nam-US: http://www.php.net/  
  eur-YU: http://yu.php.net/
<<
###
Source: mirror:custom:distributions/php-%v.tar.bz2
Source-MD5: 1171d96104e2ff2cff9e19789a4a1536
###
PatchScript: <<
  ### Fix for gd/freetype  and to make shared imap module
  sed 's|@FINKPREFIX@|%p|g' < %a/%n.patch | patch -p1
  ### Fix to allow finks xft2 or xfree4.3
  perl -pi -e 's,for i in /usr /usr/local \$PHP_FREETYPE_DIR; do,for i in /usr /usr/local \$PHP_FREETYPE_DIR %p /usr/X11R6; do,g' configure
  ### Fix relink
  perl -pi -e 's,need_relink=yes,need_relink=no,g' ltmain.sh
  ### Fix for Java module
  perl -pi -e 's,\\\$\(JAVA_SHARED_LIBADD\),\\\$\(PHP_FRAMEWORKS\) \\\$\(JAVA_SHARED_LIBADD\),g' configure
  perl -pi -e 's,DL_FETCH_SYMBOL\(dl_handle\, \"JNI_CreateJavaVM\"\),DL_FETCH_SYMBOL\(dl_handle\, \"_JNI_CreateJavaVM_Impl\"\),g' ext/java/java.c
  perl -pi -e 's,DL_FETCH_SYMBOL\(dl_handle\, \"JNI_GetDefaultJavaVMInitArgs\"\),DL_FETCH_SYMBOL\(dl_handle\, \"_JNI_GetDefaultJavaVMInitArgs_Impl\"\),g' ext/java/java.c
<<
### Fix for 10.3 dns stuff & apr & snmp & java
SetCFLAGS: -DBIND_8_COMPAT -I%p/include/apr-0 -I/System/Library/Frameworks/JavaVM.framework/Versions/1.3.1/Headers
### Fix to directly link dlcompat
SetLIBS: -ldl
###
GCC: 3.3
###
DocFiles: <<
  CODING_STANDARDS CREDITS EXTENSIONS NEWS README* LICENSE TODO
  Zend/LICENSE:LICENSE.Zend TSRM/LICENSE:LICENSE.TSRM
<<
###
ConfigureParams: --enable-debug --enable-memory-limit --with-layout=GNU --enable-calendar --disable-sysvsem --disable-sysvshm --enable-track-vars --enable-trans-sid --enable-bcmath --with-bz2=%p --enable-ctype --with-iconv=%p --enable-exif --enable-flatfile --enable-filepro --enable-ftp --with-gettext=%p --enable-mbstring --with-pcre-regex=%p --enable-shmop --enable-sockets --enable-wddx --disable-xml --with-expat-dir=%p --enable-yp --with-zlib --with-kerberos=/usr --with-openssl=%p --without-sybase-ct --with-regex=php --disable-rpath --disable-static --with-exec-dir=%p/lib/php4/libexec --mandir=%i/share/man
<<
###
CompileScript: <<
### Configure for apache2
  if [ -d apache-build ]; then rm -rf apache-build; fi
  mkdir -p apache-build
  mkdir -p apache-build/ext/dba/libcdb
  mkdir -p apache-build/ext/dba/libflatfile
  cd apache-build; ../configure %c --with-apxs2=%p/sbin/apxs --with-config-file-path=%p/etc/php4/apache2 --with-imap-ssl=%p --enable-xslt --with-db3=%p --enable-dba --with-gdbm=%p --enable-dbx --without-mm --with-zlib-dir=/usr --with-mcve=shared,%p --with-curl=shared,%p --with-dom=shared,%p --with-dom-xslt=%p --with-dom-exslt=%p --with-xslt-sablot=%p --with-gd=shared,%p --with-tiff-dir=%p --with-jpeg-dir=%p --with-xpm-dir=shared,/usr/X11R6 --with-png-dir=%p --with-freetype-dir=shared --with-imap=shared,%p/share/c-client --with-ldap=shared,%p --without-mcal --with-mhash=shared,%p --with-mcrypt=shared,%p --with-ming=%p --with-mysql=shared,%p --with-pgsql=shared,%p --with-unixODBC=shared,%p --without-recode --with-t1lib=%p --with-pdflib=shared,%p --with-ttf=%p --with-snmp=shared,%p --enable-ucd-snmp-hack --with-java=shared,/System/Library/Frameworks/JavaVM.framework/Versions/1.3.1/Home

  ### Configure for cgi
  if [ -d cgi-build ]; then rm -rf cgi-build; fi
  mkdir -p cgi-build
  cd cgi-build; ../configure %c --enable-force-cgi-redirect --with-config-file-path=%p/etc/php4/cgi --without-mm --without-mysql --without-pgsql

  ### Fix for java build
  perl -pi -e 's,#define HAVE_JAVAVM_JAVAVM_H 1,#undef HAVE_JAVAVM_JAVAVM_H,g' apache-build/main/php_config.h
  cp -R ext/java/* apache-build/ext/java

  ### Make for apache2
  cd apache-build; make

  ### Make for cgi
  cd cgi-build; make
  mv cgi-build/sapi/cli/php cgi-build/php4.cgi

  ### Hack to not rebuild cgi twice
  cd cgi-build; perl -pi -e 's/FORCE_CGI_REDIRECT 1/FORCE_CGI_REDIRECT 0/g' main/php_config.h
  cd cgi-build; perl -pi -e 's/DISCARD_PATH 0/DISCARD_PATCH 1/g' main/php_config.h
  cd cgi-build; make clean
  cd cgi-build; make
  mv cgi-build/sapi/cli/php cgi-build/php4

  ### sanitize php.ini file
  cat php.ini-dist | tr "\t" " " > php.ini-dist.new
  mv php.ini-dist.new php.ini-dist

  ### Fix module path in conf file
  perl -pi -e 's,\.\/,\/,g' php.ini-dist

  ### Added java config to php.ini
  perl -pi -e 's,;java.class.path = .\\php_java.jar,java.class.path = %p/share/java/%N-java/php_java.jar,g' php.ini-dist
  perl -pi -e 's,;java.home = c:\\jdk,java.home = /System/Library/Frameworks/JavaVM.framework/Versions/1.3.1/Home,g' php.ini-dist
  perl -pi -e 's,;java.library = c:\\jdk\\jre\\bin\\hotspot\\jvm.dll,java.library = /System/Library/Frameworks/JavaVM.framework/Versions/1.3.1/Libraries/libjvm.dylib,g' php.ini-dist
  perl -pi -e 's,;java.library.path = .\\,java.library.path = %p/share/java,g' php.ini-dist
<<
###
InstallScript: <<
  ### installing default config files
  mkdir -p %i/etc/php4/apache2
  mkdir -p %i/etc/php4/cgi
  install -m 644 php.ini-dist %i/etc/php4/apache2/php.ini
  install -m 644 php.ini-dist %i/etc/php4/cgi/php.ini

  ### for libapache2-ssl-mod-php4
  mkdir -p %i/lib/apache2/modules
  install -m 644 apache-build/libs/libphp4.so %i/lib/apache2/modules

  ### install modules' files
  cd apache-build && make install-modules INSTALL_ROOT=%d
  cd apache-build && make install-pear INSTALL_ROOT=%d
  cd apache-build && make install-build INSTALL_ROOT=%d
  cd apache-build && make install-headers INSTALL_ROOT=%d
  cd apache-build && make install-programs INSTALL_ROOT=%d

  mkdir -p %i/bin
  install -m 755 apache-build/scripts/php-config %i/bin/php-config
  install -m 755 apache-build/scripts/phpize %i/bin/phpize
  install -m 755 ext/ext_skel %i/bin/ext_skel
  install -m 755 cgi-build/php4 %i/bin/php4
  mkdir -p %i/lib/cgi-bin
  install -m 755 cgi-build/php4.cgi %i/lib/cgi-bin/php4

  ### Move a few things to allow multi version co-existance
  mv %i/include/php %i/include/php4
  mv %i/lib/php %i/lib/php4

  ### fix to keep pkgs the same even if --enable-debug
  if [ -d %i/lib/php4/20020429-debug ]; then mv %i/lib/php4/20020429-debug %i/lib/php4/20020429; fi

  ### Make needed links
  ln -s %p/lib/php4/20020429 %i/lib/php4/libexec
  ln -s %p/lib/php4/20020429/java.so %i/lib/php4/20020429/libphp_java.so

  ### Remove un needed files
  rm %i/lib/php4/20020429/*.a
<<
###
SplitOff: <<
  Package: libapache2-ssl-mod-php4
  Depends: apache2-ssl (>= 2.0.47-5), libsablot-shlibs, pcre-shlibs (>= 4.3-1), ming-shlibs, bzip2-shlibs, openssl097-shlibs, db3-shlibs
  Replaces: libapache2-mod-php4, libapache-ssl-mod-php4, libapache-mod-php4
  Conflicts: libapache2-mod-php4, libapache-ssl-mod-php4, libapache-mod-php4
  ConfFiles: %p/etc/php4/apache2/php.ini
  Files: <<
    etc/php4/apache2
    lib/apache2
  <<
  DocFiles: php.ini-dist LICENSE
  Description: Server-side, HTML-embedded scripting language
  DescDetails: <<
    This package provides the loadable module for the apache webserver. Compiled
    in modules are: bcmath, bz2, calendar, ctype, exif, ftp, gettext, iconv, 
    mbstring, openssl, overload, pcre, posix, session, shmop, sockets,
    standard, tockenizer, wddx, xslt, xml, yp, and zlib.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write dynamically
    generated pages quickly.
    .
    The most significant change between php3 and php4 is the new parser engine
    called Zend, which boosts performance quite impressively.
  <<
  PostInstScript: <<
    MODULENAME=php4
    APXS=%p/sbin/apxs
    MOD_PREFIX=`$APXS -q LIBEXECDIR`
    MODULE=$MOD_PREFIX/lib$MODULENAME.so

    echo "Enabling mod_$MODULENAME module..."

    $APXS -e -a -n $MODULENAME $MODULE
    %p/sbin/apachectl graceful
  <<
  PreRmScript: <<
    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    MODULENAME=php4
    APXS=%p/sbin/apxs
    MOD_PREFIX=`$APXS -q LIBEXECDIR`
    MODULE=$MOD_PREFIX/lib$MODULENAME.so

    echo "Disabling mod_$MODULENAME module..."

    $APXS -e -A -n $MODULENAME $MODULE
    %p/sbin/apachectl graceful
  <<
<<
SplitOff2: <<
  Package: %N-cgi
  Depends: expat-shlibs, pcre-shlibs (>= 4.3-1), bzip2-shlibs, openssl097-shlibs, db3-shlibs
  Conflicts: php4-apache2-cgi, php4-apache-ssl-cgi, php4-apache-cgi
  Replaces: php4-apache2-cgi, php4-apache-ssl-cgi, php4-apache-cgi
  Provides: php4-ssl-cgi
  ConfFiles: %p/etc/php4/cgi/php.ini
  Files: <<
    etc/php4/cgi
    bin/php4
    lib/cgi-bin
  <<
  DocFiles: php.ini-dist LICENSE
  Description: Server-side, HTML-embedded scripting language
  DescDetail: <<
    This package provides the CGI module for command line. Compiled
    in modules are: bcmath, bz2, calendar, ctype, exif, ftp, gettext, iconv,
    mbstring, openssl, overload, pcre, posix, session, shmop, sockets,
    standard, tockenizer, wddx, xslt, xml, yp, and zlib.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
    .
    The most significant change between php3 and php4 is the new parser engine
    called Zend, which boosts performance quite impressively.
  <<
<<
SplitOff3: <<
  Package: %N-dev
  Conflicts: php4-apache2-dev, php4-apache-ssl-dev, php4-apache-dev
  Replaces: php4-apache2-dev, php4-apache-ssl-dev, php4-apache-dev
  Provides: php4-ssl-dev
  Files: <<
    bin/ext_skel
    bin/php-config
    bin/phpextdist
    bin/phpize
    include
    lib/php4/build
  <<
  DocFiles: LICENSE
  Description: Files for PHP4 module development
  DescDetail: <<
    This package provides the files from the PHP4 source needed for compiling
    additional modules.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
    .
    The most significant change between php3 and php4 is the new parser engine
    called Zend, which boosts performance quite impressively.
  <<
<<
SplitOff4: <<
  Package: %N-pear
  Depends: %N-cgi
  Conflicts: php4-apache2-pear, php4-apache-ssl-pear, php4-apache-pear
  Replaces: php4-apache2-pear, php4-apache-ssl-pear, php4-apache-pear
  Provides: php4-ssl-pear
  Files: <<
    bin/pear
    share/pear
  <<
  DocFiles: pear/CODING_STANDARDS pear/install-pear.txt LICENSE
  Description: PEAR - PHP Extension and Application Repository
  DescDetail: <<
    This package contains PEAR files for php4. That is plenty of classes for
    easier and cleaner manipulation with eg. databases.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
<<
SplitOff5: <<
  Package: %N-curl
  Depends: %N, curl-ssl, curl-ssl-shlibs, openssl097-shlibs
  Conflicts: php4-apache2-curl, php4-apache-ssl-curl, php4-apache-curl
  Replaces: php4-apache2-curl, php4-apache-ssl-curl, php4-apache-curl
  Provides: php4-ssl-curl
  Files: lib/php4/20020429/curl.so
  DocFiles: LICENSE
  Description: CURL module for php4
  DescDetails: <<
    CURL is a library for getting files from  FTP, GOPHER, HTTP server.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=curl

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "You are installing \"$module\" support for php4, but it's not"
          echo "enabled in your %p/etc/php4/$conf/php.ini."
          echo
          echo "To enable it you need to add this line:"
          echo
          echo "extension=%p/lib/php4/libexec/$module.so"
          echo
          echo -n "Do you want me to add it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            echo "extension=%p/lib/php4/libexec/$module.so" >> %p/etc/php4/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=curl

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "You are removing \"$module\" support for php4, but it is still"
          echo "enabled in your %p/etc/php4/$conf/php.ini."
          echo
          echo "You should remove this line:"
          echo
          echo "extension=%p/lib/php4/libexec/$module.so"
          echo
          echo -n "Do you want me to do it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            cat %p/etc/php4/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" > %p/etc/php4/$conf/php.ini.$moduleremove
            mv %p/etc/php4/$conf/php.ini.$moduleremove %p/etc/php4/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff6: <<
  Package: %N-domxml
  Depends: %N, libxslt-shlibs, libxml2-shlibs
  Conflicts: php4-apache2-domxml, php4-apache-ssl-domxml, php4-apache-domxml
  Replaces: php4-apache2-domxml, php4-apache-ssl-domxml, php4-apache-domxml
  Provides: php4-ssl-domxml
  Files: lib/php4/20020429/domxml.so
  DocFiles: LICENSE
  Description: DOMXML module for php4
  DescDetails: <<
    This package provides a module for XML functions in PHP scripts. It's the
    new module uses libxml2.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=domxml

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "You are installing \"$module\" support for php4, but it's not"
          echo "enabled in your %p/etc/php4/$conf/php.ini."
          echo
          echo "To enable it you need to add this line:"
          echo
          echo "extension=%p/lib/php4/libexec/$module.so"
          echo
          echo -n "Do you want me to add it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            echo "extension=%p/lib/php4/libexec/$module.so" >> %p/etc/php4/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=domxml

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "You are removing \"$module\" support for php4, but it is still"
          echo "enabled in your %p/etc/php4/$conf/php.ini."
          echo
          echo "You should remove this line:"
          echo
          echo "extension=%p/lib/php4/libexec/$module.so"
          echo
          echo -n "Do you want me to do it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            cat %p/etc/php4/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" > %p/etc/php4/$conf/php.ini.$moduleremove
            mv %p/etc/php4/$conf/php.ini.$moduleremove %p/etc/php4/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff7: <<
  Package: %N-gd
  Depends: %N, gd2-shlibs, t1lib1-shlibs, libpng3-shlibs, libjpeg-shlibs, x11
  Conflicts: php4-apache2-gd, php4-apache-ssl-gd, php4-apache-gd
  Replaces: php4-apache2-gd, php4-apache-ssl-gd, php4-apache-gd
  Provides: php4-ssl-gd
  Files: lib/php4/20020429/gd.so
  DocFiles: LICENSE
  Description: GD module for php4
  DescDetails: <<
    This package provides a module for handling graphics directly from PHP
    scripts. It supports the PNG, JPEG, XPM and ttf fonts.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=gd

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "You are installing \"$module\" support for php4, but it's not"
          echo "enabled in your %p/etc/php4/$conf/php.ini."
          echo
          echo "To enable it you need to add this line:"
          echo
          echo "extension=%p/lib/php4/libexec/$module.so"
          echo
          echo -n "Do you want me to add it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            echo "extension=%p/lib/php4/libexec/$module.so" >> %p/etc/php4/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=gd

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "You are removing \"$module\" support for php4, but it is still"
          echo "enabled in your %p/etc/php4/$conf/php.ini."
          echo
          echo "You should remove this line:"
          echo
          echo "extension=%p/lib/php4/libexec/$module.so"
          echo
          echo -n "Do you want me to do it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            cat %p/etc/php4/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" > %p/etc/php4/$conf/php.ini.$moduleremove
            mv %p/etc/php4/$conf/php.ini.$moduleremove %p/etc/php4/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff8: <<
  Package: %N-imap
  Depends: %N, openssl097-shlibs, uw-imap-c-client-ssl1-shlibs (>= 2002d-3)
  Conflicts: php4-apache2-imap, php4-apache-ssl-imap, php4-apache-imap
  Replaces: php4-apache2-imap, php4-apache-ssl-imap, php4-apache-imap
  Provides: php4-ssl-imap
  Files: lib/php4/20020429/imap.so
  DocFiles: LICENSE
  Description: IMAP module for php4 (EXPERIMENTAL - does not work)
  DescDetails: <<
    This package provides a module for IMAP functions in PHP scripts.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=imap

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "You are installing \"$module\" support for php4, but it's not"
          echo "enabled in your %p/etc/php4/$conf/php.ini."
          echo
          echo "To enable it you need to add this line:"
          echo
          echo "extension=%p/lib/php4/libexec/$module.so"
          echo
          echo -n "Do you want me to add it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            echo "extension=%p/lib/php4/libexec/$module.so" >> %p/etc/php4/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=imap

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "You are removing \"$module\" support for php4, but it is still"
          echo "enabled in your %p/etc/php4/$conf/php.ini."
          echo
          echo "You should remove this line:"
          echo
          echo "extension=%p/lib/php4/libexec/$module.so"
          echo
          echo -n "Do you want me to do it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            cat %p/etc/php4/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" > %p/etc/php4/$conf/php.ini.$moduleremove
            mv %p/etc/php4/$conf/php.ini.$moduleremove %p/etc/php4/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff9: <<
  Package: %N-ldap
  Depends: %N, openldap-ssl-shlibs (>= 2.1.22-3), db41-ssl-shlibs
  Conflicts: php4-apache2-ldap, php4-apache-ssl-ldap, php4-apache-ldap
  Replaces: php4-apache2-ldap, php4-apache-ssl-ldap, php4-apache-ldap
  Provides: php4-ssl-ldap
  Files: lib/php4/20020429/ldap.so
  DocFiles: LICENSE
  Description: LDAP module for php4
  DescDetails: <<
    This package provides a module for LDAP functions in PHP scripts.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=ldap

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "You are installing \"$module\" support for php4, but it's not"
          echo "enabled in your %p/etc/php4/$conf/php.ini."
          echo
          echo "To enable it you need to add this line:"
          echo
          echo "extension=%p/lib/php4/libexec/$module.so"
          echo
          echo -n "Do you want me to add it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            echo "extension=%p/lib/php4/libexec/$module.so" >> %p/etc/php4/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=ldap

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "You are removing \"$module\" support for php4, but it is still"
          echo "enabled in your %p/etc/php4/$conf/php.ini."
          echo
          echo "You should remove this line:"
          echo
          echo "extension=%p/lib/php4/libexec/$module.so"
          echo
          echo -n "Do you want me to do it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            cat %p/etc/php4/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" > %p/etc/php4/$conf/php.ini.$moduleremove
            mv %p/etc/php4/$conf/php.ini.$moduleremove %p/etc/php4/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff10: <<
  Package: %N-mcrypt
  Depends: %N, libmcrypt-shlibs, libtool14-shlibs
  Conflicts: php4-apache2-mcrypt, php4-apache-ssl-mcrypt, php4-apache-mcrypt
  Replaces: php4-apache2-mcrypt, php4-apache-ssl-mcrypt, php4-apache-mcrypt
  Provides: php4-ssl-mcrypt
  Files: lib/php4/20020429/mcrypt.so
  DocFiles: LICENSE
  Description: MCRYPT module for php4
  DescDetails: <<
    This package provides a module for MCRYPT functions in PHP scripts.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=mcrypt

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "You are installing \"$module\" support for php4, but it's not"
          echo "enabled in your %p/etc/php4/$conf/php.ini."
          echo
          echo "To enable it you need to add this line:"
          echo
          echo "extension=%p/lib/php4/libexec/$module.so"
          echo
          echo -n "Do you want me to add it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            echo "extension=%p/lib/php4/libexec/$module.so" >> %p/etc/php4/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=mcrypt

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "You are removing \"$module\" support for php4, but it is still"
          echo "enabled in your %p/etc/php4/$conf/php.ini."
          echo
          echo "You should remove this line:"
          echo
          echo "extension=%p/lib/php4/libexec/$module.so"
          echo
          echo -n "Do you want me to do it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            cat %p/etc/php4/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" > %p/etc/php4/$conf/php.ini.$moduleremove
            mv %p/etc/php4/$conf/php.ini.$moduleremove %p/etc/php4/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff11: <<
  Package: %N-mhash
  Depends: %N, libmhash-shlibs (>= 0.8.18-2)
  Conflicts: php4-apache2-mhash, php4-apache-ssl-mhash, php4-apache-mhash
  Replaces: php4-apache2-mhash, php4-apache-ssl-mhash, php4-apache-mhash
  Provides: php4-ssl-mhash
  Files: lib/php4/20020429/mhash.so
  DocFiles: LICENSE
  Description: MHASH module for php4
  DescDetails: <<
    This package provides a module for MHASH functions in PHP scripts.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=mhash

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "You are installing \"$module\" support for php4, but it's not"
          echo "enabled in your %p/etc/php4/$conf/php.ini."
          echo
          echo "To enable it you need to add this line:"
          echo
          echo "extension=%p/lib/php4/libexec/$module.so"
          echo
          echo -n "Do you want me to add it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            echo "extension=%p/lib/php4/libexec/$module.so" >> %p/etc/php4/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=mhash

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "You are removing \"$module\" support for php4, but it is still"
          echo "enabled in your %p/etc/php4/$conf/php.ini."
          echo
          echo "You should remove this line:"
          echo
          echo "extension=%p/lib/php4/libexec/$module.so"
          echo
          echo -n "Do you want me to do it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            cat %p/etc/php4/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" > %p/etc/php4/$conf/php.ini.$moduleremove
            mv %p/etc/php4/$conf/php.ini.$moduleremove %p/etc/php4/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff12: <<
  Package: %N-mysql
  Depends: %N, mysql12-shlibs
  Conflicts: php4-apache2-mysql, php4-apache-ssl-mysql, php4-apache-mysql
  Replaces: php4-apache2-mysql, php4-apache-ssl-mysql, php4-apache-mysql
  Provides: php4-ssl-mysql
  Files: lib/php4/20020429/mysql.so
  DocFiles: LICENSE
  Description: MySQL module for php4
  DescDetails: <<
    This package provides a module for MySQL database connections directly from
    PHP scripts.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=mysql

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "You are installing \"$module\" support for php4, but it's not"
          echo "enabled in your %p/etc/php4/$conf/php.ini."
          echo
          echo "To enable it you need to add this line:"
          echo
          echo "extension=%p/lib/php4/libexec/$module.so"
          echo
          echo -n "Do you want me to add it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            echo "extension=%p/lib/php4/libexec/$module.so" >> %p/etc/php4/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=mysql

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "You are removing \"$module\" support for php4, but it is still"
          echo "enabled in your %p/etc/php4/$conf/php.ini."
          echo
          echo "You should remove this line:"
          echo
          echo "extension=%p/lib/php4/libexec/$module.so"
          echo
          echo -n "Do you want me to do it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            cat %p/etc/php4/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" > %p/etc/php4/$conf/php.ini.$moduleremove
            mv %p/etc/php4/$conf/php.ini.$moduleremove %p/etc/php4/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff13: <<
  Package: %N-odbc
  Depends: %N
  Conflicts: php4-apache2-odbc, php4-apache-ssl-odbc, php4-apache-odbc
  Replaces: php4-apache2-odbc, php4-apache-ssl-odbc, php4-apache-odbc
  Provides: php4-ssl-odbc
  Files: lib/php4/20020429/odbc.so
  DocFiles: LICENSE
  Description: ODBC module for php4
  DescDetails: <<
    This package provides a module for database access through ODBC drivers.
    It uses the unixODBC library as an ODBC provider.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=odbc

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "You are installing \"$module\" support for php4, but it's not"
          echo "enabled in your %p/etc/php4/$conf/php.ini."
          echo
          echo "To enable it you need to add this line:"
          echo
          echo "extension=%p/lib/php4/libexec/$module.so"
          echo
          echo -n "Do you want me to add it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            echo "extension=%p/lib/php4/libexec/$module.so" >> %p/etc/php4/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=odbc

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "You are removing \"$module\" support for php4, but it is still"
          echo "enabled in your %p/etc/php4/$conf/php.ini."
          echo
          echo "You should remove this line:"
          echo
          echo "extension=%p/lib/php4/libexec/$module.so"
          echo
          echo -n "Do you want me to do it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            cat %p/etc/php4/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" > %p/etc/php4/$conf/php.ini.$moduleremove
            mv %p/etc/php4/$conf/php.ini.$moduleremove %p/etc/php4/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff14: <<
  Package: %N-pgsql
  Depends: %N, postgresql73-ssl-shlibs
  Conflicts: php4-apache2-pgsql, php4-apache-ssl-pgsql, php4-apache-pgsql
  Replaces: php4-apache2-pgsql, php4-apache-ssl-pgsql, php4-apache-pgsql
  Provides: php4-ssl-pgsql
  Files: lib/php4/20020429/pgsql.so
  DocFiles: LICENSE
  Description: PostgreSQL module for php4
  DescDetails: <<
    This package provides a module for PostgreSQL database connections directly
    from PHP scripts.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=pgsql

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "You are installing \"$module\" support for php4, but it's not"
          echo "enabled in your %p/etc/php4/$conf/php.ini."
          echo
          echo "To enable it you need to add this line:"
          echo
          echo "extension=%p/lib/php4/libexec/$module.so"
          echo
          echo -n "Do you want me to add it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            echo "extension=%p/lib/php4/libexec/$module.so" >> %p/etc/php4/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=pgsql

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "You are removing \"$module\" support for php4, but it is still"
          echo "enabled in your %p/etc/php4/$conf/php.ini."
          echo
          echo "You should remove this line:"
          echo
          echo "extension=%p/lib/php4/libexec/$module.so"
          echo
          echo -n "Do you want me to do it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            cat %p/etc/php4/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" > %p/etc/php4/$conf/php.ini.$moduleremove
            mv %p/etc/php4/$conf/php.ini.$moduleremove %p/etc/php4/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff15: <<
  Package: %N-snmp
  Depends: %N, openssl097-shlibs, net-snmp-ssl-shlibs (>= 5.0.7-2)
  Conflicts: php4-apache2-snmp, php4-apache-ssl-snmp, php4-apache-snmp
  Replaces: php4-apache2-snmp, php4-apache-ssl-snmp, php4-apache-snmp
  Provides: php4-ssl-snmp
  Files: lib/php4/20020429/snmp.so
  DocFiles: LICENSE
  Description: SNMP module for php4 (EXPERIMENTAL)
  DescDetails: <<
    This package provides a module for SNMP functions in PHP scripts.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=snmp

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "You are installing \"$module\" support for php4, but it's not"
          echo "enabled in your %p/etc/php4/$conf/php.ini."
          echo
          echo "To enable it you need to add this line:"
          echo
          echo "extension=%p/lib/php4/libexec/$module.so"
          echo
          echo -n "Do you want me to add it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            echo "extension=%p/lib/php4/libexec/$module.so" >> %p/etc/php4/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=snmp

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "You are removing \"$module\" support for php4, but it is still"
          echo "enabled in your %p/etc/php4/$conf/php.ini."
          echo
          echo "You should remove this line:"
          echo
          echo "extension=%p/lib/php4/libexec/$module.so"
          echo
          echo -n "Do you want me to do it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            cat %p/etc/php4/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" > %p/etc/php4/$conf/php.ini.$moduleremove
            mv %p/etc/php4/$conf/php.ini.$moduleremove %p/etc/php4/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff16: <<
  Package: %N-java
  Depends: %N
  Conflicts: php4-apache2-java, php4-apache-ssl-java, php4-apache-java
  Replaces: php4-apache2-java, php4-apache-ssl-java, php4-apache-java
  Provides: php4-ssl-java
  Files: <<
    lib/php4/20020429/java.so
    lib/php4/20020429/libphp_java.so
  <<
  JarFiles: ext/java/php_java.jar
  DocFiles: LICENSE
  Description: java module for php4 (EXPERIMENTAL - Does not work)
  DescDetails: <<
    This package provides a module for JAVA functions in PHP scripts.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=java

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "You are installing \"$module\" support for php4, but it's not"
          echo "enabled in your %p/etc/php4/$conf/php.ini."
          echo
          echo "To enable it you need to add this line:"
          echo
          echo "extension=%p/lib/php4/libexec/$module.so"
          echo
          echo -n "Do you want me to add it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            echo "extension=%p/lib/php4/libexec/$module.so" >> %p/etc/php4/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=java

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "You are removing \"$module\" support for php4, but it is still"
          echo "enabled in your %p/etc/php4/$conf/php.ini."
          echo
          echo "You should remove this line:"
          echo
          echo "extension=%p/lib/php4/libexec/$module.so"
          echo
          echo -n "Do you want me to do it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            cat %p/etc/php4/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" > %p/etc/php4/$conf/php.ini.$moduleremove
            mv %p/etc/php4/$conf/php.ini.$moduleremove %p/etc/php4/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff17: <<
  Package: %N-mcve
  Depends: %N, libmcve-shlibs (>= 3.2-1)
  Conflicts: php4-apache2-mcve, php4-apache-ssl-mcve, php4-apache-mcve
  Replaces: php4-apache2-mcve, php4-apache-ssl-mcve, php4-apache-mcve
  Provides: php4-ssl-mcve
  Files: lib/php4/20020429/mcve.so
  DocFiles: LICENSE
  Description: MCVE module for php4
  DescDetails: <<
    This package provides a module for MCVE functions in PHP scripts.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=mcve

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "You are installing \"$module\" support for php4, but it's not"
          echo "enabled in your %p/etc/php4/$conf/php.ini."
          echo
          echo "To enable it you need to add this line:"
          echo
          echo "extension=%p/lib/php4/libexec/$module.so"
          echo
          echo -n "Do you want me to add it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            echo "extension=%p/lib/php4/libexec/$module.so" >> %p/etc/php4/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=mcve

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "You are removing \"$module\" support for php4, but it is still"
          echo "enabled in your %p/etc/php4/$conf/php.ini."
          echo
          echo "You should remove this line:"
          echo
          echo "extension=%p/lib/php4/libexec/$module.so"
          echo
          echo -n "Do you want me to do it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            cat %p/etc/php4/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" > %p/etc/php4/$conf/php.ini.$moduleremove
            mv %p/etc/php4/$conf/php.ini.$moduleremove %p/etc/php4/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff18: <<
  Package: %N-pdf
  Depends: %N, pdflib-shlibs (>= 5.0.1-1), libtiff-shlibs, libpng3-shlibs, libjpeg-shlibs
  Conflicts: php4-apache2-pdf, php4-apache-ssl-pdf, php4-apache-pdf
  Replaces: php4-apache2-pdf, php4-apache-ssl-pdf, php4-apache-pdf
  Provides: php4-ssl-pdf
  Files: lib/php4/20020429/pdf.so
  DocFiles: LICENSE
  Description: PDFlib module for php4
  DescDetails: <<
    This package provides a module for PDFlib functions in PHP scripts.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=pdf

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "You are installing \"$module\" support for php4, but it's not"
          echo "enabled in your %p/etc/php4/$conf/php.ini."
          echo
          echo "To enable it you need to add this line:"
          echo
          echo "extension=%p/lib/php4/libexec/$module.so"
          echo
          echo -n "Do you want me to add it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            echo "extension=%p/lib/php4/libexec/$module.so" >> %p/etc/php4/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=pdf

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "You are removing \"$module\" support for php4, but it is still"
          echo "enabled in your %p/etc/php4/$conf/php.ini."
          echo
          echo "You should remove this line:"
          echo
          echo "extension=%p/lib/php4/libexec/$module.so"
          echo
          echo -n "Do you want me to do it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            cat %p/etc/php4/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" > %p/etc/php4/$conf/php.ini.$moduleremove
            mv %p/etc/php4/$conf/php.ini.$moduleremove %p/etc/php4/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
<<
###
Description: HTML-embedded server-side scripting language
DescDetail: <<
  PHP is a scripting language that can be embedded into HTML pages. Like
  with CGI scripts, the code is evaluated on the server side (like a CGI
  script), allowing you to generate content dynamically. PHP is
  implemented as a loadable module (DSO) for the Apache web server.
  .
  PHP has interfaces to almost any database, library and API that you
  can think of. PHP is one of the most popular RAD environments for 
  website development, being used by many of todays top web sites and 
  portals.
  .
  PHP is a widely-used Open Source general-purpose scripting language that
  is especially suited for Web development and can be embedded into HTML. Its
  syntax draws upon C, Java, and Perl, and is easy to learn. PHP runs on many
  different platforms and can be used as a standalone executable or as a
  module under a variety of Web servers. It has excellent support for
  databases, XML, LDAP, IMAP, Java, various Internet protocols, and general
  data manipulation, and is extensible via its powerful API. It is actively
  developed and supported by a talented and energetic international team.
  Numerous Open Source and commercial PHP-based application packages are
  available.
  .  
  This packages install an Apache2.x.x DSO module and the PHP CLI.
<<
DescPort: <<
  Had to use PHP 4.3.1's pcre code, the code from 4.3.3 was segfaulting I
  assume it had to do with a bad malloc use.
<<
###
License: GPL
Homepage: http://www.php.net/
Maintainer: Dustin Sias <dustin@coretechnologies.net>
