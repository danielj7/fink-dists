Info3: <<
Package: opennms-pgsql%type_pkg[postgresql]
Version: 1.3.2
Revision: 2
Type: postgresql(7.4 8.0 8.1 8.2)

Replaces: opennms-pgsql74, opennms-pgsql80, opennms-pgsql81, opennms-pgsql82, opennms (<< 1.3.2-2)
Conflicts: opennms-pgsql74, opennms-pgsql80, opennms-pgsql81, opennms-pgsql82
Provides: opennms-pgsql
Source: mirror:sourceforge:opennms/opennms-source-%v-1.tar.gz
Source-MD5: cbcee8743b888d86906e3e0f5da504cc
SourceDirectory: opennms-%v-1/source
Source2: mirror:sourceforge:opennms/opennms-m2-repository-%v.tar.gz
Source2-MD5: 14fcad02d3e766d77d197745289152c3
PatchScript: <<
#!/bin/sh -ex
	sed -e 's,@REPOROOT@,%b/../../repository,' %a/%{Ni}.patch | patch -p2
<<

BuildDepends: <<
	maven (>= 2.0.6-1),
	(%type_raw[postgresql] <= 8.0) postgresql%type_pkg[postgresql]-unified-dev,
	(%type_raw[postgresql] >= 8.1) postgresql%type_pkg[postgresql]-dev,
<<
Depends: <<
	(%type_raw[postgresql] <= 7.4) postgresql%type_pkg[postgresql]-unified-shlibs,
	(%type_raw[postgresql] >= 8.1) postgresql%type_pkg[postgresql]-shlibs,
<<
CompileScript: <<
#!/bin/sh -ex
	sh ./build.sh -s maven-settings.xml clean
	sh ./build.sh -s maven-settings.xml -N install
<<
InstallScript: <<
#!/bin/sh -ex

	/usr/bin/install -d -m 755 %i/var/opennms/lib

	pushd opennms-iplike
	sh ../build.sh -s ../maven-settings.xml -Ddist.name=opennms -Ddist.dir=%i/var -Dopennms.home=%p/var/opennms package
	install -c -m 644 opennms-iplike-macosx/target/opennms-iplike-macosx-%v.dylib %i/var/opennms/lib/iplike.dylib
	popd
<<

Homepage: http://www.opennms.org/
Maintainer: Benjamin Reed <opennms@fink.racoonfink.com>
Description: OpenNMS PostgreSQL Library
DocFiles: README*
DescDetail: <<
OpenNMS is an open-source, enterprise-level network management system
along the lines of HP's OpenView line of network management tools, or
IBM's Tivoli.
<<
License: GPL
<<
