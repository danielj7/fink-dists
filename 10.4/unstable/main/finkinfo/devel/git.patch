diff -ru git-1.7.2.orig/Makefile git-1.7.2/Makefile
--- git-1.7.2.orig/Makefile	2010-07-21 17:35:25.000000000 -0400
+++ git-1.7.2/Makefile	2010-07-26 19:27:42.000000000 -0400
@@ -278,11 +278,11 @@
 bindir = $(prefix)/$(bindir_relative)
 mandir = share/man
 infodir = share/info
-gitexecdir = libexec/git-core
+gitexecdir = lib/git
 sharedir = $(prefix)/share
 gitwebdir = $(sharedir)/gitweb
 template_dir = share/git-core/templates
-htmldir = share/doc/git-doc
+htmldir = share/doc/git
 ifeq ($(prefix),/usr)
 sysconfdir = /etc
 ETC_GITCONFIG = $(sysconfdir)/gitconfig
@@ -1157,6 +1157,8 @@
 endif
 
 ifeq ($(uname_S),Darwin)
+	BASIC_CFLAGS += -I%p/lib/system-openssl/include -I%p/include
+	BASIC_LDFLAGS += -L%p/lib/system-openssl/lib -L%p/lib
 	ifndef NO_FINK
 		ifeq ($(shell test -d /sw/lib && echo y),y)
 			BASIC_CFLAGS += -I/sw/include
diff -ru git-1.7.2.orig/gitweb/Makefile git-1.7.2/gitweb/Makefile
--- git-1.7.2.orig/gitweb/Makefile	2010-07-21 17:35:25.000000000 -0400
+++ git-1.7.2/gitweb/Makefile	2010-07-26 19:25:43.000000000 -0400
@@ -19,7 +19,7 @@
 
 # default configuration for gitweb
 GITWEB_CONFIG = gitweb_config.perl
-GITWEB_CONFIG_SYSTEM = /etc/gitweb.conf
+GITWEB_CONFIG_SYSTEM = $(sysconfdir)/gitweb.conf
 GITWEB_HOME_LINK_STR = projects
 GITWEB_SITENAME =
 GITWEB_PROJECTROOT = /pub/git
Only in git-1.7.2/gitweb: Makefile.orig
diff -ru git-1.7.2.orig/perl/Makefile git-1.7.2/perl/Makefile
--- git-1.7.2.orig/perl/Makefile	2010-07-21 17:35:25.000000000 -0400
+++ git-1.7.2/perl/Makefile	2010-07-26 19:25:43.000000000 -0400
@@ -38,7 +38,7 @@
 	echo '	echo $(instdir_SQ)' >> $@
 else
 $(makfile): Makefile.PL ../GIT-CFLAGS
-	$(PERL_PATH) $< PREFIX='$(prefix_SQ)'
+	$(PERL_PATH) $< PREFIX='$(prefix_SQ)' LIB='%p/lib/perl5' INSTALLSITEMAN3DIR='%p/share/man/man3'
 endif
 
 # this is just added comfort for calling make directly in perl dir
