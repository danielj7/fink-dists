Info3: <<
Package: gdal%type_pkg[pgsql]%type_pkg[mysql]
Type: pgsql (. -pgsql), mysql (. -mysql)
Version: 1.6.3
Revision: 1
Description: Raster/Vector Geospatial Format Translator
License: BSD
Homepage: http://www.gdal.org
Maintainer: Kurt Schwehr <goatbar@users.sourceforge.net>
DescDetail: <<
GDAL is a translator library for raster geospatial data formats. As a library,
it presents a single abstract data model to the calling application for all
supported formats.

Current translators include GeoTIFF (read/write), Erdas Imagine (read),
ESRI .BIL (read/write), .aux labelled raw (read/write), DTED (read),
SDTS DEM (read), CEOS (read), JPEG (read/write), PNG (read/write),
Geosoft GXF (read), Arc/Info Binary Grid (read), FITS (read/write),
netCDF (limited read/write), and GIF (read/write).

The current version of GDAL come with the related OGR library (which lives 
within the GDAL source tree) provides a similar capability for simple features 
vector data.

The OGR Simple Features Library is a C++ open source library (and commandline 
tools) providing read (and sometimes write) access to a variety of vector file 
formats including ESRI Shapefiles, S-57, SDTS, PostGIS, Oracle Spatial, and 
Mapinfo mid/mif and TAB formats.
<<
DescUsage: <<
Packages that need GDAL/OGR libraries should builddepend on gdal-dev and 
depend on gdal-shlibs.  Make sure that configure finds the gdal-config 
script in %p/bin, which tells that the headers are 
in %p/include/gdal1/ and the libraries are in %p/lib/.
<<

# Dependencies.
Depends: <<
	%n-shlibs (= %v-%r)
<<
Suggests: gdal-py26, gdal-grass
Conflicts: gdal, gdal-pgsql, gdal-mysql, gdal-pgsql-mysql
Replaces: gdal, gdal-pgsql, gdal-mysql, gdal-pgsql-mysql
BuildDepends: <<
	libjpeg, libjasper.1, giflib | libungif, libpng3, libtiff,
	szip, libiconv-dev, cfitsio, 
	netcdf, netcdf-bin,
	unixodbc2 | unixodbc2-nox,
	libdap9,
	proj,
	libogdi3,
	hdf5, hdf,
	xerces-c-dev, 
	libgeos3, libgeosc1,
	(%type_raw[mysql] = -mysql) mysql-unified-dev,
	(%type_raw[pgsql] = -pgsql) postgresql83-dev,
	python26
<<

# Unpack Phase.

Source: http://download.osgeo.org/gdal/gdal-%v.tar.gz
Source-MD5: a8aade344a29ae4a92a0f17cc33f561a

SetCPPFLAGS: -Os -I%p/include
#SetCPPFLAGS: -Os -I%b/port -I%b/gcore -I%b/alg -I%b/ogr -I%b/ogr/ogrsf_frmts -I%b/ogr/ogrsf_frmts/gtiff -I%p/include
SetLDFLAGS:

ConfigureParams: --mandir='${prefix}/share/man' --with-local=%p --with-libz=%p --with-grass=no --with-cfitsio=%p --with-pcraster=no --with-netcdf=%p --with-png=%p --with-libtiff=%p --with-geotiff=internal --with-jpeg=%p --with-gif=%p --with-ogdi=%p --with-fme=no  --with-jasper=yes --with-ecw=no --with-kakadu=no --with-mrsid=no --with-bsb --with-ogr --with-xerces=yes --with-xerces-inc=%p/include --with-xerces-lib='-L%p/lib -lxerces-c -lpthread'  --with-hdf5=%p --with-hdf4=%p --with-odbc=%p --with-dods=%p --with-oci=no --with-dods-root=no --with-geos=%p/bin/geos-config --with-static-proj4=%p --with-sqlite=/usr (%type_raw[pgsql] = .) --without-pg  (%type_raw[pgsql] = -pgsql) --with-pg=%p/bin/pg_config (%type_raw[mysql] = .) --with-mysql=no (%type_raw[mysql] = -mysql) --with-mysql=yes --with-perl --without-php --without-ruby --without-python --libdir=%p/lib --includedir=%p/include/gdal1 --without-perl


CompileScript: <<
#!/bin/sh -xe
	./configure %c
	make PYTHON_INCLUDES=%p/include \
		PYTHON_LIBS='-L%p/lib/python2.6' \
		PYTHON=%p/bin/python2.6
<<

# Install Phase.
InstallScript: <<
  make install prefix=%i INST_LIB=%i/lib INST_INCLUDE=%i/include/gdal1
  make install-man prefix=%i
  install_name_tool -id "%p/lib/libgdal.1.dylib" %i/lib/libgdal.1.dylib

  # The license file will be brought to %i/share/doc/%n by DocFiles
  rm -f %i/share/gdal/LICENSE.TXT
<<
DocFiles: LICENSE.TXT








SplitOff: <<
  Package: %N-shlibs
  Description: GDAL/OGR shared libraries
  Conflicts: gdal-shlibs, gdal-pgsql-shlibs, gdal-mysql-shlibs, gdal-pgsql-mysql-shlibs
  Replaces: gdal-shlibs, gdal-pgsql-shlibs, gdal-mysql-shlibs, gdal-pgsql-mysql-shlibs
  Depends: << 
    libjpeg-shlibs, libjasper.1-shlibs, giflib-shlibs | libungif-shlibs, libpng3-shlibs, libtiff-shlibs (>= 3.6.0), 
    szip-shlibs, libiconv,
    netcdf-shlibs, 
    unixodbc2-shlibs | unixodbc2-nox-shlibs, 
	libdap9-shlibs,
    proj-shlibs, 
    libgeos3-shlibs, 
    hdf5-shlibs, hdf,
    xerces-c-shlibs,
    libogdi3-shlibs,
	libgeos3-shlibs, libgeosc1-shlibs,
	(%type_raw[mysql] = -mysql) mysql-unified,
	(%type_raw[mysql] = -mysql) mysql-unified-shlibs,
    (%type_raw[pgsql] = -pgsql) postgis83,
    (%type_raw[pgsql] = -pgsql) postgresql83-shlibs,
	python26-shlibs
  <<
  Files: lib/libgdal.*.dylib
  Shlibs: %p/lib/libgdal.1.dylib 15.0.0 %n (>= 1.6.1-1002)
  DocFiles: LICENSE.TXT
<<








SplitOff2: <<
  Package: %N-dev
  Description: GDAL/OGR development headers
  Conflicts: gdal-dev, gdal-pgsql-dev, gdal-mysql-dev, gdal-pgsql-mysql-dev
  Replaces: gdal-dev, gdal-pgsql-dev, gdal-mysql-dev, gdal-pgsql-mysql-dev
  Depends: %N-shlibs (= %v-%r)
  BuildDependsOnly: true
  Files: bin/gdal-config include/gdal1 lib/*.a lib/*.la lib/libgdal.dylib 
  DocFiles: LICENSE.TXT
<<



DescPackaging: <<
Previous versions of this package were maintained by Matt Stephenson
<cattrap@users.sourceforge.net>, Blair Zajac <blair@orcaware.com>
and BABA Yoshihiko <babayoshihiko@mac.com>.
See http://wiki.finkproject.org/index.php?title=Fink:Packaging:GIS
<<

DescPort: <<
<<

# End of Info3
<<
