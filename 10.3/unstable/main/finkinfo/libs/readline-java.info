Package: readline-java
Version: 0.8.0
Revision: 2
BuildDepends: ant (>= 1.6.1-1), commons-logging, commons-collections, log4j (>= 1.2), system-java13-dev
Depends: commons-logging, commons-collections, log4j (>= 1.2), system-java13 | system-java14 | system-java15
Source: mirror:sourceforge:java-readline/libreadline-java-%v-src.tar.gz
Source-MD5: 501720ddded45eaedf429b7cc356107c
SourceDirectory: libreadline-java-%v
PatchScript: sed -e 's,@INSTPREFIX@,%p,g' %a/%n.patch | patch -p1
NoSetMAKEFLAGS: true
SetMAKEFLAGS: -j1
CompileScript: <<
#!/bin/sh -ex

  JAVAVER=`find /System/Library/Frameworks/JavaVM.framework/Versions -name include 2>/dev/null | perl -p -e 's,.*Versions/(.*?)/.*,$1,g' | grep -E '^1.3' | tail -1`
  export JAVA_HOME=/System/Library/Frameworks/JavaVM.framework/Versions/$JAVAVER/Home
  export PATH="$JAVA_HOME/bin:$PATH"
  make PREFIX="%p"
<<
InstallScript: <<
#!/bin/sh -ex

  JAVAVER=`find /System/Library/Frameworks/JavaVM.framework/Versions -name include 2>/dev/null | perl -p -e 's,.*Versions/(.*?)/.*,$1,g' | grep -E '^1.3' | tail -1`
  export JAVA_HOME=/System/Library/Frameworks/JavaVM.framework/Versions/$JAVAVER/Home
  export PATH="$JAVA_HOME/bin:$PATH"
  make install DESTDIR="%d" PREFIX="%p"

  install -d -m 755 %i/share/doc/%n
  mv %i/doc/libreadline-java-%v/* %i/share/doc/%n/
  rm -rf %i/doc

  mv %i/share/java/libreadline-java.jar/libreadline-java.jar .
  rm -rf %i/share/java
<<
JarFiles: *.jar
DocFiles: COPYING* ChangeLog NEWS README* TODO VERSION
Homepage: http://java-readline.sourceforge.net/
Maintainer: Benjamin Reed <ranger@befunk.com>
Description: Readline support for Java
DescDetail: <<
Java-Readline is a port of GNU Readline for Java.  Or, to be
more precise, it is a JNI-wrapper to Readline.
<<
License: LGPL
