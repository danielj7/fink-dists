Package: esvn
Version: 0.6.0
Revision: 11
Description: GUI frontend for Subversion (QT-based)
License: GPL
Maintainer: Christian Schaffner <chris01@users.sourceforge.net>

# Dependencies:
BuildDepends: qt3, qt3-dev, x11-dev
Depends: svn-client-ssl (>= 1.0.4-11) | svn-client (>= 1.0.4-11), qt3-shlibs, x11

# Unpack Phase:
Source: http://esvn.umputun.com/%n-%v-1.tar.gz
Source-MD5: 664de5f7fc4b0b1780f6abd801981a93
SourceDirectory: %n

# Patch Phase:
Patch: %n.patch
PatchScript: <<
 perl -pi -e 's;UI version="3.3" stdsetdef="1";UI version="3.2" stdsetdef="1";' .ui/*.ui
<<

# Compile Phase:
GCC: 3.3
CompileScript: <<
 make
<<

# Install Phase:
DocFiles: AUTHORS COPYING ChangeLog LICENSE README
InstallScript: <<
 ### Install esvn
 /usr/bin/install -d %i/bin
 /usr/bin/install -d %i/share
 /usr/bin/install -d %i/share/pixmaps
 /usr/bin/install -d %i/share/applications
 /usr/bin/install -m 755 esvn %i/bin/esvn
 #install -m644 esvn.pdf %i/share/doc/esvn/esvn.pdf
 /usr/bin/install -m 755 esvn-diff-wrapper %i/bin/esvn-diff-wrapper
 /usr/bin/install -m 644 esvn.png %i/share/pixmaps/esvn.png
 /usr/bin/install -m 644 eSvn.desktop %i/share/applications/eSvn.desktop

 ### Install esvn docu
 /usr/bin/install -d %i/share/doc
 /usr/bin/install -d %i/share/doc/%n
 cp -r html-docs %i/share/doc/%n
<<

# Additional Info
DescDetail: <<
eSvn is a Graphical User Interface (GUI) to the subversion revision 
management system.
<<
DescUsage: <<
The help files are installed at 
/sw/share/doc/esvn/html-docs/index.html
<<
DescPort: <<
Version of .ui files downgraded. The perl patch line should be removed 
once qt3 is updated to a version >= 3.3.x

The patch adds __APPLE__ to the list of bsd platforms.
<<
Homepage: http://esvn.umputun.com/
