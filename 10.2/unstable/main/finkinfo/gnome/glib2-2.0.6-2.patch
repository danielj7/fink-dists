diff -Naur glib-2.0.6.old/Makefile.in glib-2.0.6.new/Makefile.in
--- glib-2.0.6.old/Makefile.in	Sat Jul 27 07:04:59 2002
+++ glib-2.0.6.new/Makefile.in	Mon Sep 16 14:32:48 2002
@@ -149,7 +149,7 @@
 
 AUTOMAKE_OPTIONS = 1.4
 
-SUBDIRS = . m4macros glib gobject gmodule gthread tests build po docs
+SUBDIRS = . m4macros glib gobject gmodule gthread build po docs
 
 bin_SCRIPTS = glib-gettextize
 
diff -Naur glib-2.0.6.old/configure glib-2.0.6.new/configure
--- glib-2.0.6.old/configure	Sat Jul 27 06:32:33 2002
+++ glib-2.0.6.new/configure	Mon Sep 16 14:32:48 2002
@@ -9274,7 +9274,7 @@
     # FIXME: Relying on posixy $() will cause problems for
     #        cross-compilation, but unfortunately the echo tests do not
     #        yet detect zsh echo's removal of \ escapes.
-    archive_cmds='$nonopt $(test "x$module" = xyes && echo -bundle || echo -dynamiclib) $allow_undefined_flag -o $lib $libobjs $deplibs$linker_flags -install_name $rpath/$soname $verstring'
+    archive_cmds='$nonopt $(test x$module = xyes && echo -bundle || echo -dynamiclib) $allow_undefined_flag -o $lib $libobjs $deplibs$linker_flags -install_name $rpath/$soname $tmp_verstring'
     # We need to add '_' to the symbols in $export_symbols first
     #archive_expsym_cmds="$archive_cmds"' && strip -s $export_symbols'
     hardcode_direct=yes
@@ -20575,9 +20575,10 @@
 #define GLIB_MICRO_VERSION $GLIB_MICRO_VERSION
 "
 
+# Prefer __va_copy, available on both gcc2 and gcc3.
 case xyes in
-x$glib_cv_va_copy)	glib_vacopy='#define G_VA_COPY	va_copy' ;;
 x$glib_cv___va_copy)	glib_vacopy='#define G_VA_COPY	__va_copy' ;;
+x$glib_cv_va_copy)	glib_vacopy='#define G_VA_COPY	va_copy' ;;
 *)			glib_vacopy=''
 esac
 
@@ -21568,8 +21569,11 @@
 /* gcc-2.95.x supports both gnu style and ISO varargs, but if -ansi
  * is passed ISO vararg support is turned off, and there is no work
  * around to turn it on, so we unconditionally turn it off.
+ *
+ * On darwin, use gcc macro to avoid incompatibility between gcc2
+ * and gcc3.
  */
-#if __GNUC__ == 2 && __GNUC_MINOR__ == 95
+#if (__GNUC__ == 2 && __GNUC_MINOR__ == 95) || defined (__APPLE__)
 #  undef G_HAVE_ISO_VARARGS
 #endif
 
diff -Naur glib-2.0.6.old/glib/libcharset/Makefile.in glib-2.0.6.new/glib/libcharset/Makefile.in
--- glib-2.0.6.old/glib/libcharset/Makefile.in	Sat Jul 27 07:05:03 2002
+++ glib-2.0.6.new/glib/libcharset/Makefile.in	Mon Sep 16 14:32:48 2002
@@ -148,7 +148,7 @@
 ms_librarian = @ms_librarian@
 
 INCLUDES = \
-	-DLIBDIR=\"$(libdir)\"
+	-DLIBDIR=\"$(sysconfdir)/glib-2.0\"
 
 
 noinst_LTLIBRARIES = libcharset.la
@@ -171,8 +171,8 @@
 	make-patch.sh
 
 
-charset_alias = $(DESTDIR)$(libdir)/charset.alias
-charset_tmp = $(DESTDIR)$(libdir)/charset.tmp
+charset_alias = $(DESTDIR)$(sysconfdir)/glib-2.0/charset.alias
+charset_tmp = $(DESTDIR)$(sysconfdir)/glib-2.0/charset.tmp
 
 SUFFIXES = .sed .sin
 
@@ -395,7 +395,7 @@
 mostlyclean distclean maintainer-clean
 
 install-exec-local: all-local
-	$(mkinstalldirs) $(DESTDIR)$(libdir)
+	$(mkinstalldirs) $(DESTDIR)$(sysconfdir)/glib-2.0
 	if test -f $(charset_alias); then \
 	  sed -f ref-add.sed $(charset_alias) > $(charset_tmp) ; \
 	  $(INSTALL_DATA) $(charset_tmp) $(charset_alias) ; \
diff -Naur glib-2.0.6.old/glib/libcharset/charset.alias glib-2.0.6.new/glib/libcharset/charset.alias
--- glib-2.0.6.old/glib/libcharset/charset.alias	Thu Jan  1 09:00:00 1970
+++ glib-2.0.6.new/glib/libcharset/charset.alias	Mon Sep 16 14:32:48 2002
@@ -0,0 +1,79 @@
+# This file contains a table of character encoding aliases,
+# suitable for operating system 'freebsd'.
+# It was automatically generated from config.charset.
+# Packages using this file: 
+C ASCII
+US-ASCII ASCII
+la_LN.ASCII ASCII
+lt_LN.ASCII ASCII
+da_DK.ISO_8859-1 ISO-8859-1
+da_DK.DIS_8859-15 ISO-8859-15
+de_AT.ISO_8859-1 ISO-8859-1
+de_AT.DIS_8859-15 ISO-8859-15
+de_CH.ISO_8859-1 ISO-8859-1
+de_CH.DIS_8859-15 ISO-8859-15
+de_DE.ISO_8859-1 ISO-8859-1
+de_DE.DIS_8859-15 ISO-8859-15
+en_AU.ISO_8859-1 ISO-8859-1
+en_AU.DIS_8859-15 ISO-8859-15
+en_CA.ISO_8859-1 ISO-8859-1
+en_CA.DIS_8859-15 ISO-8859-15
+en_GB.ISO_8859-1 ISO-8859-1
+en_GB.DIS_8859-15 ISO-8859-15
+en_US.ISO_8859-1 ISO-8859-1
+en_US.DIS_8859-15 ISO-8859-15
+es_ES.ISO_8859-1 ISO-8859-1
+es_ES.DIS_8859-15 ISO-8859-15
+fi_FI.ISO_8859-1 ISO-8859-1
+fi_FI.DIS_8859-15 ISO-8859-15
+fr_BE.ISO_8859-1 ISO-8859-1
+fr_BE.DIS_8859-15 ISO-8859-15
+fr_CA.ISO_8859-1 ISO-8859-1
+fr_CA.DIS_8859-15 ISO-8859-15
+fr_CH.ISO_8859-1 ISO-8859-1
+fr_CH.DIS_8859-15 ISO-8859-15
+fr_FR.ISO_8859-1 ISO-8859-1
+fr_FR.DIS_8859-15 ISO-8859-15
+is_IS.ISO_8859-1 ISO-8859-1
+is_IS.DIS_8859-15 ISO-8859-15
+it_CH.ISO_8859-1 ISO-8859-1
+it_CH.DIS_8859-15 ISO-8859-15
+it_IT.ISO_8859-1 ISO-8859-1
+it_IT.DIS_8859-15 ISO-8859-15
+la_LN.ISO_8859-1 ISO-8859-1
+la_LN.DIS_8859-15 ISO-8859-15
+lt_LN.ISO_8859-1 ISO-8859-1
+lt_LN.DIS_8859-15 ISO-8859-15
+nl_BE.ISO_8859-1 ISO-8859-1
+nl_BE.DIS_8859-15 ISO-8859-15
+nl_NL.ISO_8859-1 ISO-8859-1
+nl_NL.DIS_8859-15 ISO-8859-15
+no_NO.ISO_8859-1 ISO-8859-1
+no_NO.DIS_8859-15 ISO-8859-15
+pt_PT.ISO_8859-1 ISO-8859-1
+pt_PT.DIS_8859-15 ISO-8859-15
+sv_SE.ISO_8859-1 ISO-8859-1
+sv_SE.DIS_8859-15 ISO-8859-15
+cs_CZ.ISO_8859-2 ISO-8859-2
+hr_HR.ISO_8859-2 ISO-8859-2
+hu_HU.ISO_8859-2 ISO-8859-2
+la_LN.ISO_8859-2 ISO-8859-2
+lt_LN.ISO_8859-2 ISO-8859-2
+pl_PL.ISO_8859-2 ISO-8859-2
+sl_SI.ISO_8859-2 ISO-8859-2
+la_LN.ISO_8859-4 ISO-8859-4
+lt_LT.ISO_8859-4 ISO-8859-4
+ru_RU.KOI8-R KOI8-R
+ru_RU.ISO_8859-5 ISO-8859-5
+ru_RU.CP866 CP866
+ru_SU.KOI8-R KOI8-R
+ru_SU.ISO_8859-5 ISO-8859-5
+ru_SU.CP866 CP866
+uk_UA.KOI8-U KOI8-U
+zh_TW.BIG5 BIG5
+zh_TW.Big5 BIG5
+zh_CN.EUC GB2312
+ja_JP.EUC EUC-JP
+ja_JP.SJIS SHIFT_JIS
+ja_JP.Shift_JIS SHIFT_JIS
+ko_KR.EUC EUC-KR
diff -Naur glib-2.0.6.old/ltmain.sh glib-2.0.6.new/ltmain.sh
--- glib-2.0.6.old/ltmain.sh	Mon Jun 24 05:18:00 2002
+++ glib-2.0.6.new/ltmain.sh	Mon Sep 16 14:32:48 2002
@@ -2952,7 +2952,17 @@
 	if test -n "$export_symbols" && test -n "$archive_expsym_cmds"; then
 	  eval cmds=\"$archive_expsym_cmds\"
 	else
+	  if test "x$verstring" = "x0.0"; then
+	    tmp_verstring=
+	  else
+	    tmp_verstring="$verstring"
+	  fi
+	  save_deplibs="$deplibs"
+	  for conv in $convenience; do
+	    deplibs="${deplibs%$conv*} ${deplibs#*$conv}"
+	  done
 	  eval cmds=\"$archive_cmds\"
+	  deplibs="$save_deplibs"
 	fi
 	save_ifs="$IFS"; IFS='~'
 	for cmd in $cmds; do
@@ -4006,10 +4016,10 @@
 
 # Directory that this library needs to be installed in:
 libdir='$install_libdir'"
-	  if test "$installed" = no && test "$need_relink" = yes; then
-	    $echo >> $output "\
-relink_command=\"$relink_command\""
-	  fi
+#	  if test "$installed" = no && test "$need_relink" = yes; then
+#	    $echo >> $output "\
+#relink_command=\"$relink_command\""
+#	  fi
 	done
       fi
 
