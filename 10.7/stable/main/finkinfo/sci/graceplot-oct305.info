Info2: <<
Package: graceplot-oct305
Version: 1.0.6
Type: oct (3.0.5), forge (graceplot), gcc (4.8)
Revision: 8
Maintainer: Alexander Hansen <alexkhansen@users.sourceforge.net>
Homepage: http://octave.sourceforge.net/
Description: Graceplot bindings for octave
DescDetail: <<
Allows Octave to plot using GRACE.
It provides the following functions:
graphics:
        grace_octave_path
        toggle_grace_use
        subtitle
        cla
support:
        __grcmd__
        __grcla__
        __grclf__
        __grexit__
        __grfigure__
        __grgetstat__
        __grhold__
        __grinit__
        __grishold__
        __grnewset__
        __grsetgraph__
<<
License: GPL2

# All octave-forge packages have to have the following BuildDepends:
#  liboctave%type_pkg[oct]-gcc%type_pkg[gcc]-dev,
# fftw3, hdf5.7-oldapi

BuildDepends: <<
  liboctave%type_pkg[oct]-gcc%type_pkg[gcc]-dev,
  fink-octave-scripts (>= 0.1.2),
  fftw3,
  hdf5.7-oldapi,
  fink (>=0.32)
 <<
RuntimeDepends: <<
  grace,
  io-oct%type_pkg[oct], 
  general-oct%type_pkg[oct]
<<
Depends: <<
  octave%type_pkg[oct]-interpreter,
  gcc%type_pkg[gcc]-shlibs
<<
Conflicts: octave-forge, octave-forge-%type_raw[forge] (<< 1.0.6-999)
Replaces: octave-forge-%type_raw[forge] (<< 1.0.6-999)

Source: mirror:sourceforge:octave/%type_raw[forge]-%v.tar.gz
Source-MD5: 928765a7cc8160801fc9c754080a3af9

NoSetCPPFLAGS: true
NoSetLDFLAGS: true
SetLIBRARY_PATH: /usr/X11R6/lib:%p/lib
UseMaxBuildJobs: false
BuildAsNobody: false

CompileScript: <<
#!/bin/sh -ev
export OCTAVE=%p/bin/octave-%type_raw[oct]
pkgsrc=%type_raw[forge]-%v

##### Invariant stuff begins here #####
%p/share/fink-octave-scripts/octave-forge-patch.sh %type_raw[forge] %v %type_raw[oct] %b %i $pkgsrc
./octave-forge-compile.sh
<<

InstallScript: ./octave-forge-install.sh
PostInstScript:  %p/share/octave/%type_raw[oct]/%type_raw[forge]/octave-forge-postinst.sh
PreRmScript: %p/share/octave/%type_raw[oct]/%type_raw[forge]/octave-forge-prerm.sh

DescPackaging: <<
This package:
Some files have a BSD license, and some have GPL3.  The validator doesn't
currently recognize this as an option.
Patch to encode the proper paths for the .m files in Octave's internal path lookup.

Common for all octave-forge packages:

We read in postinst and prerm template scripts installed by octaveN and modify
them to use the name of this package because Octave's package manager can't 
cope with non-literal arguments.

The Type: forge (pkgname) is used to minimize what needs to be changed when
using this .info file as a template, or when the package name contains 
underscores.
<<
<<
