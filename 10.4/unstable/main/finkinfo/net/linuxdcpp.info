Package: linuxdcpp
Version: 1.0.2
Revision: 4
Description: Direct Connect protocol GTK client
License: GPL
Maintainer: Hanspeter Niederstrasser <nieder@users.sourceforge.net>
Depends: <<
	atk1-shlibs,
	bzip2-shlibs,
	cairo-shlibs (>= 1.6-1),
	fontconfig2-shlibs,
	freetype219-shlibs (>= 2.3.7-4),
	glib2-shlibs,
	gtk+2-shlibs (>= 2.12.3-1),
	libgettext3-shlibs,
	libglade2-shlibs (>= 2.4-1),
	pango1-xft2-ft219-shlibs (>= 1.22.0-3),
	x11-shlibs
<<
BuildDepends: <<
	atk1 (>= 1.20.0-1),
	bzip2-dev,
	cairo (>= 1.6-1),
	fink (>= 0.24.12),
	fontconfig2-dev,
	freetype219 (>= 2.3.7-4),
	glitz,
	glib2-dev (>= 2.14.0-1),
	gtk+2-dev (>= 2.12.3-1),
	libgettext3-dev,
	libglade2 (>= 2.4-1),
	pango1-xft2-ft219-dev (>= 1.22.0-3),
	pixman (>= 0.10.0-1),
	pkgconfig (>= 0.23),
	scons (>= 0.96),
	system-openssl-dev,
	x11-dev
<<
BuildConflicts: python (>= 1:2.6-1)
Source: http://launchpad.net/%n/1.0/%v/+download/%n-%v.tar.bz2
Source-MD5: 905d572357cbdbc66c8d45fe394f80fc
PatchFile: %n.patch
PatchFile-MD5: b8521582fbfb6b4ac9be7622e9e9bad2
PatchScript: <<
#!/bin/sh -ev
if [ `/usr/bin/sw_vers -productVersion | cut -d'.' -f1-2` == 10.4 ]; then
	/usr/bin/patch -p1 < %{PatchFile}
fi
/usr/bin/perl -pi -e 's|libs libglade-2.0|$& fontconfig x11 xext xrender xinerama xrandr xcursor xfixes xcomposite xdamage|' SConstruct
<<
NoSetCFLAGS: true
SetCFLAGS: -I%p/lib/system-openssl/include
NoSetLDFLAGS: true
SetLDFLAGS: -L%p/lib/system-openssl/lib
GCC: 4.0
CompileScript: <<
#!/bin/sh -ev
%p/bin/scons PREFIX=%p
<<
InstallScript: <<
%p/bin/scons install FAKE_ROOT=%d
<<
DocFiles: Changelog.txt Credits.txt License.txt Readme.txt
Homepage: https://launchpad.net/linuxdcpp
DescDetail: <<
LinuxDC++ is a Linux port of the Direct Connect client DC++. Though 
it is primarily aimed at Linux, it has been shown to work on other 
Unix-based operating systems as well. It is written in C++ and makes 
use of GTK+ for the user-interface.

Direct connect is a peer-to-peer file-sharing protocol. The most 
popular Windows client implementing this protocol currently is DC++. 
Direct Connect clients connect to a central hub where they can view 
a list of clients or users connected to them. Users can search for 
files and download them from other clients, as well as chat with other 
users.
<<
DescUsage: <<
linuxdcpp
<<
DescPort: <<
iconv patch from http://lists.freebsd.org/pipermail/freebsd-gnome/2007-February/016718.html but does not seem to be needed on 10.5.
<<
