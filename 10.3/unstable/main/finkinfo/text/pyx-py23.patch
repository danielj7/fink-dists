--- PyX-0.6.3/setup.py.orig	Tue Jan 27 19:30:44 2004
+++ PyX-0.6.3/setup.py	Tue Jan 27 19:28:10 2004
@@ -38,7 +38,7 @@
 # data files
 #
 
-data_files = [('share/pyx', ['pyx/lfs/10pt.lfs',
+data_files = [('share/pyx-py23', ['pyx/lfs/10pt.lfs',
                              'pyx/lfs/11pt.lfs',
                              'pyx/lfs/12pt.lfs',
                              'pyx/lfs/10ptex.lfs',
--- PyX-0.6.3/pyx/tex.py.orig	Tue Jan 27 19:22:57 2004
+++ PyX-0.6.3/pyx/tex.py	Tue Jan 27 19:24:28 2004
@@ -1030,7 +1030,7 @@
         except IOError:
             try:
                 try:
-                    SysLfsName = os.path.join(sys.prefix, "share", "pyx", str(lfs) + ".lfs")
+                    SysLfsName = os.path.join(sys.prefix, "share", "pyx-py23", str(lfs) + ".lfs")
                     lfsdef = open(SysLfsName, "r").read()
                 except IOError:
                     SysLfsName = os.path.join(os.path.dirname(__file__), "lfs", str(lfs) + ".lfs")
@@ -1039,7 +1039,7 @@
                 files = map(lambda x: x[:-4],
                             filter(lambda x: x[-4:] == ".lfs",
                                    os.listdir(".") +
-                                   os.listdir(os.path.join(sys.prefix, "share", "pyx")),
+                                   os.listdir(os.path.join(sys.prefix, "share", "pyx-py23")),
                                    os.listdir(os.path.join(os.path.dirname(__file__), "lfs"))))
                 raise IOError("file '%s.lfs' not found. Available latex font sizes:\n%s" % (lfs, files))
         self.define(lfsdef)
--- PyX-0.6.3/pyx/text.py.orig	Tue Jan 27 19:24:56 2004
+++ PyX-0.6.3/pyx/text.py	Tue Jan 27 19:26:35 2004
@@ -806,7 +806,7 @@
                 else:
                     lfsname = "%s.lfs" % self.lfs
                 for fulllfsname in [lfsname,
-                                    os.path.join(sys.prefix, "share", "pyx", lfsname),
+                                    os.path.join(sys.prefix, "share", "pyx-py23", lfsname),
                                     os.path.join(os.path.dirname(__file__), "lfs", lfsname)]:
                     try:
                         lfsfile = open(fulllfsname, "r")
@@ -817,7 +817,7 @@
                         pass
                 else:
                     allfiles = (glob.glob("*.lfs") +
-                                glob.glob(os.path.join(sys.prefix, "share", "pyx", "*.lfs")) +
+                                glob.glob(os.path.join(sys.prefix, "share", "pyx-py23", "*.lfs")) +
                                 glob.glob(os.path.join(os.path.dirname(__file__), "lfs", "*.lfs")))
                     lfsnames = []
                     for f in allfiles:
@@ -837,7 +837,7 @@
             elif self.mode == "latex":
                 if self.pyxgraphics:
                     for pyxdef in ["pyx.def",
-                                   os.path.join(sys.prefix, "share", "pyx", "pyx.def"),
+                                   os.path.join(sys.prefix, "share", "pyx-py23", "pyx.def"),
                                    os.path.join(os.path.dirname(__file__), "..", "contrib", "pyx.def")]:
                         try:
                             open(pyxdef, "r").close()
--- PyX-0.6.3/setup.cfg.orig	Sat Jan 31 08:24:10 2004
+++ PyX-0.6.3/setup.cfg	Sat Jan 31 08:25:00 2004
@@ -2,11 +2,11 @@
 # In this section you can specify which c extension modules should be built
 
 # C extension module for partial font downloading
-build_t1strip=0
+build_t1strip=1
 
 # Python bindings for the kpathsea library. You need the kpathsea header
 # and library and you may need to specify their location below.
-build_pykpathsea=0
+build_pykpathsea=1
 
 [build_ext]
 # additional include and library directories:
@@ -14,5 +14,5 @@
 #   the pykpathsea extention module and libkpathsea is not installed in
 #   the default search paths of your compiler and linker
 
-# include_dirs=
-# library_dirs=
+include_dirs= @PREFIX@/include
+library_dirs= @PREFIX@/lib
--- PyX-0.6.3/manual/Makefile.orig	Tue Jan 27 19:29:24 2004
+++ PyX-0.6.3/manual/Makefile	Tue Jan 27 19:29:43 2004
@@ -27,29 +27,29 @@
 manual.pdf: $(src) png
 	#for index-with-own-hyperrefs debugging, anybody interested?
 	#./mkhowto --a4 --pdf --keep manual.tex
-	./mkhowto --a4 --pdf manual.tex
+	@PREFIX@/share/doc/python23/Doc/tools/mkhowto --a4 --pdf manual.tex
 
 manual.ps: manual.dvi
 	dvips -o manual.ps manual.dvi
 
 manual.dvi: $(src) eps
-	./mkhowto --a4 --dvi manual.tex
+	@PREFIX@/share/doc/python23/Doc/tools/mkhowto --a4 --dvi manual.tex
 
 manual/manual.html: $(src) eps
 	# move pdf png's out of the way
 	-rm -f *.png
-	./mkhowto --image-type png --favicon "/pyx.ico" \
+	@PREFIX@/share/doc/python23/Doc/tools/mkhowto --image-type png --favicon "/pyx.ico" \
 	          --up-link "/" --up-title "PyX homepage" \
 	          --html manual.tex
 
 pyxversion.tex: ../pyx/version.py
-	python -c "import sys;sys.path[:0]=[\"..\"];import pyx.version;print pyx.version.version+'%'" > pyxversion.tex
+	@PREFIX@/bin/python2.3 -c "import sys;sys.path[:0]=[\"..\"];import pyx.version;print pyx.version.version+'%'" > pyxversion.tex
 
 eps: $(patsubst %.py, %.eps, $(wildcard *.py))
 png: $(patsubst %.py, %.png, $(wildcard *.py))
 
 %.eps: %.py
-	export PYTHONPATH=$(PWD)/.. ; python $^
+	export PYTHONPATH=$(PWD)/.. ; @PREFIX@/bin/python2.3 $^
 
 %.png: %.eps
 	gs -dEPSCrop -dNOPAUSE -dQUIET -dBATCH -sDEVICE=png16m -sOutputFile=$@ -r600 $^
