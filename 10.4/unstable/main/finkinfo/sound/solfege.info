Package: solfege
Version: 3.10.4
Revision: 1
Source: mirror:sourceforge:%n/%n-%v.tar.gz
Source-MD5: 74705388c446a10ed574e68bcd3134d4
Depends: <<
	 python25, 
	 pygtk2-gtk-py25 (>=2.6.0), 
	 pygobject2-py25,
	 libgtkhtml2-shlibs (>=1.99.6),
	 qtplay,
	 fontconfig-path,
	 pango1-xft2,
	 gtk+2,
	 vorbis-tools, mpg123, lame
<<
BuildDepends: <<
	      python25, 
	      swig, 
	      gettext-tools, 
	      texinfo, glib2-dev (>=2.0), 
	      pkgconfig (>=0.17.0), 
	      pygtk2-gtk-py25-dev (>=2.6.0), 
	      pygobject2-py25-dev, 
	      libxml2 (>=2.4.0), 
	      gtk+2-dev (>=2.2.0), 
	      libgtkhtml2 (>=1.99.6), 
	      docbook-xsl, 
	      gnome-doc-utils,
	      libxslt-bin
<<
PatchScript: sed 's|@PREFIX@|%p|g' <%a/%n.patch | patch -p1
ConfigureParams: --mandir=%p/share/man --infodir=%p/share/info --enable-docbook-stylesheet=%p/share/xml/xsl/docbook-xsl/html/chunk.xsl
CompileScript: <<
#!/bin/bash -ev
export PYTHON="%p/bin/python2.5"
./configure %c
make
<<
Installscript: <<
 make install DESTDIR=%d
<<
Description: Ear training lessons with audio feedback
DocFiles: AUTHORS COPYING ChangeLog FAQ INSTALL INSTALL.win32 README
License: GPL
Homepage: http://www.solfege.org/
Maintainer: Jean Orloff <jean.orloff@free.fr>
DescDetail:<<
	Solfege is an ear training program for X11 written in python, using the
	GTK+ and GNOME libraries. 

	Eartraining is a big subject with many connections to music theory and
	performance of music, so it is hard even trying to make "a complete
	computer-based ear training course". But someone will hopfully find this
	software useful.
	
	A lot of efforts has gone into the non-english translation of
	docs and lessons: please set up the language environment
	properly, with e.g:
	$ export LANGUAGE="fr_FR"	
<<
DescPackaging:<<

* This packaging is a continuing effort of 1357190, which was closed by
  lack of response on my part during the hollidays.

* I spent a lot of time scrutinizing all dependencies, and installing from
  source or binaries on a fresh fink. For instance, Debian makes solfege
  depend on lilypond, and thus ghostscript, which is not really necessary.

* $ fink validate solfege.info 
  Package looks good!

* libgtkhtml2: allows to view html help pages with the application, instead of default browser; ignore complaints at launch about 
	"Checking for gtkhtml2... No module named gtkhtml2"
Local .html docs are shown properly, and this error shows up on Debian version too.

* "warning: invalid directory in path: /Users/username/lessonfiles"
   can be avoided by creating the said directory.

* depends on python25, but could work with python24: should maybe make 2 packages (splitoff??)

<<
DescUsage:<<
* Needs a running X11: first launch /Applications/Utilities/X11.app

* then, in a terminal, type:
    $ solfege

* if you get a long barking ending with:
    RuntimeError: could not open display
  type:
    $ export DISPLAY=":0.0"

* The warning:
  Checking for gtkhtml2... No module named gtkhtml2
  is harmless.

* If you get
    warning: invalid directory in path: /Users/username/lessonfiles
  create the directory
    $ mkdir ~/lessonfiles
  to store and enable homemade lessonfiles

* If you want to translate .midi files into .wav, install
     $ fink install timidity-nox
  Is not done by default because it loads 25Mb of sound patterns...

* To benefit from the huge translation effort, make sure your language
  environment is set, e.g. with:
	$ export LANGUAGE="fr_FR"	

* Have fun, and see you in 10 years, when you pass all tests easily while
watching TV...
<<
