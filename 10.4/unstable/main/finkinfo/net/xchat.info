# DISCLAIMER: Max Horn is the sole maintainer of this package.
# Please DO NOT MAKE MODIFICATIONS without informing the maintainer.
# Preferably, send a patch to me instead of making changes yourself!
# If that is not possible due to extra urgency, at least send me a mail.
#
# Explanation: I am sick and tired of getting back to my packages and
# discovering that people have messed with it. I am then forced to
# retrace their steps, find out who, when and why did make a certain
# change etc. -- i.e. it makes my life as maintainer harder.
# Furthermore, as maintainer I am responsible for problems caused by my
# packages. But I am not willing to take responsibility for something I
# did not do. In particular, for changes that other people introduced
# behind my back, no matter how good and noble their intentions were. As
# such, I may see myself forced to drop responsibility for (and hence,
# maintainership of) the affected package.

Package: xchat
Version: 2.6.8
Revision: 1023
Maintainer: Max Horn <max@quendi.de>
BuildDepends: <<
  system-openssl-dev,
  pkgconfig,
  gtk+2-dev (>= 2.6.0-1),
  gtk+2 (>= 2.6.0-1),
  atk1 (>= 1.2.2-3),
  pango1-xft2-dev,
  glib2-dev (>= 2.12.0-1),
  gtkspell2-dev,
  aspell-dev,
  dbus-dev (>= 0.6.0-1),
  tcltk,
  tcltk-dev,
  libgettext3-dev,
  gettext-bin,
  gettext-tools,
  libiconv-dev
<<
Depends: <<
  gtk+2-shlibs (>= 2.6.0-1),
  gtkspell2-shlibs,
  pango1-xft2,
  dbus (>= 0.6.0-1),
  tcltk-shlibs,
  python25,
  libgettext3-shlibs
<<
Conflicts: xchat-ssl (<< 2.6.8-1022)
Replaces: xchat-ssl (<< 2.6.8-1022)
Source: http://xchat.org/files/source/2.6/xchat-%v.tar.bz2
Source-MD5: 940fd8560a4e4e5d905e53207c6cbb87
Patch: %n.patch
ConfigureParams: <<
  --enable-openssl \
  --enable-hebrew \
  --enable-tcl=%p/lib \
  --enable-ipv6 \
  --enable-spell=gtkspell \
  --disable-xlib \
  --disable-dependency-tracking \
  --disable-mmx
<<
SetCPPFLAGS: -I%p/lib/system-openssl/include
SetLDFLAGS: -L%p/lib/system-openssl/lib
CompileScript: <<
  pythonpath=%p/bin/python2.5 ./configure %c
  make
<<
InstallScript: make install DESTDIR=%d
DocFiles: AUTHORS COPYING ChangeLog README faq.html
Description: Graphical IRC client
DescDetail: <<
XChat is a graphical IRC client for UNIX operating systems (I.R.C. is Internet
Relay Chat, see http://irchelp.org for more information about IRC in general).
It runs under the X Window System and uses the GTK+2 toolkit.
<<
DescPort: <<
No -lutil is available nor required for the python plugin; thus I removed it
(and the -lpthread), which fixes the python plugin.
<<
DescPackaging: <<
Use glib2-2.12.0 for GCC version independence

Force python interp to avoid "first 'python' in PATH" dependency mess
<<
Homepage: http://www.xchat.org
License: GPL
#
SplitOff: <<
  Package: %N-ssl
  Depends: %N (= %v-%r), fink-obsolete-packages
  InstallScript: <<
    mkdir -p %i/share/doc/installed-packages
    touch %i/share/doc/installed-packages/%n
  <<
  Description: Placeholder package to update to unified %N. (OBSOLETE)
<<
