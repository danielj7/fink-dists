Package: canna
Version: 3.5b2
Revision: 6
GCC: 3.1
BuildDepends: libxml2, gdbm, gmp, expat, tcltk-dev
Depends: %N-shlibs (= %v-%r)
Source: mirror:custom:Canna35b2.tar.gz
Source-MD5: 09ae4dd3a5d33168ba17470ad9242cf3
CustomMirror: <<
 Primary: ftp://ftp.nec.co.jp/pub/Canna/Canna35/
 Secondary: ftp://ftp.tokyonet.ad.jp/pub/misc/Canna/Canna35/
 Secondary: ftp://ftp.sra.co.jp/pub/misc/canna/
<<
PatchScript: sed 's|@PREFIX@|%p|g' <%a/%f.patch | patch -p1
ConfFiles: %p/etc/canna/default.canna
CompileScript: <<
 xmkmf
 make Makefile
 make canna SHLIBLDFLAGS="-dynamiclib -undefined suppress -flat_namespace"
<<
InstallScript: make install install.man DESTDIR=%d
SplitOff: <<
  Package: %N-shlibs
  Depends: x11, daemonic
  Replaces: %N (<= 3.5b2-4)
  Files: lib/libcanna.*.dylib lib/libcanna16.*.dylib lib/libRKC.*.dylib lib/libRKC16.*.dylib
  DocFiles: CHANGES* README* WHATIS*
<<
SplitOff2: <<
  Package: %N-dev
  BuildDependsOnly: True
  Depends: %N-shlibs (= %v-%r)
  Replaces: %N (<= 3.5b2-4)
  Files: include lib/*.a lib/libcanna.dylib lib/libcanna16.dylib lib/libRKC.dylib lib/libRKC16.dylib share/man/man3
  DocFiles: CHANGES* README* WHATIS*
<<
DocFiles: CHANGES* README* WHATIS*
DaemonicFile: <<
<service>
<description>Canna Server</description>
<message>Canna server</message>
<daemon name="canna">
<executable background="yes">%p/sbin/cannaserver</executable>
<pidfile>%p/var/run/%n.pid</pidfile>
</daemon>
</service>
<<
PostInstScript: <<
daemonic install canna
daemonic enable canna
<<
PreRmScript: <<
if [ $1 != "upgrade" ]; then
  daemonic remove canna
fi
<<
Description: Japanese input system
DescDetail: <<
Canna is based on a client-server model for kana-to-kanji conversion,
that is, an application program which uses a Japanese input system
communicates with a kana-to-kanji conversion server, which is a separate
process from the application program.
<<
License: BSD
Maintainer: Masanori Sekino <msek@users.sourceforge.net>
Homepage: http://www.nec.co.jp/canna/
