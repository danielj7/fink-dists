Package: php4
Version: 4.4.2
Revision: 17
Distribution: (%m = powerpc) 10.4
###
BuildDepends: aprutil-dev, apr-dev (>= 0.9.12-10), libtool14, libgettext3-dev, libiconv-dev, gd2, mysql15-dev, postgresql80-unified-dev, libcurl3-unified, expat, libmhash, libmcve, libmcrypt, libxml2 (>= 2.6.1-1), libxslt (>= 1.1.0-1), openldap23-dev, libsablot-dev, ming, t1lib5, pcre, libpng3, apache2-dev (>= 2.0.58-10), unixodbc2 | unixodbc2-nox, gdbm3, net-snmp-unified15-dev, db44-aes, libtiff, pdflib, system-java15-dev, recode-dev, gmp, mnogosearch1-dev, libc-client1-dev, libjpeg, cyrus-sasl2-dev, system-openssl-dev
Replaces: php4-apache2-ssl
###
CustomMirror: <<
  eur-AR: http://ar.php.net/
  oce-AU: http://au.php.net/
  oce-AU: http://au2.php.net/
  oce-AU: http://au3.php.net/
  eur-AT: http://at.php.net/
  eur-AT: http://at2.php.net/
  eur-BE: http://be.php.net/
  eur-BE: http://be2.php.net/
  sam-BR: http://br.php.net/
  sam-BR: http://br2.php.net/
  nam-CA: http://ca.php.net/
  nam-CA: http://ca2.php.net/
  nam-CA: http://ca3.php.net/
  asi-CN: http://cn.php.net/
  asi-CN: http://cn2.php.net/
  sam-CR: http://cr2.php.net/
  eur-CZ: http://cz.php.net/
  eur-DK: http://dk.php.net/
  eur-DK: http://dk2.php.net/
  eur-FR: http://fr.php.net/
  eur-FR: http://fr2.php.net/
  eur-FR: http://fr3.php.net/
  eur-DE: http://de.php.net/
  eur-DE: http://de2.php.net/
  eur-DE: http://de3.php.net/
  eur-GR: http://gr.php.net/
  eur-GR: http://gr2.php.net/
  eur-HU: http://hu.php.net/
  eur-HU: http://hu2.php.net/
  asi-ID: http://id.php.net/
  eur-IE: http://ie.php.net/
  asi-JP: http://jp.php.net/
  asi-JP: http://jp2.php.net/
  eur-LV: http://lv.php.net/
  nam-MX: http://mx.php.net/
  eur-PL: http://pl.php.net/
  eur-PL: http://pl2.php.net/
  eur-RU: http://ru.php.net/
  eur-RU: http://ru2.php.net/
  eur-SI: http://si.php.net/
  eur-SI: http://si2.php.net/
  eur-SE: http://se.php.net/
  eur-SE: http://se2.php.net/
  eur-CH: http://ch.php.net/
  eur-CH: http://ch2.php.net/
  asi-TW: http://tw.php.net/
  asi-TW: http://tw2.php.net/
  eur-UA: http://ua.php.net/
  eur-UA: http://ua2.php.net/
  eur-UK: http://uk.php.net/
  eur-UK: http://uk2.php.net/
  nam-US: http://us2.php.net/
  nam-US: http://us3.php.net/  
  nam-US: http://us4.php.net/  
  nam-US: http://www.php.net/  
  eur-YU: http://yu.php.net/
<<
###
Source: mirror:custom:distributions/php-%v.tar.bz2
Source-MD5: 28051cd9ef43490dd9727a4d442011b5
###
PatchScript: <<
  ### Fix for gd/freetype
  sed 's|@FINKPREFIX@|%p|g' < %a/%n.patch | patch -p1

  ### Fix for fink's bison
  perl -pi -e 's,bison -,/usr/bin/bison -,g' configure
  perl -pi -e 's,bison -,/usr/bin/bison -,g' genfiles
  perl -pi -e 's,bison -,/usr/bin/bison -,g' run-tests.php
  perl -pi -e 's,bison -,/usr/bin/bison -,g' run-tests2.php
  perl -pi -e 's,bison -,/usr/bin/bison -,g' makedist
  perl -pi -e 's,bison -,/usr/bin/bison -,g' Zend/Zend.dsp
  perl -pi -e 's,bison -,/usr/bin/bison -,g' Zend/Zend.m4
  perl -pi -e 's,bison -,/usr/bin/bison -,g' Zend/ZendTS.dsp
  perl -pi -e 's,bison -,/usr/bin/bison -,g' ext/w32api/w32api.dsp
  perl -pi -e 's,bison -,/usr/bin/bison -,g' win32/php4dll.dsp
  perl -pi -e 's,bison -,/usr/bin/bison -,g' win32/php4dllts.dsp
  perl -pi -e 's,YACC=\"yacc\",YACC=\"/usr/bin/yacc\",g' configure

  ### Fix to allow finks xft2 or xfree4.3
  perl -pi -e 's,for i in \$PHP_FREETYPE_DIR /usr/local /usr; do,for i in \$PHP_FREETYPE_DIR %p /usr/X11R6 /usr/local /usr; do,g' configure

  ### Fix libtool relink
  perl -pi -e 's,need_relink=yes,need_relink=no,g' ltmain.sh

  ### Add db-4.4 support
  perl -pi -e 's,db-4.[1|2|3],db-4.4,g' configure

  ### Fix for Java module
  perl -pi -e 's;-framework (.+);-Wl,-framework -Wl,$1;g' configure
  perl -pi -e 's,library=php_java,library=java,g' ext/java/Makefile.frag
  perl -pi -e 's,\\\$\(JAVA_SHARED_LIBADD\),\\\$\(PHP_FRAMEWORKS\) \\\$\(JAVA_SHARED_LIBADD\) -ldl,g' configure
#  perl -pi -e 's,DL_FETCH_SYMBOL\(dl_handle\, \"JNI_CreateJavaVM\"\),DL_FETCH_SYMBOL\(dl_handle\, \"JNI_CreateJavaVM_Impl\"\),g' ext/java/java.c
#  perl -pi -e 's,DL_FETCH_SYMBOL\(dl_handle\, \"JNI_GetDefaultJavaVMInitArgs\"\),DL_FETCH_SYMBOL\(dl_handle\, \"JNI_GetDefaultJavaVMInitArgs_Impl\"\),g' ext/java/java.c

  ### Fix Zend build on PPC
  perl -pi -e 's,#define u_int32_t uint32_t,/*#define u_int32_t uint32_t*/,g' Zend/zend_strtod.c

  ### Fix LAYOUT to be all versioned
  perl -pi -e 's,libdir=\$libdir/php,libdir=\$libdir/php4,g' configure
  perl -pi -e 's,datadir=\$datadir/php,datadir=\$datadir/php4,g' configure
  perl -pi -e 's,extbasedir=\$extbasedir-debug,extbasedir=\$extbasedir,g' configure
  perl -pi -e 's,php/build,php4/build,g' scripts/Makefile.frag
  perl -pi -e 's,\$\(includedir\)/php,\$\(includedir\)/php4,g' scripts/Makefile.frag

  perl -pi -e 's,php,php4,g' scripts/php-config.in
  perl -pi -e 's,php/build,php4/build,g' scripts/phpize.in
  perl -pi -e 's,include/php,include/php4,g' scripts/phpize.in

  ### Fix thread-safety
  perl -pi -e 's,enable_experimental_zts=no,enable_experimental_zts=yes,g' configure
<<
### Fix for 10.3 dns stuff & apr & snmp
SetCFLAGS: -DBIND_8_COMPAT -I%p/include/apr-0 -L%p/lib/system-openssl/lib
NoSetLIBS: true
NoSetLDFLAGS: true
SetLDFLAGS: -L%p/lib/system-openssl/lib -L%p/lib
DocFiles: <<
  CODING_STANDARDS CREDITS EXTENSIONS NEWS README* LICENSE TODO
  Zend/LICENSE:LICENSE.Zend TSRM/LICENSE:LICENSE.TSRM
<<
###
ConfigureParams: --without-pear --enable-thread-safety --with-ming=%p --with-db4=%p --enable-dba --with-gdbm=%p --enable-dbx --with-zlib-dir=/usr --enable-ucd-snmp-hack --without-mcal --enable-force-cgi-redirect --enable-experimental-zts --without-mm --program-suffix=4 --disable-debug --enable-safe-mode --enable-memory-limit --with-layout=GNU --enable-calendar --enable-sysvmsg --enable-sysvsem --enable-sysvshm --enable-track-vars --enable-trans-sid --enable-bcmath --with-bz2=%p --enable-ctype --with-iconv=%p --enable-exif --enable-flatfile --enable-filepro --enable-ftp --with-gettext=%p --enable-mbstring --enable-shmop --enable-sockets --enable-wddx --disable-xml --with-expat-dir=%p --enable-yp --with-zlib --with-kerberos=/usr --with-openssl=/usr --with-openssl-dir=/usr --without-sybase-ct --with-regex=php --disable-rpath --disable-static --with-exec-dir=%p/lib/php4/libexec --mandir=%p/share/man
###
CompileScript: <<
  ### Configure for apache2
  if [ -d apache-build ]; then rm -rf apache-build; fi
  mkdir -p apache-build
  mkdir -p apache-build/ext/dba/libcdb
  mkdir -p apache-build/ext/dba/libflatfile
  cd apache-build; YACC="/usr/bin/bison -y" ../configure %c --with-apxs2=%p/bin/apxs2 --with-config-file-path=%p/etc/php4/apache2 --with-imap-ssl=/usr --enable-xslt --with-xmlrpc=shared --with-mnogosearch=shared,%p --with-gmp=shared,%p --with-mcve=shared,%p --with-curl=shared,%p --with-dom=shared,%p --with-dom-xslt=%p --with-dom-exslt=%p --with-xslt-sablot=%p --with-gd=shared,%p --with-tiff-dir=%p --with-jpeg-dir=%p --with-xpm-dir=shared,/usr/X11R6 --with-png-dir=%p --with-freetype-dir=shared --with-imap=shared,%p --with-ldap=shared,%p --with-mhash=shared,%p --with-mcrypt=shared,%p --with-ming=%p --with-mysql=shared,%p --with-pgsql=shared,%p --with-unixODBC=shared,%p --with-recode=shared,%p --with-t1lib=%p --with-pdflib=shared,%p --with-ttf=%p --with-snmp=shared,%p --with-java=shared

  ### Fix for dlcompat
  perl -pi -e 's,#define HAVE_MACH_O_DYLD_H 1,#undef HAVE_MACH_O_DYLD_H,g' apache-build/main/php_config.h

  ### Force unified
  perl -pi -e 's,MH_BUNDLE_FLAGS = -bundle -bundle_loader %p/sbin/apache2,MH_BUNDLE_FLAGS = -bundle -bundle_loader %p/sbin/apache2 -L%p/lib/system-openssl/lib,g' apache-build/Makefile

  ### Configure for cgi
  if [ -d cgi-build ]; then rm -rf cgi-build; fi
  mkdir -p cgi-build
  cd cgi-build; YACC="/usr/bin/bison -y" ../configure %c --with-config-file-path=%p/etc/php4/cli --without-mysql --without-pgsql --without-recode

  ### Fix for dlcompat
  perl -pi -e 's,#define HAVE_MACH_O_DYLD_H 1,#undef HAVE_MACH_O_DYLD_H,g' cgi-build/main/php_config.h

  ### Make for apache2
  cd apache-build; make

  ### Make for cgi/cli
  cd cgi-build; make
  mv cgi-build/sapi/cli/php cgi-build/php4.cgi

  ### Hack to not reconfigure cgi twice
  cd cgi-build; perl -pi -e 's/FORCE_CGI_REDIRECT 1/FORCE_CGI_REDIRECT 0/g' main/php_config.h
  cd cgi-build; perl -pi -e 's/DISCARD_PATH 0/DISCARD_PATCH 1/g' main/php_config.h
  cd cgi-build; make clean
  cd cgi-build; make
  mv cgi-build/sapi/cli/php cgi-build/php4

  ### sanitize php.ini file
  cat php.ini-dist | tr "\t" " " > php.ini-dist.new
  mv php.ini-dist.new php.ini-dist

  ### Fix module path in conf file
  perl -pi -e 's,\.\/,\/,g' php.ini-dist

  ### Added java config to php.ini
  perl -pi -e 's,;java.class.path = .\\php_java.jar,java.class.path = %p/share/java/%N-java/php_java.jar,g' php.ini-dist
  perl -pi -e 's,;java.home = c:\\jdk,java.home = /System/Library/Frameworks/JavaVM.framework/Home,g' php.ini-dist
  perl -pi -e 's,;java.library = c:\\jdk\\jre\\bin\\hotspot\\jvm.dll,java.library = /System/Library/Frameworks/JavaVM.framework/Libraries/libjvm_compat.dylib,g' php.ini-dist
  perl -pi -e 's,;java.library.path = .\\,java.library.path = %p/share/java,g' php.ini-dist
<<
###
InstallScript: <<
  ### installing default config files
  mkdir -p %i/etc/php4/apache2
  mkdir -p %i/etc/php4/cli
  install -m 644 php.ini-dist %i/etc/php4/apache2/php.ini
  install -m 644 php.ini-dist %i/etc/php4/cli/php.ini

  ### for libapache2-mod-php4
  mkdir -p %i/lib/apache2/modules
  install -m 644 apache-build/libs/libphp4.so %i/lib/apache2/modules

  ### install modules' files
  cd apache-build && make install-modules INSTALL_ROOT=%d
  cd apache-build && make install-build INSTALL_ROOT=%d
  cd apache-build && make install-headers INSTALL_ROOT=%d
  cd apache-build && make install-programs INSTALL_ROOT=%d

  install -m 755 cgi-build/php4 %i/bin/php4
  mkdir -p %i/lib/cgi-bin
  install -m 755 cgi-build/php4.cgi %i/lib/cgi-bin/php4

  ### Make needed links
  ln -s %p/lib/php4/20020429-zts %i/lib/php4/libexec
  ln -s %p/lib/php4/20020429-zts/java.so %i/lib/php4/20020429-zts/libphp_java.so

  ### Remove un needed files
  rm -rf %i/lib/php4/20020429-zts/*.a

  ### Install apache2 load/conf files
  mkdir -p %i/etc/apache2/mods-available
  cp fink/php4.load %i/etc/apache2/mods-available
  cp fink/php4.conf %i/etc/apache2/mods-available
<<
ConfFiles: <<
  %p/etc/php4/apache2/php.ini
  %p/etc/php4/cli/php.ini
<<
###
SplitOff: <<
  Package: libapache2-mod-php4
  Depends: bzip2-shlibs, db44-aes-shlibs, expat-shlibs, gdbm3-shlibs, libapr0-shlibs, libaprutil0-shlibs, libgettext3-shlibs, libiconv, libsablot-shlibs, ming-shlibs, openldap23-shlibs (>= 2.3.24-10), apache2 (>= 2.0.58-10), %N (= %v-%r)
  Replaces: libapache2-ssl-mod-php4
  Conflicts: libapache2-mod-php5, libapache2-ssl-mod-php5
  ConfFiles: <<
    %p/etc/apache2/mods-available/php4.load
    %p/etc/apache2/mods-available/php4.conf
  <<
  Files: <<
    etc/apache2
    lib/apache2
  <<
  DocFiles: php.ini-dist LICENSE
  Description: Server-side, HTML-embedded scripting language
  DescDetail: <<
    This package provides the loadable module for the apache webserver. Compiled
    in modules are: bcmath, bz2, calendar, ctype, exif, ftp, gettext, iconv, 
    mbstring, openssl, overload, pcre, posix, session, shmop, sockets,
    standard, tockenizer, wddx, xslt, xml, yp, and zlib.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write dynamically
    generated pages quickly.
    .
    The most significant change between php3 and php4 is the new parser engine
    called Zend, which boosts performance quite impressively.
  <<
  PostInstScript: <<
set -e

echo "Enabling mod_php4..."
%p/sbin/a2enmod php4

if [ -f /Library/StartupItems/daemonic-apache2/daemonic-apache2 ]
then
	echo "Restarting apache2..."
	%p/sbin/apache2ctl restart
fi

exit 0
  <<
  PreRmScript: <<
set -e

if [ "$1" != "remove" -a "$1" != "purge" ]
then
	exit 0
fi

echo "Disabling mod_php4..."
%p/sbin/a2dismod php4

if [ -f /Library/StartupItems/daemonic-apache2/daemonic-apache2 ]
then
	echo "Restarting apache2..."
	%p/sbin/apache2ctl restart
fi

exit 0
  <<
<<
SplitOff2: <<
  Package: %N-cgi
  Depends: bzip2-shlibs, db44-aes-shlibs, expat-shlibs, gdbm3-shlibs, libgettext3-shlibs, libiconv, ming-shlibs, %N (= %v-%r), apache2-common
  Replaces: php4-apache2-ssl-cgi
  Files: <<
    lib/cgi-bin
  <<
  DocFiles: php.ini-dist LICENSE
  Description: Server-side, HTML-embedded scripting language
  DescDetail: <<
    This package provides the CGI module for command line. Compiled
    in modules are: bcmath, bz2, calendar, ctype, exif, ftp, gettext, iconv,
    mbstring, openssl, overload, pcre, posix, session, shmop, sockets,
    standard, tockenizer, wddx, xslt, xml, yp, and zlib.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
    .
    The most significant change between php3 and php4 is the new parser engine
    called Zend, which boosts performance quite impressively.
  <<
<<
SplitOff4: <<
  Package: %N-cli
  Depends: bzip2-shlibs, db44-aes-shlibs, expat-shlibs, gdbm3-shlibs, libgettext3-shlibs, libiconv, ming-shlibs, %N (= %v-%r), apache2-common
  Replaces: php4-apache2-ssl-cgi
  Files: <<
    bin/php4
  <<
  DocFiles: php.ini-dist LICENSE
  Description: Server-side, HTML-embedded scripting language
  DescDetail: <<
    This package provides the CLI module for command line. Compiled
    in modules are: bcmath, bz2, calendar, ctype, exif, ftp, gettext, iconv,
    mbstring, openssl, overload, pcre, posix, session, shmop, sockets,
    standard, tockenizer, wddx, xslt, xml, yp, and zlib.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
    .
    The most significant change between php3 and php4 is the new parser engine
    called Zend, which boosts performance quite impressively.
  <<
<<
SplitOff3: <<
  Package: %N-dev
  Replaces: php4-apache2-ssl-dev
  Files: <<
    bin/php-config4
    bin/phpize4
    include
    lib/php4/build
    share/man/man1/php-config4.1
    share/man/man1/phpize4.1
  <<
  DocFiles: LICENSE
  Description: Files for PHP4 module development
  DescDetail: <<
    This package provides the files from the PHP4 source needed for compiling
    additional modules.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
    .
    The most significant change between php3 and php4 is the new parser engine
    called Zend, which boosts performance quite impressively.
  <<
<<
SplitOff5: <<
  Package: %N-curl
  Depends: libapache2-mod-php4 (= %v-%r) | %N-cgi (= %v-%r) | %N-cli (= %v-%r), libcurl3-unified-shlibs
  Replaces: php4-apache2-ssl-curl
  Files: lib/php4/20020429-zts/curl.so
  DocFiles: LICENSE
  Description: CURL module for php4
  DescDetail: <<
    CURL is a library for getting files from  FTP, GOPHER, HTTP server.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=curl

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "extension=%p/lib/php4/libexec/$module.so" >> %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=curl

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          cat %p/etc/php4/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" > %p/etc/php4/$conf/php.ini.$moduleremove
          mv %p/etc/php4/$conf/php.ini.$moduleremove %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff6: <<
  Package: %N-domxml
  Depends: libapache2-mod-php4 (= %v-%r) | %N-cgi (= %v-%r) | %N-cli (= %v-%r), libiconv, libxml2-shlibs (>= 2.6.1-1), libxslt-shlibs (>= 1.1.0-1)
  Replaces: php4-apache2-ssl-domxml
  Files: lib/php4/20020429-zts/domxml.so
  DocFiles: LICENSE
  Description: DOMXML module for php4
  DescDetail: <<
    This package provides a module for XML functions in PHP scripts. It's the
    new module uses libxml2.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=domxml

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "extension=%p/lib/php4/libexec/$module.so" >> %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=domxml

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          cat %p/etc/php4/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" > %p/etc/php4/$conf/php.ini.$moduleremove
          mv %p/etc/php4/$conf/php.ini.$moduleremove %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff7: <<
  Package: %N-gd
  Depends: libapache2-mod-php4 (= %v-%r) | %N-cgi (= %v-%r) | %N-cli (= %v-%r), gd2-shlibs, libjpeg-shlibs, libpng3-shlibs (>= 1.2.5-4), t1lib5-shlibs
  Replaces: php4-apache2-ssl-gd
  Files: lib/php4/20020429-zts/gd.so
  DocFiles: LICENSE
  Description: GD module for php4
  DescDetail: <<
    This package provides a module for handling graphics directly from PHP
    scripts. It supports the PNG, JPEG, XPM and ttf fonts.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=gd

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "extension=%p/lib/php4/libexec/$module.so" >> %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=gd

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          cat %p/etc/php4/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" > %p/etc/php4/$conf/php.ini.$moduleremove
          mv %p/etc/php4/$conf/php.ini.$moduleremove %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff8: <<
  Package: %N-imap
  Depends: libapache2-mod-php4 (= %v-%r) | %N-cgi (= %v-%r) | %N-cli (= %v-%r)
  Replaces: php4-apache2-ssl-imap
  Files: lib/php4/20020429-zts/imap.so
  DocFiles: LICENSE
  Description: IMAP module for php4
  DescDetail: <<
    This package provides a module for IMAP functions in PHP scripts.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=imap

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "extension=%p/lib/php4/libexec/$module.so" >> %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=imap

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          cat %p/etc/php4/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" > %p/etc/php4/$conf/php.ini.$moduleremove
          mv %p/etc/php4/$conf/php.ini.$moduleremove %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff9: <<
  Package: %N-ldap
  Depends: libapache2-mod-php4 (= %v-%r) | %N-cgi (= %v-%r) | %N-cli (= %v-%r), openldap23-shlibs (>= 2.3.24-10)
  Replaces: php4-apache2-ssl-ldap
  Files: lib/php4/20020429-zts/ldap.so
  DocFiles: LICENSE
  Description: LDAP module for php4
  DescDetail: <<
    This package provides a module for LDAP functions in PHP scripts.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=ldap

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "extension=%p/lib/php4/libexec/$module.so" >> %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=ldap

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          cat %p/etc/php4/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" > %p/etc/php4/$conf/php.ini.$moduleremove
          mv %p/etc/php4/$conf/php.ini.$moduleremove %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff10: <<
  Package: %N-mcrypt
  Depends: libapache2-mod-php4 (= %v-%r) | %N-cgi (= %v-%r) | %N-cli (= %v-%r), libmcrypt-shlibs, libtool14-shlibs
  Replaces: php4-apache2-ssl-mcrypt
  Files: lib/php4/20020429-zts/mcrypt.so
  DocFiles: LICENSE
  Description: MCRYPT module for php4
  DescDetail: <<
    This package provides a module for MCRYPT functions in PHP scripts.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=mcrypt

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "extension=%p/lib/php4/libexec/$module.so" >> %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=mcrypt

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          cat %p/etc/php4/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" > %p/etc/php4/$conf/php.ini.$moduleremove
          mv %p/etc/php4/$conf/php.ini.$moduleremove %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff11: <<
  Package: %N-mhash
  Depends: libapache2-mod-php4 (= %v-%r) | %N-cgi (= %v-%r) | %N-cli (= %v-%r), libmhash-shlibs
  Replaces: php4-apache2-ssl-mhash
  Files: lib/php4/20020429-zts/mhash.so
  DocFiles: LICENSE
  Description: MHASH module for php4
  DescDetail: <<
    This package provides a module for MHASH functions in PHP scripts.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=mhash

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "extension=%p/lib/php4/libexec/$module.so" >> %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=mhash

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          cat %p/etc/php4/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" > %p/etc/php4/$conf/php.ini.$moduleremove
          mv %p/etc/php4/$conf/php.ini.$moduleremove %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff12: <<
  Package: %N-mysql
  Depends: libapache2-mod-php4 (= %v-%r) | %N-cgi (= %v-%r) | %N-cli (= %v-%r), mysql15-shlibs
  Replaces: php4-apache2-ssl-mysql
  Files: lib/php4/20020429-zts/mysql.so
  DocFiles: LICENSE
  Description: MySQL module for php4
  DescDetail: <<
    This package provides a module for MySQL database connections directly from
    PHP scripts.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=mysql

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "extension=%p/lib/php4/libexec/$module.so" >> %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=mysql

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          cat %p/etc/php4/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" > %p/etc/php4/$conf/php.ini.$moduleremove
          mv %p/etc/php4/$conf/php.ini.$moduleremove %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff13: <<
  Package: %N-odbc
  Depends: libapache2-mod-php4 (= %v-%r) | %N-cgi (= %v-%r) | %N-cli (= %v-%r), unixodbc2-shlibs | unixodbc2-nox-shlibs
  Replaces: php4-apache2-ssl-odbc
  Files: lib/php4/20020429-zts/odbc.so
  DocFiles: LICENSE
  Description: ODBC module for php4
  DescDetail: <<
    This package provides a module for database access through ODBC drivers.
    It uses the unixODBC library as an ODBC provider.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=odbc

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "extension=%p/lib/php4/libexec/$module.so" >> %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=odbc

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          cat %p/etc/php4/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" > %p/etc/php4/$conf/php.ini.$moduleremove
          mv %p/etc/php4/$conf/php.ini.$moduleremove %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff14: <<
  Package: %N-pgsql
  Depends: libapache2-mod-php4 (= %v-%r) | %N-cgi (= %v-%r) | %N-cli (= %v-%r), postgresql80-unified-shlibs
  Replaces: php4-apache2-ssl-pgsql
  Files: lib/php4/20020429-zts/pgsql.so
  DocFiles: LICENSE
  Description: PostgreSQL module for php4
  DescDetail: <<
    This package provides a module for PostgreSQL database connections directly
    from PHP scripts.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=pgsql

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "extension=%p/lib/php4/libexec/$module.so" >> %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=pgsql

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          cat %p/etc/php4/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" > %p/etc/php4/$conf/php.ini.$moduleremove
          mv %p/etc/php4/$conf/php.ini.$moduleremove %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff15: <<
  Package: %N-snmp
  Depends: libapache2-mod-php4 (= %v-%r) | %N-cgi (= %v-%r) | %N-cli (= %v-%r), net-snmp-unified15-shlibs
  Replaces: php4-apache2-ssl-snmp
  Files: lib/php4/20020429-zts/snmp.so
  DocFiles: LICENSE
  Description: SNMP module for php4
  DescDetail: <<
    This package provides a module for SNMP functions in PHP scripts.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=snmp

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "extension=%p/lib/php4/libexec/$module.so" >> %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=snmp

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          cat %p/etc/php4/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" > %p/etc/php4/$conf/php.ini.$moduleremove
          mv %p/etc/php4/$conf/php.ini.$moduleremove %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff16: <<
  Package: %N-java
  Depends: libapache2-mod-php4 (= %v-%r) | %N-cgi (= %v-%r) | %N-cli (= %v-%r), system-java15
  Replaces: php4-apache2-ssl-java
  Files: <<
    lib/php4/20020429-zts/java.so
    lib/php4/20020429-zts/libphp_java.so
  <<
  JarFiles: ext/java/php_java.jar
  DocFiles: LICENSE
  Description: java module for php4 (EXPERIMENTAL - Does not work)
  DescDetail: <<
    This package provides a module for JAVA functions in PHP scripts.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=java

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "extension=%p/lib/php4/libexec/$module.so" >> %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=java

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          cat %p/etc/php4/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" > %p/etc/php4/$conf/php.ini.$moduleremove
          mv %p/etc/php4/$conf/php.ini.$moduleremove %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff17: <<
  Package: %N-mcve
  Depends: libapache2-mod-php4 (= %v-%r) | %N-cgi (= %v-%r) | %N-cli (= %v-%r), libmcve-shlibs
  Replaces: php4-apache2-ssl-mcve
  Files: lib/php4/20020429-zts/mcve.so
  DocFiles: LICENSE
  Description: MCVE module for php4
  DescDetail: <<
    This package provides a module for MCVE functions in PHP scripts.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=mcve

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "extension=%p/lib/php4/libexec/$module.so" >> %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=mcve

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          cat %p/etc/php4/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" > %p/etc/php4/$conf/php.ini.$moduleremove
          mv %p/etc/php4/$conf/php.ini.$moduleremove %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff18: <<
  Package: %N-pdf
  Depends: libapache2-mod-php4 (= %v-%r) | %N-cgi (= %v-%r) | %N-cli (= %v-%r), libjpeg-shlibs, libpng3-shlibs (>= 1.2.5-4), libtiff-shlibs, pdflib-shlibs
  Replaces: php4-apache2-ssl-pdf
  Files: lib/php4/20020429-zts/pdf.so
  DocFiles: LICENSE
  Description: PDFlib module for php4
  DescDetail: <<
    This package provides a module for PDFlib functions in PHP scripts.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=pdf

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "extension=%p/lib/php4/libexec/$module.so" >> %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=pdf

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          cat %p/etc/php4/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" > %p/etc/php4/$conf/php.ini.$moduleremove
          mv %p/etc/php4/$conf/php.ini.$moduleremove %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff19: <<
  Package: %N-recode
  Depends: libapache2-mod-php4 (= %v-%r) | %N-cgi (= %v-%r) | %N-cli (= %v-%r), recode-shlibs
  Replaces: php4-apache2-ssl-recode
  Files: lib/php4/20020429-zts/recode.so
  DocFiles: LICENSE
  Description: Recode module for php4
  DescDetail: <<
    This package provides a module for Recode functions in PHP scripts.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=recode

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "extension=%p/lib/php4/libexec/$module.so" >> %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=recode

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          cat %p/etc/php4/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" > %p/etc/php4/$conf/php.ini.$moduleremove
          mv %p/etc/php4/$conf/php.ini.$moduleremove %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff20: <<
  Package: %N-gmp
  Depends: libapache2-mod-php4 (= %v-%r) | %N-cgi (= %v-%r) | %N-cli (= %v-%r), gmp-shlibs
  Replaces: php4-apache2-ssl-gmp
  Files: lib/php4/20020429-zts/gmp.so
  DocFiles: LICENSE
  Description: GNU MP module for php4
  DescDetail: <<
    This package provides a module for GNU MP (gmp) functions in PHP scripts.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=gmp

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "extension=%p/lib/php4/libexec/$module.so" >> %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=gmp

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          cat %p/etc/php4/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" > %p/etc/php4/$conf/php.ini.$moduleremove
          mv %p/etc/php4/$conf/php.ini.$moduleremove %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff21: <<
  Package: %N-mnogosearch
  Depends: libapache2-mod-php4 (= %v-%r) | %N-cgi (= %v-%r) | %N-cli (= %v-%r), mnogosearch1-shlibs, mysql15-shlibs
  Replaces: php4-apache2-ssl-mnogosearch
  Files: lib/php4/20020429-zts/mnogosearch.so
  DocFiles: LICENSE
  Description: Mnogosearch module for php4
  DescDetail: <<
    This package provides a module for mnogosearch functions in PHP scripts.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=mnogosearch

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "extension=%p/lib/php4/libexec/$module.so" >> %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=mnogosearch

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          cat %p/etc/php4/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" > %p/etc/php4/$conf/php.ini.$moduleremove
          mv %p/etc/php4/$conf/php.ini.$moduleremove %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff22: <<
  Package: %N-xmlrpc
  Depends: libapache2-mod-php4 (= %v-%r) | %N-cgi (= %v-%r) | %N-cli (= %v-%r), expat-shlibs
  Replaces: php4-apache2-ssl-xmlrpc
  Files: lib/php4/20020429-zts/xmlrpc.so
  DocFiles: LICENSE
  Description: XMLRPC-EPI module for php4
  DescDetail: <<
    This package provides a module for XMLRPC-EPI functions in PHP scripts.
    .
    PHP4 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=xmlrpc

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          echo "extension=%p/lib/php4/libexec/$module.so" >> %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=xmlrpc

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache2 cli; do
      if [ -f %p/etc/php4/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" %p/etc/php4/$conf/php.ini; then
          cat %p/etc/php4/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php4/libexec/$module.so" > %p/etc/php4/$conf/php.ini.$moduleremove
          mv %p/etc/php4/$conf/php.ini.$moduleremove %p/etc/php4/$conf/php.ini
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff100: <<
  Package: php4-apache2-ssl
  Depends: php4 (=%v-%r)
  DocFiles: LICENSE
<<
SplitOff101: <<
  Package: libapache2-ssl-mod-php4
  Depends: libapache2-mod-php4 (=%v-%r)
  DocFiles: LICENSE
<<
SplitOff102: <<
  Package: php4-apache2-ssl-cgi
  Depends: php4-cgi (= %v-%r)
  DocFiles: LICENSE
<<
SplitOff103: <<
  Package: php4-apache2-ssl-dev
  Depends: php4-dev (= %v-%r)
  DocFiles: LICENSE
<<
SplitOff104: <<
  Package: php4-apache2-ssl-pear
  Depends: php5-pear
  DocFiles: LICENSE
<<
SplitOff106: <<
  Package: php4-apache2-ssl-curl
  Depends: php4-curl (= %v-%r)
  DocFiles: LICENSE
<<
SplitOff107: <<
  Package: php4-apache2-ssl-domxml
  Depends: php4-domxml (= %v-%r)
  DocFiles: LICENSE
<<
SplitOff108: <<
  Package: php4-apache2-ssl-gd
  Depends: php4-gd (= %v-%r)
  DocFiles: LICENSE
<<
SplitOff109: <<
  Package: php4-apache2-ssl-imap
  Depends: php4-imap (= %v-%r)
  DocFiles: LICENSE
<<
SplitOff110: <<
  Package: php4-apache2-ssl-ldap
  Depends: php4-ldap (= %v-%r)
  DocFiles: LICENSE
<<
SplitOff111: <<
  Package: php4-apache2-ssl-mcrypt
  Depends: php4-mcrypt (= %v-%r)
  DocFiles: LICENSE
<<
SplitOff112: <<
  Package: php4-apache2-ssl-mhash
  Depends: php4-mhash (= %v-%r)
  DocFiles: LICENSE
<<
SplitOff113: <<
  Package: php4-apache2-ssl-mysql
  Depends: php4-mysql (= %v-%r)
  DocFiles: LICENSE
<<
SplitOff114: <<
  Package: php4-apache2-ssl-odbc
  Depends: php4-odbc (= %v-%r)
  DocFiles: LICENSE
<<
SplitOff115: <<
  Package: php4-apache2-ssl-pgsql
  Depends: php4-pgsql (= %v-%r)
  DocFiles: LICENSE
<<
SplitOff116: <<
  Package: php4-apache2-ssl-snmp
  Depends: php4-snmp (= %v-%r)
  DocFiles: LICENSE
<<
SplitOff117: <<
  Package: php4-apache2-ssl-java
  Depends: php4-java (= %v-%r)
  DocFiles: LICENSE
<<
SplitOff118: <<
  Package: php4-apache2-ssl-mcve
  Depends: php4-mcve (= %v-%r)
  DocFiles: LICENSE
<<
SplitOff119: <<
  Package: php4-apache2-ssl-pdf
  Depends: php4-pdf (= %v-%r)
  DocFiles: LICENSE
<<
SplitOff120: <<
  Package: php4-apache2-ssl-recode
  Depends: php4-recode (= %v-%r)
  DocFiles: LICENSE
<<
SplitOff121: <<
  Package: php4-apache2-ssl-gmp
  Depends: php4-gmp (= %v-%r)
  DocFiles: LICENSE
<<
SplitOff122: <<
  Package: php4-apache2-ssl-mnogosearch
  Depends: php4-mnogosearch (= %v-%r)
  DocFiles: LICENSE
<<
SplitOff123: <<
  Package: php4-apache2-ssl-xmlrpc
  Depends: php4-xmlrpc (= %v-%r)
  DocFiles: LICENSE
<<
###
Description: HTML-embedded server-side scripting language
DescDetail: <<
  PHP is a scripting language that can be embedded into HTML pages. Like
  with CGI scripts, the code is evaluated on the server side (like a CGI
  script), allowing you to generate content dynamically. PHP is
  implemented as a loadable module (DSO) for the Apache web server.
  .
  PHP has interfaces to almost any database, library and API that you
  can think of. PHP is one of the most popular RAD environments for 
  website development, being used by many of todays top web sites and 
  portals.
  .
  PHP is a widely-used Open Source general-purpose scripting language that
  is especially suited for Web development and can be embedded into HTML. Its
  syntax draws upon C, Java, and Perl, and is easy to learn. PHP runs on many
  different platforms and can be used as a standalone executable or as a
  module under a variety of Web servers. It has excellent support for
  databases, XML, LDAP, IMAP, Java, various Internet protocols, and general
  data manipulation, and is extensible via its powerful API. It is actively
  developed and supported by a talented and energetic international team.
  Numerous Open Source and commercial PHP-based application packages are
  available.
  .  
  This packages install an Apache2.x.x DSO module and the PHP CLI.
<<
DescPort: <<
  Had to use PHP 4.3.1's pcre code, the code from 4.3.3 was segfaulting I
  assume it had to do with a bad malloc use.

  TODO
    mod-java still broken
PHP Warning:  Unknown(): Unable to load dynamic library '//sw/lib/php4/libexec/java.so' - dlopen(//sw/lib/php4/libexec/java.so, 9): Symbol not found: _JNI_CreateJavaVM
  Referenced from: //sw/lib/php4/libexec/java.so
  Expected in: flat namespace
 in Unknown on line 0

<<
###
License: GPL
Homepage: http://www.php.net/
Maintainer: Dustin Sias <dustin@coretechnologies.net>
