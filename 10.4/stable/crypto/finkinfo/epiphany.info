Package: epiphany

Version: 2.20.3
Revision: 3

Depends: <<
	audiofile-shlibs (>= 0.2-10),
	default-icon-theme,
	esound-shlibs (>= 0.2.38-1),
	firefox2-shlibs,
	gconf2 (>= 2.20.0-1),
	glib2-shlibs (>= 2.14.0-1),
	gnome-base,
	gnome-desktop4-shlibs (>= 2.19.6-1),
	gnome-icon-theme (>= 2.20.0-1),
	gnome-keyring-shlibs (>= 0.8.1-1),
	gnome-mime-data (>= 2.18.0-1),
	gnome-vfs2-unified-shlibs (>= 1:2.20.0-1),
	gtk+2-shlibs (>= 2.12.0-1),
	libart2-shlibs (>= 2.3.16-2),
	libbonobo2-shlibs (>= 2.20.0-1),
	libbonoboui2-shlibs (>= 2.20.0-1),
	libgettext3-shlibs (>= 0.14.2-13),
	libglade2-shlibs (>= 2.6.2-1),
	libgnome2-shlibs (>= 2.20.0-1),
	libgnomecanvas2-shlibs (>= 2.20.0-1),
	libgnomeui2-shlibs (>= 2.20.0-1),
	libiconv,
	libjpeg-shlibs (>= 6b-16),
	libxml2-shlibs (>= 2.6.30-1),
	libxslt-shlibs (>= 1.1.22-1),
	orbit2-shlibs (>= 2.14.9-1),
	pango1-xft2-ft219-shlibs (>= 1.18.4-4),
	popt-shlibs,
	rarian-compat,
	shared-mime-info (>= 0.14-7),
	startup-notification-shlibs (>= 0.8-1),
	x11
<<
BuildDepends: <<
	atk1 (>= 1.20.0-1),
	audiofile (>= 0.2-10),
	avahi-dev,
	cairo (>= 1.6-1),
	dbus-dev (>= 1.0-1),
	dbus (>= 1.0-1),
	esound (>= 0.2.38-1),
	expat1,
	fink (>= 0.24.12-1),
	firefox2-dev,
	fontconfig2-dev (>= 2.4.1-1),
	freetype219 (>= 2.3.5-1),
	gail18-dev,
	gconf2-dev (>= 2.20.0-1),
	gettext-bin (>= 0.14.2-13),
	gettext-tools (>= 0.14.2-13),
	glib2-dev (>= 2.14.0-1),
	glitz,
	gnome-desktop4-dev (>= 2.19.6-1),
	gnome-doc-utils (>= 0.12.0-1),
	gnome-keyring (>= 0.8.1-1),
	gnome-keyring-dev (>= 0.8.1-1),
	gnome-vfs2-unified-dev (>= 1:2.20.0-1),
	gtk+2-dev (>= 2.12.0-1),
	intltool (>= 0.36.0-1),
	iso-codes,
	libart2 (>= 2.3.16-2),
	libavahi-glib1-dev,
	libbonobo2-dev (>= 2.20.0-1),
	libbonoboui2-dev (>= 2.20.0-1),
	libgettext3-dev (>= 0.14.2-13),
	libglade2 (>= 2.6.2-1),
	libgnome2 (>= 2.20.0-1),
	libgnome2-dev (>= 2.20.0-1),
	libgnomecanvas2-dev (>= 2.20.0-1),
	libgnomeui2 (>= 2.20.0-1),
	libgnomeui2-dev (>= 2.20.0-1),
	libiconv-dev,
	libjpeg (>= 6b-16),
	libpng3,
	libxml2 (>= 2.6.30-1),
	libxslt (>= 1.1.22-1),
	orbit2-dev (>= 2.14.9-1),
	pango1-xft2-ft219-dev (>= 1.18.4-4),
	pixman (>= 0.10.0-1),
	pkgconfig (>= 0.21-1),
	popt,
	startup-notification-dev (>= 0.8-1),
	x11-dev,
	xft2-dev
<<
Recommends: yelp, gedit
Source: mirror:gnome:sources/%n/2.20/%n-%v.tar.bz2
Source-MD5: df2861b3e91bef6d365f50187b6170cb

PatchScript: perl -pi -e 's/-Wl,--rpath=\$_GECKO_HOME//' configure

GCC: 4.0
ConfigureParams: --mandir=%p/share/man --disable-dependency-tracking --disable-scrollkeeper --disable-schemas-install --enable-static --with-gecko=firefox PKG_CONFIG_PATH="%p/lib/pango-ft219/lib/pkgconfig:%p/lib/fontconfig2/lib/pkgconfig:%p/lib/freetype219/lib/pkgconfig:$PKG_CONFIG_PATH" FREETYPE_CONFIG=%p/lib/freetype219/bin/freetype-config
SetCFLAGS: -Os
CompileScript: <<
	./configure %c
	make CCLD=g++
<<
InstallScript: make -j1 install CCLD=g++ DESTDIR="%d"
DocFiles: AUTHORS COPYING* ChangeLog* po/ChangeLog:ChangeLog.po HACKING MAINTAINERS NEWS README TODO

PostInstScript: <<
	if [ configure = "$1" ]; then
		scrollkeeper-update
		export GCONF_CONFIG_SOURCE=`gconftool-2 --get-default-source`
		gconftool-2 --makefile-install-rule %p/etc/gconf/schemas/epiphany.schemas >/dev/null
		gconftool-2 --makefile-install-rule %p/etc/gconf/schemas/epiphany-fonts.schemas >/dev/null
		gconftool-2 --makefile-install-rule %p/etc/gconf/schemas/epiphany-lockdown.schemas >/dev/null
		gconftool-2 --makefile-install-rule %p/etc/gconf/schemas/epiphany-pango.schemas >/dev/null
	 fi
<<
PostRmScript: <<
	if [ update != "$1" ]; then
		scrollkeeper-update
	fi
<<

ConfFiles: <<
	%p/etc/gconf/schemas/epiphany.schemas
	%p/etc/gconf/schemas/epiphany-fonts.schemas
	%p/etc/gconf/schemas/epiphany-lockdown.schemas
	%p/etc/gconf/schemas/epiphany-pango.schemas
<<

Splitoff: <<
	Package: %N-dev
	Depends: %N (= %v-%r)
	BuildDependsOnly: true
	Files: include lib/pkgconfig
	DocFiles: AUTHORS COPYING* ChangeLog* po/ChangeLog:ChangeLog.po HACKING MAINTAINERS NEWS README TODO
	Description: Files for writing extensions for epiphany
<<

Description: GNOME light-weight web browser
DescDetail: <<
Epiphany is a GNOME web browser based on the gecko rendering engine.
The name meaning:
"An intuitive grasp of reality through something (as an event) usually
simple and striking"
<<
DescUsage: <<
	You may want to install yelp to view the documentation.

	It is recommended to install gedit to view source code.

	If the fonts appear to be very small, just open the preferences pane 
	and close it, alternatively you may want to change the default fonts 
	(Luxi Sans 12 and Courrier 10 work quite well).
	Unfortunately printing does not work currently.
<<
DescPort: <<
	Uses C++ in some low-level libs, so need g++ when linking against them

	Remove linux-specific linker flag from configure gecko tests.
	See: http://bugzilla.gnome.org/show_bug.cgi?id=387185
<<
DescPackaging: <<
	Added many dependencies so that it works without installing bundle-gnome
	Made a dev split-off for potential epiphany-extensions

	Should remove some obsolete dependencies from the .pc file?
	See: http://bugzilla.gnome.org/show_bug.cgi?id=508397

	Need to version this thing (epiphany-X.X) and have an
	unversioned bundle on top of it so that plugins can determine
	what .pc to use? Or at least a versioned -dev? See:
	http://bugzilla.gnome.org/show_bug.cgi?id=511216
<< 
License: GPL
Maintainer: The Gnome Core Team <fink-gnome-core@lists.sourceforge.net>
Homepage: http://www.gnome.org/
