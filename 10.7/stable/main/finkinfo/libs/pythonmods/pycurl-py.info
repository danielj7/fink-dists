Info2: <<
Package: pycurl-py%type_pkg[python]
Version: 7.19.3.1
Revision: 1
Type: python (2.7 3.2 3.3 3.4)
Distribution: (%type_pkg[python] = 32) 10.7, (%type_pkg[python] = 32) 10.8, (%type_pkg[python] = 32) 10.9, (%type_pkg[python] = 33) 10.7, (%type_pkg[python] = 33) 10.8, (%type_pkg[python] = 33) 10.9

Description: Python bindings for libcurl
DescPackaging: <<
 setup.py installs all docs--so no need for DocFiles--but
 in a non-versioned directory, so we need to rename
 %i/share/doc/pycurl to %i/share/doc/pycurl-py%type_pkg[python].
 
 Patch setup.py to not link in static libs.
<<
Maintainer: Daniel Johnson <daniel@daniel-johnson.org>
License: GPL
Homepage: http://pycurl.sourceforge.net/

Source: http://pycurl.sourceforge.net/download/pycurl-%v.tar.gz
Source-MD5: 6df8fa7fe8b680d93248da1f8d4fcd12

PatchScript: perl -pi -e 's/-flat_namespace/ /' setup.py

Depends: python%type_pkg[python], libcurl4-shlibs (>= 7.36.0-1), openssl100-shlibs (>= 1.0.1g)
BuildDepends: libcurl4 (>= 7.36.0-1), openssl100-dev (>= 1.0.1g), fink (>= 0.24.12)

NoSetCPPFLAGS: true
NoSetLDFLAGS: true
SetLDFLAGS: -L%p/lib -lcrypto

CompileScript: <<
 %p/bin/python%type_raw[python] setup.py build --curl-config=%p/bin/curl-config --openssl-dir=%p --with-ssl
<<
InstallScript: <<
 %p/bin/python%type_raw[python] setup.py install --root %d
 /bin/mv %i/share/doc/pycurl %i/share/doc/pycurl-py%type_pkg[python]
<<
# Tests also need cherrypy.wsgiserver.
#InfoTest: <<
#	TestDepends: nose-py%type_pkg[python], bottle-py%type_pkg[python]
#	TestScript: <<
#		mkdir -p tests/tmp
#		PYTHONPATH=`ls -d build/lib.*` nosetests-%type_raw[python] || exit 2
#	<<
#<<
<<
