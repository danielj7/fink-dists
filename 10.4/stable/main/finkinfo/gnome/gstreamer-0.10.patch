diff -Nurd gstreamer-0.10.22/configure.ac gstreamer-0.10.22-new/configure.ac
--- gstreamer-0.10.22/configure.ac	2009-01-19 15:35:32.000000000 -0500
+++ gstreamer-0.10.22-new/configure.ac	2009-01-20 14:37:41.000000000 -0500
@@ -63,7 +63,6 @@
 
 dnl set up gettext
 dnl the version check needs to stay here because autopoint greps for it
-AM_GNU_GETTEXT_VERSION([0.17])
 AM_GNU_GETTEXT([external])
 AG_GST_GETTEXT([gstreamer-$GST_MAJORMINOR])
 
diff -Nurd gstreamer-0.10.22/docs/plugins/Makefile.am gstreamer-0.10.22-new/docs/plugins/Makefile.am
--- gstreamer-0.10.22/docs/plugins/Makefile.am	2008-03-03 17:27:25.000000000 -0500
+++ gstreamer-0.10.22-new/docs/plugins/Makefile.am	2009-01-20 14:32:59.000000000 -0500
@@ -98,7 +98,7 @@
 
 # CFLAGS and LDFLAGS for compiling scan program. Only needed if your app/lib
 # contains GtkObjects/GObjects and you want to document signals and properties.
-GTKDOC_CFLAGS = $(GST_OBJ_CFLAGS) -I$(top_builddir) -I$(top_builddir)/libs
+GTKDOC_CFLAGS = -I$(top_builddir) -I$(top_builddir)/libs $(GST_OBJ_CFLAGS)
 GTKDOC_LIBS = $(SCANOBJ_DEPS) $(GST_OBJ_LIBS)
 
 GTKDOC_CC=$(LIBTOOL) --mode=compile $(CC)
diff -Nurd gstreamer-0.10.22/gst/Makefile.am gstreamer-0.10.22-new/gst/Makefile.am
--- gstreamer-0.10.22/gst/Makefile.am	2008-10-10 19:21:43.000000000 -0400
+++ gstreamer-0.10.22-new/gst/Makefile.am	2009-01-20 14:32:59.000000000 -0500
@@ -119,7 +119,7 @@
 # DISTCLEANFILES is for files generated by configure
 DISTCLEANFILES = $(built_header_configure)
 
-libgstreamer_@GST_MAJORMINOR@_la_CFLAGS =		\
+libgstreamer_@GST_MAJORMINOR@_la_CPPFLAGS =		\
 	-D_GNU_SOURCE					\
 	-DGST_EXPORTS					\
 	-DG_LOG_DOMAIN=g_log_domain_gstreamer 		\
diff -Nurd gstreamer-0.10.22/gst/parse/Makefile.am gstreamer-0.10.22-new/gst/parse/Makefile.am
--- gstreamer-0.10.22/gst/parse/Makefile.am	2008-06-04 15:41:22.000000000 -0400
+++ gstreamer-0.10.22-new/gst/parse/Makefile.am	2009-01-20 14:32:59.000000000 -0500
@@ -14,7 +14,7 @@
 nodist_libgstparse_la_SOURCES = lex._gst_parse_yy.c grammar.tab.c
 CLEANFILES += grammar.tab.c lex._gst_parse_yy.c
 
-libgstparse_la_CFLAGS = $(GST_ALL_CFLAGS)
+libgstparse_la_CPPFLAGS = $(GST_ALL_CFLAGS)
 libgstparse_la_LIBADD = $(GST_ALL_LIBS)
 
 noinst_HEADERS = grammar.tab.h types.h
diff -Nurd gstreamer-0.10.22/libs/gst/base/Makefile.am gstreamer-0.10.22-new/libs/gst/base/Makefile.am
--- gstreamer-0.10.22/libs/gst/base/Makefile.am	2009-01-05 18:10:32.000000000 -0500
+++ gstreamer-0.10.22-new/libs/gst/base/Makefile.am	2009-01-20 14:32:59.000000000 -0500
@@ -14,7 +14,7 @@
 	gsttypefindhelper.c	\
 	gstdataqueue.c
 
-libgstbase_@GST_MAJORMINOR@_la_CFLAGS = $(GST_OBJ_CFLAGS)
+libgstbase_@GST_MAJORMINOR@_la_CPPFLAGS = $(GST_OBJ_CFLAGS)
 libgstbase_@GST_MAJORMINOR@_la_LIBADD = $(GST_OBJ_LIBS)
 libgstbase_@GST_MAJORMINOR@_la_LDFLAGS = $(GST_LIB_LDFLAGS) $(GST_ALL_LDFLAGS) $(GST_LT_LDFLAGS)
 
diff -Nurd gstreamer-0.10.22/libs/gst/check/Makefile.am gstreamer-0.10.22-new/libs/gst/check/Makefile.am
--- gstreamer-0.10.22/libs/gst/check/Makefile.am	2008-06-04 15:41:22.000000000 -0400
+++ gstreamer-0.10.22-new/libs/gst/check/Makefile.am	2009-01-20 14:32:59.000000000 -0500
@@ -6,7 +6,7 @@
 	gstbufferstraw.c			\
 	gstcheck.c
 
-libgstcheck_@GST_MAJORMINOR@_la_CFLAGS = $(GST_OBJ_CFLAGS) $(CHECK_CFLAGS)
+libgstcheck_@GST_MAJORMINOR@_la_CPPFLAGS = $(GST_OBJ_CFLAGS) $(CHECK_CFLAGS)
 libgstcheck_@GST_MAJORMINOR@_la_LIBADD = $(GST_OBJ_LIBS) $(CHECK_LIBS) $(LIBM)
 libgstcheck_@GST_MAJORMINOR@_la_LDFLAGS = $(GST_CHECK_LIB_LDFLAGS) \
         $(GST_ALL_LDFLAGS) $(GST_LT_LDFLAGS)
diff -Nurd gstreamer-0.10.22/libs/gst/controller/Makefile.am gstreamer-0.10.22-new/libs/gst/controller/Makefile.am
--- gstreamer-0.10.22/libs/gst/controller/Makefile.am	2007-08-07 12:06:47.000000000 -0400
+++ gstreamer-0.10.22-new/libs/gst/controller/Makefile.am	2009-01-20 14:32:59.000000000 -0500
@@ -21,7 +21,7 @@
 	gstinterpolationcontrolsource.c \
 	gstlfocontrolsource.c
 
-libgstcontroller_@GST_MAJORMINOR@_la_CFLAGS = $(GST_OBJ_CFLAGS)
+libgstcontroller_@GST_MAJORMINOR@_la_CPPFLAGS = $(GST_OBJ_CFLAGS)
 libgstcontroller_@GST_MAJORMINOR@_la_LIBADD = $(GST_OBJ_LIBS) $(LIBM)
 libgstcontroller_@GST_MAJORMINOR@_la_LDFLAGS = $(GST_LIB_LDFLAGS) $(GST_ALL_LDFLAGS) $(GST_LT_LDFLAGS)
 
diff -Nurd gstreamer-0.10.22/libs/gst/dataprotocol/Makefile.am gstreamer-0.10.22-new/libs/gst/dataprotocol/Makefile.am
--- gstreamer-0.10.22/libs/gst/dataprotocol/Makefile.am	2006-07-02 05:04:45.000000000 -0400
+++ gstreamer-0.10.22-new/libs/gst/dataprotocol/Makefile.am	2009-01-20 14:32:59.000000000 -0500
@@ -8,7 +8,7 @@
 libgstdataprotocol_@GST_MAJORMINOR@_la_SOURCES = \
     dataprotocol.c
 
-libgstdataprotocol_@GST_MAJORMINOR@_la_CFLAGS = $(GST_OBJ_CFLAGS)
+libgstdataprotocol_@GST_MAJORMINOR@_la_CPPFLAGS = $(GST_OBJ_CFLAGS)
 libgstdataprotocol_@GST_MAJORMINOR@_la_LIBADD = $(GST_OBJ_LIBS)
 libgstdataprotocol_@GST_MAJORMINOR@_la_LDFLAGS = $(GST_LIB_LDFLAGS) $(GST_ALL_LDFLAGS) $(GST_LT_LDFLAGS)
 
diff -Nurd gstreamer-0.10.22/libs/gst/net/Makefile.am gstreamer-0.10.22-new/libs/gst/net/Makefile.am
--- gstreamer-0.10.22/libs/gst/net/Makefile.am	2009-01-05 18:10:32.000000000 -0500
+++ gstreamer-0.10.22-new/libs/gst/net/Makefile.am	2009-01-20 14:32:59.000000000 -0500
@@ -12,7 +12,7 @@
     gstnettimepacket.c \
     gstnettimeprovider.c
 
-libgstnet_@GST_MAJORMINOR@_la_CFLAGS = $(GST_OBJ_CFLAGS)
+libgstnet_@GST_MAJORMINOR@_la_CPPFLAGS = $(GST_OBJ_CFLAGS)
 libgstnet_@GST_MAJORMINOR@_la_LIBADD = $(GST_OBJ_LIBS) $(INET_ATON_LIBS) $(WIN32_LIBS)
 libgstnet_@GST_MAJORMINOR@_la_LDFLAGS = $(GST_LIB_LDFLAGS) $(GST_ALL_LDFLAGS) $(GST_LT_LDFLAGS)
 
diff -Nurd gstreamer-0.10.22/plugins/elements/Makefile.am gstreamer-0.10.22-new/plugins/elements/Makefile.am
--- gstreamer-0.10.22/plugins/elements/Makefile.am	2009-01-05 18:10:33.000000000 -0500
+++ gstreamer-0.10.22-new/plugins/elements/Makefile.am	2009-01-20 14:32:59.000000000 -0500
@@ -25,7 +25,7 @@
 	gsttypefindelement.c	\
 	gstmultiqueue.c
 
-libgstcoreelements_la_CFLAGS = $(GST_OBJ_CFLAGS)
+libgstcoreelements_la_CPPFLAGS = $(GST_OBJ_CFLAGS)
 libgstcoreelements_la_LIBADD = \
 	$(top_builddir)/libs/gst/base/libgstbase-@GST_MAJORMINOR@.la \
 	$(GST_OBJ_LIBS)
diff -Nurd gstreamer-0.10.22/plugins/indexers/Makefile.am gstreamer-0.10.22-new/plugins/indexers/Makefile.am
--- gstreamer-0.10.22/plugins/indexers/Makefile.am	2009-01-05 18:10:33.000000000 -0500
+++ gstreamer-0.10.22-new/plugins/indexers/Makefile.am	2009-01-20 14:32:59.000000000 -0500
@@ -16,7 +16,7 @@
 
 libgstcoreindexers_la_DEPENDENCIES = $(top_builddir)/gst/libgstreamer-@GST_MAJORMINOR@.la
 libgstcoreindexers_la_SOURCES = gstindexers.c gstmemindex.c $(GST_LOADSAVE_SRC)
-libgstcoreindexers_la_CFLAGS = $(GST_OBJ_CFLAGS)
+libgstcoreindexers_la_CPPFLAGS = $(GST_OBJ_CFLAGS)
 libgstcoreindexers_la_LIBADD = $(GST_OBJ_LIBS) $(GST_FILEINDEX_LIBS)
 libgstcoreindexers_la_LDFLAGS = $(GST_PLUGIN_LDFLAGS)
 libgstcoreindexers_la_LIBTOOLFLAGS = --tag=disable-static
diff -Nurd gstreamer-0.10.22/tests/benchmarks/Makefile.am gstreamer-0.10.22-new/tests/benchmarks/Makefile.am
--- gstreamer-0.10.22/tests/benchmarks/Makefile.am	2008-03-03 17:27:27.000000000 -0500
+++ gstreamer-0.10.22-new/tests/benchmarks/Makefile.am	2009-01-20 14:32:59.000000000 -0500
@@ -1,4 +1,4 @@
 noinst_PROGRAMS = caps mass-elements complexity gstpollstress
 
 LDADD = $(GST_OBJ_LIBS)
-AM_CFLAGS = $(GST_OBJ_CFLAGS)
+AM_CPPFLAGS = $(GST_OBJ_CFLAGS)
diff -Nurd gstreamer-0.10.22/tests/check/Makefile.am gstreamer-0.10.22-new/tests/check/Makefile.am
--- gstreamer-0.10.22/tests/check/Makefile.am	2009-01-05 18:10:34.000000000 -0500
+++ gstreamer-0.10.22-new/tests/check/Makefile.am	2009-01-20 14:32:59.000000000 -0500
@@ -136,20 +136,20 @@
 EXTRA_DIST = \
 	libs/test_transform.c
 
-AM_CFLAGS = $(GST_OBJ_CFLAGS) $(CHECK_CFLAGS)
+AM_CPPFLAGS = $(GST_OBJ_CFLAGS) $(CHECK_CFLAGS)
 LDADD = $(top_builddir)/libs/gst/check/libgstcheck-@GST_MAJORMINOR@.la \
 	$(GST_OBJ_LIBS) \
 	$(CHECK_LIBS)
 
 libs_gdp_SOURCES = \
 	libs/gdp.c
-libs_gdp_CFLAGS = $(AM_CFLAGS)
+libs_gdp_CPPFLAGS = $(AM_CPPFLAGS)
 libs_gdp_LDADD = \
 	$(top_builddir)/libs/gst/dataprotocol/libgstdataprotocol-@GST_MAJORMINOR@.la \
 	$(LDADD)
 
-elements_fdsrc_CFLAGS=$(GST_OBJ_CFLAGS) $(CHECK_CFLAGS) -DTESTFILE=\"$(top_srcdir)/configure.ac\"
-elements_filesrc_CFLAGS=$(GST_OBJ_CFLAGS) $(CHECK_CFLAGS) -DTESTFILE=\"$(top_srcdir)/configure.ac\"
+elements_fdsrc_CPPFLAGS=$(GST_OBJ_CFLAGS) $(CHECK_CFLAGS) -DTESTFILE=\"$(top_srcdir)/configure.ac\"
+elements_filesrc_CPPFLAGS=$(GST_OBJ_CFLAGS) $(CHECK_CFLAGS) -DTESTFILE=\"$(top_srcdir)/configure.ac\"
 
 libs_basesrc_LDADD = \
 	$(top_builddir)/libs/gst/base/libgstbase-@GST_MAJORMINOR@.la \
diff -Nurd gstreamer-0.10.22/tests/examples/adapter/Makefile.am gstreamer-0.10.22-new/tests/examples/adapter/Makefile.am
--- gstreamer-0.10.22/tests/examples/adapter/Makefile.am	2006-11-09 09:38:59.000000000 -0500
+++ gstreamer-0.10.22-new/tests/examples/adapter/Makefile.am	2009-01-20 14:32:59.000000000 -0500
@@ -1,4 +1,4 @@
 noinst_PROGRAMS = adapter_test
 
 adapter_test_LDADD = $(GST_OBJ_LIBS) $(top_builddir)/libs/gst/base/libgstbase-@GST_MAJORMINOR@.la
-adapter_test_CFLAGS = $(GST_OBJ_CFLAGS)
+adapter_test_CPPFLAGS = $(GST_OBJ_CFLAGS)
diff -Nurd gstreamer-0.10.22/tests/examples/controller/Makefile.am gstreamer-0.10.22-new/tests/examples/controller/Makefile.am
--- gstreamer-0.10.22/tests/examples/controller/Makefile.am	2005-12-12 09:02:14.000000000 -0500
+++ gstreamer-0.10.22-new/tests/examples/controller/Makefile.am	2009-01-20 14:32:59.000000000 -0500
@@ -1,5 +1,5 @@
 noinst_PROGRAMS = audio-example
 
-audio_example_CFLAGS  = $(GST_OBJ_CFLAGS) -I$(top_builddir)/libs
+audio_example_CPPFLAGS  = -I$(top_builddir)/libs $(GST_OBJ_CFLAGS)
 audio_example_LDADD = $(GST_OBJ_LIBS)
 audio_example_LDFLAGS = $(top_builddir)/libs/gst/controller/libgstcontroller-@GST_MAJORMINOR@.la
diff -Nurd gstreamer-0.10.22/tests/examples/helloworld/Makefile.am gstreamer-0.10.22-new/tests/examples/helloworld/Makefile.am
--- gstreamer-0.10.22/tests/examples/helloworld/Makefile.am	2005-12-12 09:02:14.000000000 -0500
+++ gstreamer-0.10.22-new/tests/examples/helloworld/Makefile.am	2009-01-20 14:32:59.000000000 -0500
@@ -1,4 +1,4 @@
 noinst_PROGRAMS = helloworld
 
 helloworld_LDADD = $(GST_OBJ_LIBS)
-helloworld_CFLAGS = $(GST_OBJ_CFLAGS)
+helloworld_CPPFLAGS = $(GST_OBJ_CFLAGS)
diff -Nurd gstreamer-0.10.22/tests/examples/launch/Makefile.am gstreamer-0.10.22-new/tests/examples/launch/Makefile.am
--- gstreamer-0.10.22/tests/examples/launch/Makefile.am	2005-12-12 09:46:06.000000000 -0500
+++ gstreamer-0.10.22-new/tests/examples/launch/Makefile.am	2009-01-20 14:32:59.000000000 -0500
@@ -1,7 +1,7 @@
 noinst_PROGRAMS = mp3parselaunch
 
 mp3parselaunch_LDADD = $(GST_OBJ_LIBS)
-mp3parselaunch_CFLAGS = $(GST_OBJ_CFLAGS)
+mp3parselaunch_CPPFLAGS = $(GST_OBJ_CFLAGS)
 
 #noinst_SCRIPTS = mp3play
 #EXTRA_DIST = mp3play
diff -Nurd gstreamer-0.10.22/tests/examples/metadata/Makefile.am gstreamer-0.10.22-new/tests/examples/metadata/Makefile.am
--- gstreamer-0.10.22/tests/examples/metadata/Makefile.am	2005-12-12 09:02:15.000000000 -0500
+++ gstreamer-0.10.22-new/tests/examples/metadata/Makefile.am	2009-01-20 14:32:59.000000000 -0500
@@ -1,4 +1,4 @@
 noinst_PROGRAMS = read-metadata
 
 read_metadata_LDADD = $(GST_OBJ_LIBS)
-read_metadata_CFLAGS = $(GST_OBJ_CFLAGS)
+read_metadata_CPPFLAGS = $(GST_OBJ_CFLAGS)
diff -Nurd gstreamer-0.10.22/tests/examples/queue/Makefile.am gstreamer-0.10.22-new/tests/examples/queue/Makefile.am
--- gstreamer-0.10.22/tests/examples/queue/Makefile.am	2005-12-12 09:02:15.000000000 -0500
+++ gstreamer-0.10.22-new/tests/examples/queue/Makefile.am	2009-01-20 14:32:59.000000000 -0500
@@ -1,5 +1,5 @@
 noinst_PROGRAMS = queue
 
 queue_LDADD = $(GST_OBJ_LIBS)
-queue_CFLAGS = $(GST_OBJ_CFLAGS)
+queue_CPPFLAGS = $(GST_OBJ_CFLAGS)
 
diff -Nurd gstreamer-0.10.22/tests/examples/typefind/Makefile.am gstreamer-0.10.22-new/tests/examples/typefind/Makefile.am
--- gstreamer-0.10.22/tests/examples/typefind/Makefile.am	2005-12-12 09:02:15.000000000 -0500
+++ gstreamer-0.10.22-new/tests/examples/typefind/Makefile.am	2009-01-20 14:32:59.000000000 -0500
@@ -1,5 +1,5 @@
 noinst_PROGRAMS = typefind
 
 typefind_LDADD = $(GST_OBJ_LIBS)
-typefind_CFLAGS = $(GST_OBJ_CFLAGS)
+typefind_CPPFLAGS = $(GST_OBJ_CFLAGS)
 
diff -Nurd gstreamer-0.10.22/tests/examples/xml/Makefile.am gstreamer-0.10.22-new/tests/examples/xml/Makefile.am
--- gstreamer-0.10.22/tests/examples/xml/Makefile.am	2005-12-12 09:02:15.000000000 -0500
+++ gstreamer-0.10.22-new/tests/examples/xml/Makefile.am	2009-01-20 14:32:59.000000000 -0500
@@ -1,7 +1,7 @@
 noinst_PROGRAMS = createxml runxml
 
 createxml_LDADD = $(GST_OBJ_LIBS)
-createxml_CFLAGS = $(GST_OBJ_CFLAGS)
+createxml_CPPFLAGS = $(GST_OBJ_CFLAGS)
 runxml_LDADD = $(GST_OBJ_LIBS)
-runxml_CFLAGS = $(GST_OBJ_CFLAGS)
+runxml_CPPFLAGS = $(GST_OBJ_CFLAGS)
 
diff -Nurd gstreamer-0.10.22/tools/Makefile.am gstreamer-0.10.22-new/tools/Makefile.am
--- gstreamer-0.10.22/tools/Makefile.am	2007-05-02 13:09:30.000000000 -0400
+++ gstreamer-0.10.22-new/tools/Makefile.am	2009-01-20 14:32:59.000000000 -0500
@@ -38,24 +38,24 @@
 # make sure each versioned tool has the right source file and flags
 if !GST_DISABLE_LOADSAVE
 gst_xmllaunch_@GST_MAJORMINOR@_SOURCES = gst-launch.c tools.h
-gst_xmllaunch_@GST_MAJORMINOR@_CFLAGS = $(GST_OBJ_CFLAGS)
+gst_xmllaunch_@GST_MAJORMINOR@_CPPFLAGS = $(GST_OBJ_CFLAGS)
 gst_xmllaunch_@GST_MAJORMINOR@_LDFLAGS = $(GST_OBJ_LIBS)
 endif
 
 if !GST_DISABLE_PARSE
 gst_launch_@GST_MAJORMINOR@_SOURCES = gst-launch.c tools.h
-gst_launch_@GST_MAJORMINOR@_CFLAGS = $(GST_OBJ_CFLAGS)
+gst_launch_@GST_MAJORMINOR@_CPPFLAGS = $(GST_OBJ_CFLAGS)
 gst_launch_@GST_MAJORMINOR@_LDFLAGS = $(GST_OBJ_LIBS)
 endif
 
 gst_inspect_@GST_MAJORMINOR@_SOURCES = gst-inspect.c tools.h
-gst_inspect_@GST_MAJORMINOR@_CFLAGS = $(GST_OBJ_CFLAGS)
+gst_inspect_@GST_MAJORMINOR@_CPPFLAGS = $(GST_OBJ_CFLAGS)
 gst_inspect_@GST_MAJORMINOR@_LDFLAGS = $(GST_OBJ_LIBS)
 gst_typefind_@GST_MAJORMINOR@_SOURCES = gst-typefind.c tools.h
-gst_typefind_@GST_MAJORMINOR@_CFLAGS = $(GST_OBJ_CFLAGS)
+gst_typefind_@GST_MAJORMINOR@_CPPFLAGS = $(GST_OBJ_CFLAGS)
 gst_typefind_@GST_MAJORMINOR@_LDFLAGS = $(GST_OBJ_LIBS)
 gst_xmlinspect_@GST_MAJORMINOR@_SOURCES = gst-xmlinspect.c tools.h
-gst_xmlinspect_@GST_MAJORMINOR@_CFLAGS = $(GST_OBJ_CFLAGS)
+gst_xmlinspect_@GST_MAJORMINOR@_CPPFLAGS = $(GST_OBJ_CFLAGS)
 gst_xmlinspect_@GST_MAJORMINOR@_LDFLAGS = $(GST_OBJ_LIBS)
 
 gst-feedback-@GST_MAJORMINOR@: gst-feedback-m.m
@@ -77,7 +77,7 @@
 gst_xmlinspect_SOURCES = gst-run.c
 
 # CFLAGS and libs for nonversioned frontend binaries
-AM_CFLAGS = $(GLIB_ONLY_CFLAGS)
+#AM_CFLAGS = $(GLIB_ONLY_CFLAGS)
 LDADD = $(GLIB_ONLY_LIBS)
 # due to depcomp not using AM_CFLAGS for rh9/yd3, we also set AM_CPPFLAGS
 AM_CPPFLAGS = $(GLIB_ONLY_CFLAGS)
