Package: libzvbi0-shlibs
Version: 0.2.34
Revision: 2
Description: Vertical Blanking Interval decoder library
License: GPL/LGPL
Maintainer: Hanspeter Niederstrasser <nieder@users.sourceforge.net>
Depends: <<
	libgettext8-shlibs,
	libiconv,
	libpng16-shlibs,
	libzvbi-common
<<
BuildDepends: <<
	doxygen,
	fink-package-precedence,
	gettext-tools,
	libgettext8-dev,
	libiconv-dev,
	libpng16,
	pkgconfig,
	x11-dev
<<
Source: mirror:sourceforge:zapping/zvbi/%v/zvbi-%v.tar.bz2
Source-MD5: 135334895c06e385f551b45b323bbd25
Source-Checksum: SHA1(f03a17f6b4eb6e3dab28faf7eea9b17fe6e8cbdf)
PatchFile: %n.patch
PatchFile-MD5: 4372d632c500bf6bdf3b299489a940be
PatchScript: <<
	%{default_script}
	### FreeBSD does this but don't think it helps/hinders us
	#perl -pi -e 's|, ts|, \&ts|' test/date.c
<<
ConfigureParams: --disable-static --enable-dependency-tracking --disable-proxy
CompileScript: <<
	%{default_script}
	fink-package-precedence --prohibit-bdep=libzvbi0-dev .
<<
#InfoTest: <<
#	TestScript: make check || exit 2
#<<
InstallScript: <<
	make install DESTDIR=%d
	### install the docs
	install -d -m 755 %i/share/doc/libzvbi-doc
	cp -Rp doc/html %i/share/doc/libzvbi-doc
	### make validator happy
	perl -pi -e 's|-Wl,-framework -Wl,CoreFoundation|-Wl,-framework,CoreFoundation|g' %i/lib/pkgconfig/zvbi-0.2.pc
<<
DocFiles: AUTHORS COPYING COPYING.LIB Changelog NEWS README
Shlibs: <<
	%p/lib/libzvbi.0.dylib 14.0.0 %n (>= 0.2.34-1)
<<
SplitOff: <<
	Package: libzvbi-common
	Description: Vertical Blanking Interval decoder (VBI) (common)
	Files: <<
		share/locale
	<<
	DocFiles: AUTHORS COPYING COPYING.LIB Changelog NEWS README
<<
SplitOff2: <<
	Package: libzvbi0-dev
	Description: Vertical Blanking Interval decoder (VBI) (dev pkg)
	Files: <<
		include
		lib/pkgconfig
		lib/libzvbi.dylib
		lib/libzvbi.la
		share/doc/libzvbi-doc
	<<
	Depends: %N (= %v-%r)
	BuildDependsOnly: true
	DocFiles: AUTHORS COPYING COPYING.LIB Changelog NEWS README
<<
SplitOff3: <<
	Package: zvbi
	Description: Vertical Blanking Interval (VBI) utilities
	Depends: <<
		%N (= %v-%r),
		libgettext8-shlibs,
		libiconv,
		libpng16-shlibs,
		x11-shlibs
	<<
	Files: <<
		bin
		share/man/man1
	<<
	DocFiles: AUTHORS COPYING COPYING.LIB Changelog NEWS README
	DescDetail: <<
		 This package contains:
		  * zvbi-ntsc-cc, a command-line utility for decoding and capturing closed
			captioning (CC) for NTSC and webtv.
	<<
<<
Homepage: http://zapping.sourceforge.net/ZVBI/index.html
DescDetail: <<
The VBI devices capture the hidden lines on a television picture that carry
further information like closed-caption data, Teletext (primarily in
Europe), and now Intercast and the ATVEC Internet television encodings.
<<
DescPackaging: <<
Proxy daemon server explicitly turned off.
<<
DescPort: <<
Clang patches from FreeBSD
http://svnweb.freebsd.org/ports/head/devel/libzvbi/

contrib/Makefile.in
avoid pulling in X11-libpng

Debian patches:
03_fails-to-write.diff
05_MAXPATHLEN.diff
<<
