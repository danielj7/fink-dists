--- grib_api-1.9.16/configure.orig	2012-03-07 05:21:16.000000000 -0500
+++ grib_api-1.9.16/configure	2012-04-09 15:22:07.000000000 -0400
@@ -5588,23 +5588,15 @@
 
 
 
-GRIB_SAMPLES_PATH=$samples_files_path
-GRIB_TEMPLATES_PATH=$samples_files_path
-GRIB_DEFINITION_PATH=$definition_files_path
+GRIB_SAMPLES_PATH='${prefix}/share/grib-api/samples'
+GRIB_TEMPLATES_PATH='${prefix}/share/grib-api/samples'
+GRIB_DEFINITION_PATH='${prefix}/share/grib-api/definitions'
 
 
 cat >>confdefs.h <<_ACEOF
-#define GRIB_TEMPLATES_PATH "$samples_files_path"
-_ACEOF
-
-
-cat >>confdefs.h <<_ACEOF
-#define GRIB_SAMPLES_PATH "$samples_files_path"
-_ACEOF
-
-
-cat >>confdefs.h <<_ACEOF
-#define GRIB_DEFINITION_PATH "$definition_files_path"
+#define GRIB_TEMPLATES_PATH "$prefix/share/grib-api/samples"
+#define GRIB_SAMPLES_PATH "$prefix/share/grib-api/samples"
+#define GRIB_DEFINITION_PATH "$prefix/share/grib-api/definitions"
 _ACEOF
 
 
@@ -5614,9 +5606,9 @@
 
 # Check whether --enable-fortran was given.
 if test "${enable_fortran+set}" = set; then :
-  enableval=$enable_fortran; without_fortran=1
+  enableval=$enable_fortran; without_fortran=0
 else
-  without_fortran=0
+  without_fortran=1
 fi
 
 
@@ -5650,7 +5642,7 @@
 then
 	IFS_SAMPLES_DIR=$ifs_samples
 else
-	IFS_SAMPLES_DIR=${prefix}/share/grib_api/ifs_samples
+	IFS_SAMPLES_DIR='${prefix}/share/grib-api/ifs_samples'
 fi
 
 
@@ -6363,7 +6355,7 @@
 
 
 #PERL_INSTALL_OPTIONS="PREFIX=$prefix INSTALLDIRS=perl"
-PERL_INSTALL_OPTIONS="LIB=$default_perl_install"
+PERL_INSTALL_OPTIONS="LIB='$default_perl_install'"
 
 # Check whether --enable-install-system-perl was given.
 if test "${enable_install_system_perl+set}" = set; then :
--- grib_api-1.9.16/fortran/Makefile.in.orig	2012-03-07 05:21:15.000000000 -0500
+++ grib_api-1.9.16/fortran/Makefile.in	2012-04-09 15:14:46.000000000 -0400
@@ -249,15 +249,14 @@
 top_builddir = @top_builddir@
 top_srcdir = @top_srcdir@
 AM_CFLAGS = @WARN_PEDANTIC@
-lib_LIBRARIES = libgrib_api_f77.a libgrib_api_f90.a
+lib_LIBRARIES = libgrib_api_f77.a libgrib_api_f90.a libgrib_api_f77.dylib libgrib_api_f90.dylib
 include_HEADERS = grib_api_f77.h
 libgrib_api_f77_a_SOURCES = grib_fortran.c grib_f77.c 
-libgrib_api_f77_a_DEPENDENCIES = $(top_builddir)/src/libgrib_api.a
+libgrib_api_f77_a_DEPENDENCIES =
 libgrib_api_f90_a_SOURCES = grib_fortran.c grib_f90.f90 
-libgrib_api_f90_a_DEPENDENCIES = $(top_builddir)/src/libgrib_api.a grib_api_externals.h grib_api_visibility.h grib_api_constants.h grib_kinds.h
+libgrib_api_f90_a_DEPENDENCIES = grib_api_externals.h grib_api_visibility.h grib_api_constants.h grib_kinds.h
 libgrib_api_fortran_prototypes = grib_fortran.c
-@UPPER_CASE_MOD_FALSE@nodist_include_HEADERS = grib_api.mod
-@UPPER_CASE_MOD_TRUE@nodist_include_HEADERS = GRIB_API.mod
+nodist_include_HEADERS = grib_api.mod
 
 # set the include path
 INCLUDES = -I$(top_builddir)/src
@@ -315,15 +314,6 @@
 	test -z "$$list2" || { \
 	  echo " $(INSTALL_DATA) $$list2 '$(DESTDIR)$(libdir)'"; \
 	  $(INSTALL_DATA) $$list2 "$(DESTDIR)$(libdir)" || exit $$?; }
-	@$(POST_INSTALL)
-	@list='$(lib_LIBRARIES)'; test -n "$(libdir)" || list=; \
-	for p in $$list; do \
-	  if test -f $$p; then \
-	    $(am__strip_dir) \
-	    echo " ( cd '$(DESTDIR)$(libdir)' && $(RANLIB) $$f )"; \
-	    ( cd "$(DESTDIR)$(libdir)" && $(RANLIB) $$f ) || exit $$?; \
-	  else :; fi; \
-	done
 
 uninstall-libLIBRARIES:
 	@$(NORMAL_UNINSTALL)
@@ -343,6 +333,12 @@
 	-rm -f libgrib_api_f90.a
 	$(libgrib_api_f90_a_AR) libgrib_api_f90.a $(libgrib_api_f90_a_OBJECTS) $(libgrib_api_f90_a_LIBADD)
 	$(RANLIB) libgrib_api_f90.a
+libgrib_api_f77.dylib: $(libgrib_api_f77_a_OBJECTS) $(libgrib_api_f77_a_DEPENDENCIES) 
+	gcc -flat_namespace -undefined suppress -install_name ${prefix}/lib/libgrib_api_f77.1.dylib -compatibility_version 1.9.0 -current_version 1.9.0 \
+	-dynamiclib $(libgrib_api_f77_a_OBJECTS) -o libgrib_api_f77.dylib
+libgrib_api_f90.dylib: $(libgrib_api_f90_a_OBJECTS) $(libgrib_api_f90_a_DEPENDENCIES) 
+	gcc -flat_namespace -undefined suppress -install_name ${prefix}/lib/libgrib_api_f90.1.dylib -compatibility_version 1.9.0 -current_version 1.9.0 \
+	-dynamiclib $(libgrib_api_f90_a_OBJECTS) -o libgrib_api_f90.dylib
 
 mostlyclean-compile:
 	-rm -f *.$(OBJEXT)
@@ -615,8 +611,7 @@
 	tags uninstall uninstall-am uninstall-includeHEADERS \
 	uninstall-libLIBRARIES uninstall-nodist_includeHEADERS
 
-@UPPER_CASE_MOD_FALSE@grib_api.mod: grib_f90.o
-@UPPER_CASE_MOD_TRUE@GRIB_API.mod: grib_f90.o
+grib_api.mod: grib_f90.o
 
 grib_f90.f90: grib_f90.f90.head grib_f90.f90.tail same_int_long grib_kinds.h
 	./create_grib_f90.sh 
--- grib_api-1.9.16/src/Makefile.in.orig	2012-03-07 05:21:15.000000000 -0500
+++ grib_api-1.9.16/src/Makefile.in	2012-04-09 15:27:50.000000000 -0400
@@ -194,7 +194,6 @@
 	grib_accessor_class_spectral_truncation.$(OBJEXT) \
 	grib_accessor_class_time.$(OBJEXT) \
 	grib_accessor_class_transient.$(OBJEXT) \
-	grib_accessor_class_g1_half_byte_codeflag.$(OBJEXT) \
 	grib_accessor_class_values.$(OBJEXT) \
 	grib_accessor_class_simple_packing_error.$(OBJEXT) \
 	grib_accessor_class_data_simple_packing.$(OBJEXT) \
@@ -476,7 +475,7 @@
 
 # -DUSE_JPEG2000
 #  -DYYDEBUG
-lib_LIBRARIES = libgrib_api.a
+lib_LIBRARIES = libgrib_api.a libgrib_api.dylib
 include_HEADERS = grib_api.h
 libgrib_api_a_prototypes = \
 	action.c \
@@ -611,7 +610,6 @@
            grib_accessor_class_spectral_truncation.c \
            grib_accessor_class_time.c \
            grib_accessor_class_transient.c \
-           grib_accessor_class_g1_half_byte_codeflag.c \
            grib_accessor_class_values.c \
 		   grib_accessor_class_simple_packing_error.c \
            grib_accessor_class_data_simple_packing.c \
@@ -852,15 +850,6 @@
 	test -z "$$list2" || { \
 	  echo " $(INSTALL_DATA) $$list2 '$(DESTDIR)$(libdir)'"; \
 	  $(INSTALL_DATA) $$list2 "$(DESTDIR)$(libdir)" || exit $$?; }
-	@$(POST_INSTALL)
-	@list='$(lib_LIBRARIES)'; test -n "$(libdir)" || list=; \
-	for p in $$list; do \
-	  if test -f $$p; then \
-	    $(am__strip_dir) \
-	    echo " ( cd '$(DESTDIR)$(libdir)' && $(RANLIB) $$f )"; \
-	    ( cd "$(DESTDIR)$(libdir)" && $(RANLIB) $$f ) || exit $$?; \
-	  else :; fi; \
-	done
 
 uninstall-libLIBRARIES:
 	@$(NORMAL_UNINSTALL)
@@ -876,6 +865,9 @@
 	-rm -f libgrib_api.a
 	$(libgrib_api_a_AR) libgrib_api.a $(libgrib_api_a_OBJECTS) $(libgrib_api_a_LIBADD)
 	$(RANLIB) libgrib_api.a
+libgrib_api.dylib: $(libgrib_api_a_OBJECTS) $(libgrib_api_a_DEPENDENCIES) 
+	gcc -flat_namespace -undefined suppress -install_name ${prefix}/lib/libgrib_api.1.dylib -compatibility_version 1.9.0 -current_version 1.9.0 \
+	-dynamiclib $(libgrib_api_a_OBJECTS) -o libgrib_api.dylib
 
 mostlyclean-compile:
 	-rm -f *.$(OBJEXT)
--- grib_api-1.9.16/tools/Makefile.in.orig	2012-03-07 05:21:15.000000000 -0500
+++ grib_api-1.9.16/tools/Makefile.in	2012-04-09 15:05:14.000000000 -0400
@@ -476,8 +476,8 @@
 gg_sub_area_check_SOURCES = gg_sub_area_check.c
 grib1to2_SOURCES = grib1to2.txt
 INCLUDES = -I$(top_builddir)/src
-LDADD = libgrib_tools.a $(top_builddir)/src/libgrib_api.a
-DEPENDENCIES = $(LDADD)
+LDADD = -L. -lgrib_tools -L$(top_builddir)/src -lgrib_api
+DEPENDENCIES = libgrib_tools.a $(top_builddir)/src/libgrib_api.dylib
 CLEANFILES = libgrib_tools.a
 noinst_HEADERS = grib_tools.h grib_msg_types.h
 all: all-am
--- grib_api-1.9.16/tools/grib1to2.txt.orig	2012-03-06 13:00:51.000000000 -0500
+++ grib_api-1.9.16/tools/grib1to2.txt	2012-04-09 15:22:46.000000000 -0400
@@ -1,4 +1,4 @@
-#!/usr/bin/ksh
+#!/usr/bin/bash
 set -e
 
 if [[ $# < 2 ]]
--- grib_api-1.9.16/tests/read_any.c.orig	2012-03-06 13:00:51.000000000 -0500
+++ grib_api-1.9.16/tests/read_any.c	2012-04-09 16:47:06.000000000 -0400
@@ -53,7 +53,7 @@
 		  grib_get_string(h,"level",level,&len);
 		  len=shortNamelen;
 		  grib_get_string(h,"shortName",shortName,&len);
-		  printf("- %3ld -\t ed=%ld\t size=%8d totalLength=%8ld \t %s\t %s\t %s\t level=%s\t step=%ld\n",
+		  printf("- %3ld -\t ed=%ld\t size=%8ld totalLength=%8ld \t %s\t %s\t %s\t level=%s\t step=%ld\n",
 		  	count,edition,size,totalLength,shortName,gridType,levelType,level,step); 
 		  grib_handle_delete(h);
 		}
--- grib_api-1.9.16/tests/Makefile.in.orig	2012-03-07 05:21:15.000000000 -0500
+++ grib_api-1.9.16/tests/Makefile.in	2012-04-09 17:00:54.000000000 -0400
@@ -306,7 +306,7 @@
 			 julian.sh statistics.sh tigge.sh tigge_conversions.sh \
 			 read_any.sh padding.sh debug.sh $(JPEG_TEST)
 
-LDADD = $(top_builddir)/src/libgrib_api.a $(EMOS_LIB)
+LDADD = -L$(top_builddir)/src -lgrib_api $(EMOS_LIB)
 INCLUDES = -I$(top_builddir)/src
 EXTRA_DIST = $(TESTS) mf.rules filter_rules include.sh
 all: all-am
--- grib_api-1.9.16/tigge/Makefile.in.orig	2012-03-07 05:21:15.000000000 -0500
+++ grib_api-1.9.16/tigge/Makefile.in	2012-04-09 17:00:12.000000000 -0400
@@ -233,8 +233,8 @@
 tigge_split_SOURCES = tigge_split.c
 tigge_accumulations_SOURCES = tigge_accumulations.c
 INCLUDES = -I$(top_builddir)/src
-LDADD = $(top_builddir)/src/libgrib_api.a
-DEPENDENCIES = $(LDADD)
+LDADD = -L$(top_builddir)/src -lgrib_api
+DEPENDENCIES = $(top_builddir)/src/libgrib_api.dylib
 all: all-am
 
 .SUFFIXES:
--- grib_api-1.9.16/examples/C/Makefile.in.orig	2012-03-07 05:21:15.000000000 -0500
+++ grib_api-1.9.16/examples/C/Makefile.in	2012-04-09 17:08:50.000000000 -0400
@@ -333,8 +333,8 @@
 list_SOURCES = list.c
 sections_copy_SOURCES = sections_copy.c
 INCLUDES = -I$(top_builddir)/src
-LDADD = $(top_builddir)/src/libgrib_api.a
-DEPENDENCIES = $(LDADD)
+LDADD = -L$(top_builddir)/src -lgrib_api
+DEPENDENCIES = $(top_builddir)/src/libgrib_api.dylib
 EXTRA_DIST = $(TESTS) include.sh
 all: all-am
 
--- grib_api-1.9.16/src/grib_io.c.orig	2012-03-06 13:00:51.000000000 -0500
+++ grib_api-1.9.16/src/grib_io.c	2012-04-09 17:28:52.000000000 -0400
@@ -548,19 +548,19 @@
 
 }
 
-GRIB_INLINE off_t stdio_tell(void* data) {
+GRIB_INLINE static off_t stdio_tell(void* data) {
 	FILE* f = (FILE*)data;
 	return ftello(f);
 }
 
-GRIB_INLINE int stdio_seek(void* data,off_t len) {
+GRIB_INLINE static int stdio_seek(void* data,off_t len) {
 	FILE* f = (FILE*)data;
 	int err=0;
 	if (fseeko(f,len,SEEK_CUR)) err=GRIB_IO_PROBLEM;
 	return err;
 }
 
-GRIB_INLINE int stdio_read(void* data,void* buf,int len,int* err)
+GRIB_INLINE static int stdio_read(void* data,void* buf,int len,int* err)
 {
 	FILE* f = (FILE*)data;
 	int n;
--- grib_api-1.9.16/src/grib_api_prototypes.h.orig	2012-03-06 13:00:51.000000000 -0500
+++ grib_api-1.9.16/src/grib_api_prototypes.h	2012-04-09 17:33:11.000000000 -0400
@@ -785,9 +785,9 @@
 int grib_hash_keys_get_size(grib_itrie *t);
 
 /* grib_io.c */
-GRIB_INLINE off_t stdio_tell(void *data);
-GRIB_INLINE int stdio_seek(void *data, off_t len);
-GRIB_INLINE int stdio_read(void *data, void *buf, int len, int *err);
+GRIB_INLINE static off_t stdio_tell(void *data);
+GRIB_INLINE static int stdio_seek(void *data, off_t len);
+GRIB_INLINE static int stdio_read(void *data, void *buf, int len, int *err);
 int wmo_read_any_from_file(FILE *f, void *buffer, size_t *len);
 int wmo_read_grib_from_file(FILE *f, void *buffer, size_t *len);
 int wmo_read_bufr_from_file(FILE *f, void *buffer, size_t *len);
--- grib_api-1.9.16/examples/F90/Makefile.in.orig	2012-03-07 05:21:15.000000000 -0500
+++ grib_api-1.9.16/examples/F90/Makefile.in	2012-04-10 00:33:56.000000000 -0400
@@ -57,118 +57,91 @@
 am_copy_message_OBJECTS = copy_message.$(OBJEXT)
 copy_message_OBJECTS = $(am_copy_message_OBJECTS)
 copy_message_LDADD = $(LDADD)
-copy_message_DEPENDENCIES = $(top_builddir)/fortran/libgrib_api_f90.a \
-	$(top_builddir)/src/libgrib_api.a
+copy_message_DEPENDENCIES = $(DEPENDENCIES)
 am_copy_namespace_OBJECTS = copy_namespace.$(OBJEXT)
 copy_namespace_OBJECTS = $(am_copy_namespace_OBJECTS)
 copy_namespace_LDADD = $(LDADD)
-copy_namespace_DEPENDENCIES =  \
-	$(top_builddir)/fortran/libgrib_api_f90.a \
-	$(top_builddir)/src/libgrib_api.a
+copy_namespace_DEPENDENCIES = $(DEPENDENCIES)
 am_count_messages_OBJECTS = count_messages.$(OBJEXT)
 count_messages_OBJECTS = $(am_count_messages_OBJECTS)
 count_messages_LDADD = $(LDADD)
-count_messages_DEPENDENCIES =  \
-	$(top_builddir)/fortran/libgrib_api_f90.a \
-	$(top_builddir)/src/libgrib_api.a
+count_messages_DEPENDENCIES = $(DEPENDENCIES)
 am_get_OBJECTS = get.$(OBJEXT)
 get_OBJECTS = $(am_get_OBJECTS)
 get_LDADD = $(LDADD)
-get_DEPENDENCIES = $(top_builddir)/fortran/libgrib_api_f90.a \
-	$(top_builddir)/src/libgrib_api.a
+get_DEPENDENCIES = $(DEPENDENCIES)
 am_get_data_OBJECTS = get_data.$(OBJEXT)
 get_data_OBJECTS = $(am_get_data_OBJECTS)
 get_data_LDADD = $(LDADD)
-get_data_DEPENDENCIES = $(top_builddir)/fortran/libgrib_api_f90.a \
-	$(top_builddir)/src/libgrib_api.a
+get_data_DEPENDENCIES = $(DEPENDENCIES)
 am_get_pl_OBJECTS = get_pl.$(OBJEXT)
 get_pl_OBJECTS = $(am_get_pl_OBJECTS)
 get_pl_LDADD = $(LDADD)
-get_pl_DEPENDENCIES = $(top_builddir)/fortran/libgrib_api_f90.a \
-	$(top_builddir)/src/libgrib_api.a
+get_pl_DEPENDENCIES = $(DEPENDENCIES)
 am_get_pv_OBJECTS = get_pv.$(OBJEXT)
 get_pv_OBJECTS = $(am_get_pv_OBJECTS)
 get_pv_LDADD = $(LDADD)
-get_pv_DEPENDENCIES = $(top_builddir)/fortran/libgrib_api_f90.a \
-	$(top_builddir)/src/libgrib_api.a
+get_pv_DEPENDENCIES = $(DEPENDENCIES)
 am_index_OBJECTS = index.$(OBJEXT)
 index_OBJECTS = $(am_index_OBJECTS)
 index_LDADD = $(LDADD)
-index_DEPENDENCIES = $(top_builddir)/fortran/libgrib_api_f90.a \
-	$(top_builddir)/src/libgrib_api.a
+index_DEPENDENCIES = $(DEPENDENCIES)
 am_keys_iterator_OBJECTS = keys_iterator.$(OBJEXT)
 keys_iterator_OBJECTS = $(am_keys_iterator_OBJECTS)
 keys_iterator_LDADD = $(LDADD)
-keys_iterator_DEPENDENCIES =  \
-	$(top_builddir)/fortran/libgrib_api_f90.a \
-	$(top_builddir)/src/libgrib_api.a
+keys_iterator_DEPENDENCIES = $(DEPENDENCIES)
 am_multi_OBJECTS = multi.$(OBJEXT)
 multi_OBJECTS = $(am_multi_OBJECTS)
 multi_LDADD = $(LDADD)
-multi_DEPENDENCIES = $(top_builddir)/fortran/libgrib_api_f90.a \
-	$(top_builddir)/src/libgrib_api.a
+multi_DEPENDENCIES = $(DEPENDENCIES)
 am_multi_write_OBJECTS = multi_write.$(OBJEXT)
 multi_write_OBJECTS = $(am_multi_write_OBJECTS)
 multi_write_LDADD = $(LDADD)
-multi_write_DEPENDENCIES = $(top_builddir)/fortran/libgrib_api_f90.a \
-	$(top_builddir)/src/libgrib_api.a
+multi_write_DEPENDENCIES = $(DEPENDENCIES)
 am_nearest_OBJECTS = nearest.$(OBJEXT)
 nearest_OBJECTS = $(am_nearest_OBJECTS)
 nearest_LDADD = $(LDADD)
-nearest_DEPENDENCIES = $(top_builddir)/fortran/libgrib_api_f90.a \
-	$(top_builddir)/src/libgrib_api.a
+nearest_DEPENDENCIES = $(DEPENDENCIES)
 am_new_from_file_OBJECTS = new_from_file.$(OBJEXT)
 new_from_file_OBJECTS = $(am_new_from_file_OBJECTS)
 new_from_file_LDADD = $(LDADD)
-new_from_file_DEPENDENCIES =  \
-	$(top_builddir)/fortran/libgrib_api_f90.a \
-	$(top_builddir)/src/libgrib_api.a
+new_from_file_DEPENDENCIES = $(DEPENDENCIES)
 am_precision_OBJECTS = precision.$(OBJEXT)
 precision_OBJECTS = $(am_precision_OBJECTS)
 precision_LDADD = $(LDADD)
-precision_DEPENDENCIES = $(top_builddir)/fortran/libgrib_api_f90.a \
-	$(top_builddir)/src/libgrib_api.a
+precision_DEPENDENCIES = $(DEPENDENCIES)
 am_print_data_OBJECTS = print_data.$(OBJEXT)
 print_data_OBJECTS = $(am_print_data_OBJECTS)
 print_data_LDADD = $(LDADD)
-print_data_DEPENDENCIES = $(top_builddir)/fortran/libgrib_api_f90.a \
-	$(top_builddir)/src/libgrib_api.a
+print_data_DEPENDENCIES = $(DEPENDENCIES)
 am_read_from_file_OBJECTS = read_from_file.$(OBJEXT)
 read_from_file_OBJECTS = $(am_read_from_file_OBJECTS)
 read_from_file_LDADD = $(LDADD)
-read_from_file_DEPENDENCIES =  \
-	$(top_builddir)/fortran/libgrib_api_f90.a \
-	$(top_builddir)/src/libgrib_api.a
+read_from_file_DEPENDENCIES = $(DEPENDENCIES)
 am_read_message_OBJECTS = read_message.$(OBJEXT)
 read_message_OBJECTS = $(am_read_message_OBJECTS)
 read_message_LDADD = $(LDADD)
-read_message_DEPENDENCIES = $(top_builddir)/fortran/libgrib_api_f90.a \
-	$(top_builddir)/src/libgrib_api.a
+read_message_DEPENDENCIES = $(DEPENDENCIES)
 am_samples_OBJECTS = samples.$(OBJEXT)
 samples_OBJECTS = $(am_samples_OBJECTS)
 samples_LDADD = $(LDADD)
-samples_DEPENDENCIES = $(top_builddir)/fortran/libgrib_api_f90.a \
-	$(top_builddir)/src/libgrib_api.a
+samples_DEPENDENCIES = $(DEPENDENCIES)
 am_set_OBJECTS = set.$(OBJEXT)
 set_OBJECTS = $(am_set_OBJECTS)
 set_LDADD = $(LDADD)
-set_DEPENDENCIES = $(top_builddir)/fortran/libgrib_api_f90.a \
-	$(top_builddir)/src/libgrib_api.a
+set_DEPENDENCIES = $(DEPENDENCIES)
 am_set_bitmap_OBJECTS = set_bitmap.$(OBJEXT)
 set_bitmap_OBJECTS = $(am_set_bitmap_OBJECTS)
 set_bitmap_LDADD = $(LDADD)
-set_bitmap_DEPENDENCIES = $(top_builddir)/fortran/libgrib_api_f90.a \
-	$(top_builddir)/src/libgrib_api.a
+set_bitmap_DEPENDENCIES = $(DEPENDENCIES)
 am_set_missing_OBJECTS = set_missing.$(OBJEXT)
 set_missing_OBJECTS = $(am_set_missing_OBJECTS)
 set_missing_LDADD = $(LDADD)
-set_missing_DEPENDENCIES = $(top_builddir)/fortran/libgrib_api_f90.a \
-	$(top_builddir)/src/libgrib_api.a
+set_missing_DEPENDENCIES = $(DEPENDENCIES)
 am_set_pv_OBJECTS = set_pv.$(OBJEXT)
 set_pv_OBJECTS = $(am_set_pv_OBJECTS)
 set_pv_LDADD = $(LDADD)
-set_pv_DEPENDENCIES = $(top_builddir)/fortran/libgrib_api_f90.a \
-	$(top_builddir)/src/libgrib_api.a
+set_pv_DEPENDENCIES = $(DEPENDENCIES)
 DEFAULT_INCLUDES = -I.@am__isrc@ -I$(top_builddir)/src
 FCCOMPILE = $(FC) $(AM_FCFLAGS) $(FCFLAGS)
 FCLD = $(FC)
@@ -371,8 +344,8 @@
 copy_namespace_SOURCES = copy_namespace.f90
 INCLUDES = -I$(top_builddir)/src
 AM_FCFLAGS = $(F90_MODULE_FLAG)$(top_builddir)/fortran
-LDADD = $(top_builddir)/fortran/libgrib_api_f90.a $(top_builddir)/src/libgrib_api.a
-DEPENDENCIES = $(LDADD)
+LDADD = -L$(top_builddir)/fortran -lgrib_api_f90 -L$(top_builddir)/src -lgrib_api
+DEPENDENCIES = $(top_builddir)/fortran/libgrib_api_f90.dylib
 EXTRA_DIST = $(TESTS) include.sh
 all: all-am
 
