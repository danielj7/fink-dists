Package: fortran-utils
Version: 1.1
Revision: 2
Description: Tools for use with Fortran77 code
License: OSI-Approved

# Unpack Phase:
Source: mirror:freebsd:../local-distfiles/kris/%n-%v.tar.gz
Source-MD5: eccd2275677457e92e0db715c34881f8

Source2: http://www.freebsd.org/cgi/cvsweb.cgi/~checkout~/ports/devel/fortran-utils/files/patch-fpr.c?rev=1.1;content-type=text%%2Fplain
Source2-MD5: ba87c6561533527a221c3a0bcd776acb
Source2Rename: patch-fpr.c

SourceDirectory: %n

# Patch Phase:
PatchScript: <<
  patch -p0 < ../patch-fpr.c
  sed -i.bak "s|getline|lineget|g" fsplit/fsplit.c
<<

# Compile Phase:
CompileScript: <<
#!/bin/sh -ev
  cd fsplit
  gcc -o fsplit fsplit.c
  cd ../fpr
  gcc -o fpr fpr.c
<<

InstallScript: <<
#!/bin/sh -ev
# programs
  mkdir -p %i/bin
  install -m 755 %b/fsplit/fsplit %i/bin
  install -m 755 %b/fpr/fpr       %i/bin
# man pages
  mkdir -p %i/share/man/man1
  install -m 644 %b/fsplit/fsplit.1 %i/share/man/man1/fsplit.1
  install -m 644 %b/fpr/fpr.1       %i/share/man/man1/fpr.1
<<

DescDetail: <<
  Tools for use with Fortran programs, formerly part of FreeBSD 
  (inherited from 4.4BSD).

  Contains:

  fpr(1) -- a filter that transforms files formatted according to Fortran's
  carriage control conventions into files formatted according to UNIX line
  printer conventions

  fsplit(1) -- split a multi-routine Fortran file into individual files

  For further information see the man pages.
<<

DescPort: <<
  Using gcc directly was easier than getting the bsd ports Makefile running.
  function getline renamed to lineget, to avoid duplicate of intrinsic function.
<<

Homepage: http://www.freebsd.org/cgi/cvsweb.cgi/ports/devel/fortran-utils/
Maintainer: Karl-Michael Schindler <karl-michael.schindler@web.de>
