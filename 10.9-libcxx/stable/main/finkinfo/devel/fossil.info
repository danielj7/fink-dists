# -*- coding: ascii; tab-width: 4 -*-
Package: fossil
Version: 20130911114349
Revision: 3
Description: Distributed version control system
DescDetail: <<
	A self-contained, open source, distributed version control system like
	git or mercurial with integrated bug tracking, wiki and blog mechanisms.
	Fossil also contains a web-based ui and an autosync mode to keep remote
	repositories in sync.
<<
DescUsage: <<
	Please see "fossil help" and the homepage for usage information.
<<
License: BSD
Homepage: http://www.fossil-scm.org
Maintainer: Daniel Johnson <daniel@daniel-johnson.org>

Source: http://www.fossil-scm.org/download/fossil-src-%v.tar.gz
Source-MD5: fa4ea3eb25d2a8cfb0edbd0c30c268b9

# clang doesn't recognize '-gstabs'.
PatchScript: perl -pi -e 's/-gstabs/-g0/' autosetup/cc.tcl

Depends: openssl100-shlibs (>= 1.0.2g-1), libiconv, readline6-shlibs
BuildDepends: openssl100-dev (>= 1.0.2g-1), libiconv-dev, readline6

ConfigureParams: --with-openssl=%p

CompileScript: CCACHE=none ./configure %c; make TCLSH=/usr/bin/tclsh

InfoTest: TestScript: make test TCLSH=/usr/bin/tclsh || exit 2

InstallScript: <<
	mkdir -p %i/bin
	install -m 0755 fossil %i/bin
<<

DocFiles: COPYRIGHT-BSD2.txt
