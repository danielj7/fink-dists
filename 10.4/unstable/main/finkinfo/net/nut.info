Package: nut
Version: 2.0.4
Revision: 0

# (See splitoffs)
Depends: 
BuildDepends: pkgconfig, gd2, libusb
Recommends: nut-cgi, nut-usb
Suggests: nut-snmp

Source: http://random.networkupstools.org/source/2.0/%n-%v.tar.gz
Source-MD5: 59b6f3038a5ef64c584913e72bd850a2

DocFiles: CHANGES COPYING CREDITS INSTALL NEWS README UPGRADING

ConfigureParams: <<
  --with-cgi \
  --with-cgipath=%p/lib/nut-cgi-bin \
  --with-gd-includes=-I%p/include \
  --with-gd-libs='-L%p/lib -lgd'\
  --mandir=%p/share/man   \
  --infodir=%p/share/info \
  --datadir=%p/share/nut  \
  --with-pkgconfig-dir=%p/lib/pkgconfig \
  --with-statepath=%p/var/run/ups \
  --with-pidpath=%p/var/run \
  --sysconfdir=%p/etc/nut
<<

CompileScript: <<
  ./configure %c
  make all usb
<<

InstallScript: <<
   make DESTDIR=%d install
   make DESTDIR=%d install-conf
   make DESTDIR=%d install-cgi
   make DESTDIR=%d install-usb
   install -d -m 755 %i/share/doc/%n
   cp -pr docs %i/share/doc/%n
   install -d -m 755 %i/var/run/ups
<<

SplitOff: <<
  Package: %N-cgi
  Depends: gd2-shlibs
  Files: <<
    lib/nut-cgi-bin/*
    share/man/man5/upsstats.html.5
    share/man/man5/hosts.conf.5
    share/man/man5/upsset.conf.5
    share/man/man8/upsimage.cgi.8
    share/man/man8/upsset.cgi.8
    share/man/man8/upsstats.cgi.8
  <<
  Description: Network UPS Tools - CGI graphing tools
<<

SplitOff2: <<
  Package: %N-usb
  Depends: libusb-shlibs, %N
  Files: <<
    bin/newhidups
    bin/tripplite_usb
    bin/bcmxcp_usb
    share/man/man8/newhidups.8
    share/man/man8/tripplite_usb.8
    share/man/man8/bcmxcp_usb.8
  <<
  Description: Network UPS Tools - USB drivers
<<

Description: Network UPS Tools - core
DescDetail: <<
NUT is a client/server uninterruptible power supply (UPS) monitoring system
that permits the sharing of one (or more) UPS between several machines.  The
'server' monitors the UPS and notifies the 'clients' when the UPS is on
battery or has a low battery.
<<

DescUsage:<<
You will need to read the documentation in %p/share/doc/%n/docs to learn how to
set up NUT to monitor your UPS and shut down your machine when the UPS battery
is low.

Note that some USB UPSes may already be supported by OS X, and the NUT drivers
may have trouble interoperating.
<<

DescPort:<<
I looked at making this work with net-snmp, but currently (July 2006) the
net-snmp in unstable does not compile, and there is no virtual package for the
Tiger net-snmp.
<<

License: GPL
Homepage: http://random.networkupstools.org/
Maintainer: Charles Lepple <clepple+fink@ghz.cc>
