Package: pointless
Version: 1.1.1.c
Revision: 1
Source: ftp://ftp.ccp4.ac.uk/ccp4/6.0.2/prerelease/%n-%v-src.tar.gz
Source-MD5: b162fb106caa9d5f463361feda471913
Source2: ftp://ftp.ccp4.ac.uk/ccp4/6.0.2/prerelease/%n.html
Source2-MD5: c5923f0c135f8434fb97781e91b93987
Source3: ftp://ftp.ccp4.ac.uk/ccp4/6.0.2/prerelease/%n-ccp4i-0.0.8.tar.gz
Source3-MD5: e4d9a43059ad3981ea7eda165c5ba5aa
Source4: ftp://ftp.ccp4.ac.uk/ccp4/6.0.2/source/phaser-1.3.3-cctbx-src.tar.gz
Source4-MD5: edff4d201e7b6d987c05efcf965f6023
NoSourceDirectory: yes
Depends: ccp4 (>= 6.0.2) | ccp4-g77 (>= 6.0.2) , fftw-shlibs
BuildDepends: ccp4-dev (>= 6.0.2) | ccp4-g77-dev (>= 6.0.2), fftw
NoSetCPPFLAGS: true
NoSetLDFLAGS: true
PatchScript: <<
#!/bin/bash -efv
mv pointless pointless-ccp4i
cp Makefile.linux Makefile
perl -pi -e 's|CCTBX \= \${CLIB}/cctbx|CCTBX \= ccp4-6.0.2/lib/cctbx|g' Makefile
perl -pi -e 's|lm|lm -L%p/lib -ldrfftw -lfftw|' Makefile
<<
CompileScript: << 
#!/bin/bash -efv
source %p/bin/init.sh
make
<<
InstallScript: <<
#!/bin/bash -efv
source %p/bin/init.sh
mkdir -p %i/share/xtal/ccp4-6.0.2/bin
mkdir -p %i/share/xtal/ccp4-6.0.2/html
cp %n  %i/share/xtal/ccp4-6.0.2/bin/.
cp %n.html  %i/share/xtal/ccp4-6.0.2/html/.
cd pointless-ccp4i
pwd
mkdir -p %i/share/xtal/pointless
cp modules.def %i/share/xtal/pointless
cp ccp4i_packages.def %i/share/xtal/pointless
mkdir -p %i/share/xtal/ccp4-6.0.2/ccp4i/templates
cp templates/pointless.com %i/share/xtal/ccp4-6.0.2/ccp4i/templates/. 
mkdir -p %i/share/xtal/ccp4-6.0.2/ccp4i/scripts
cp scripts/pointless_centre.script scripts/pointless_index.script scripts/pointless_laue.script %i/share/xtal/ccp4-6.0.2/ccp4i/scripts/. 
#mkdir -p %i/share/xtal/ccp4-6.0.2/ccp4i/help
# cppointless-ccp4i/help/* %i/share/xtal/ccp4-6.0.2/ccp4i/help/. 
mkdir -p %i/share/xtal/ccp4-6.0.2/ccp4i/tasks
cp tasks/pointless.def  tasks/pointless_index.def tasks/pointless_laue.tcl tasks/pointless_centre.def tasks/pointless_index.tcl tasks/pointless_utils.tcl tasks/pointless_centre.tcl tasks/pointless_laue.def  %i/share/xtal/ccp4-6.0.2/ccp4i/tasks/. 
<<
Description: CCP4 point and space group and index tests
DescDetail: <<
Pointless has several possible functions:
1. Determination of Laue group and space group (LAUEGROUP mode).
2. Testing of alternative indexing schemes
3. Checking the centre of the diffraction pattern
4. Reindexing

Detailed description available on package homepage link and by issuing
the command "ccp4help pointless"

To use the CCP4i interface with pointless, first execute the commands
mkdir -p ~/.CCP4/unix
touch ~/.CCP4/unix/modules.def
cat %p/share/xtal/pointless/modules.def >> ~/.CCP4/unix/modules.def
<<
License: Restrictive             
Homepage: ftp://ftp.ccp4.ac.uk/ccp4/6.0.2/prerelease/pointless.html
Maintainer: W. G. Scott <wgscott@chemistry.ucsc.edu>
