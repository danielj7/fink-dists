Package: conglomerate
Version: 0.7.14
Revision: 3
Source: mirror:sourceforge:%n/%n-%v.tar.gz
Source-MD5: 1a04815a1059987aea45816aa1401bc3
GCC: 3.3
Depends: gconf2-shlibs (>= 2.6.3-9),gtk+2-shlibs (>= 2.4.3-5), libxml2-shlibs (>= 2.6.11-1), libxslt-shlibs (>= 1.1.8-1), libbonobo2-shlibs (>= 2.6.2-6), libbonoboui2-shlibs (>= 2.6.1-9), libgnomeprint2.2-shlibs, libgnomeui2-shlibs (>= 2.6.1.1-8), gnome-keyring-shlibs, libjpeg-shlibs, libglade2-shlibs (>= 2.3.6-16), gtksourceview-shlibs (>= 1.0.1-5), glib2-shlibs (>= 2.4.2-4), gnome-vfs2-shlibs (>= 2.6.1.1-13) | gnome-vfs2-ssl-shlibs (>= 2.6.1.1-13), libart2-shlibs (>= 2.3.16-1), libgnome2-shlibs (>= 2.6.1.1-7), libgnomecanvas2-shlibs (>= 2.6.1.1-7), libiconv, orbit2-shlibs (>= 2.10.3-8), pango1-xft2-shlibs (>= 1.4.0-27), atk1-shlibs (>= 1.6.1-2), shared-mime-info, scrollkeeper, popt-shlibs, x11, esound-shlibs, gettext
BuildDepends: autoconf2.5, automake1.8, libtool14, pkgconfig, libxslt (>= 1.1.8-1), libbonoboui2-dev (>= 2.6.1-9), libgnomeui2-dev (>= 2.6.1.1-8), libglade2 (>= 2.3.6-16), gtksourceview-dev (>= 1.0.1-5), gtk-doc (>= 1.2-13), atk1 (>= 1.6.1-2), gconf2-dev (>= 2.6.3-9), gconf2 (>= 2.6.3-9), glib2-dev (>= 2.4.2-4), glib2 (>=2.4.2-4), gnome-vfs2-dev (>= 2.6.1.1-13) | gnome-vfs2-ssl-dev (>= 2.6.1.1-13), gtk+2-dev (>= 2.4.3-5), gtk+2 (>= 2.4.3-5), libart2 (>= 2.3.16-2), libbonobo2-dev (>= 2.6.2-6), libgnome2-dev (>= 2.6.1.1-7), libgnomecanvas2-dev (>= 2.6.1.1-7), libxml2 (>= 2.6.11-1), orbit2-dev (>= 2.10.3-8), pango1-xft2-dev (>= 1.4.0-27), popt, gettext-dev, gettext-bin, libiconv-dev, x11-dev, gnome-keyring-dev
Patch: %n.patch
ConfigureParams: --with-html-dir=%p/share/doc/%n/html 
SetCPPFLAGS: -no-cpp-precomp
CompileScript: <<
 #!/bin/sh -ev
 echo "*** The below warnings are HARMLESS ***"
 glibtoolize --force --copy && aclocal --force && autoconf
 automake --copy --gnu --add-missing --force-missing
 ./configure %c
 make
<<
InstallScript: <<
 #/bin/sh -ev
 install -d -m 0755 %i/share/man/man1
 install -c -m 644 doc/C/conglomerate.1 %i/share/man/man1/
 GCONF_DISABLE_MAKEFILE_SCHEMA_INSTALL=1 make install DESTDIR=%d
<<
PostInstScript: <<
 if [ configure = "$1" ]; then
  scrollkeeper-update -q
  export GCONF_CONFIG_SOURCE=`gconftool-2 --get-default-source`
  gconftool-2 --makefile-install-rule %p/etc/gconf/schemas/conglomerate.schemas
 fi
<<
PostRmScript: <<  
 if [ remove != "$1" ]; then
  scrollkeeper-update -q
 fi
<<
ConfFiles: %p/etc/gconf/schemas/%n.schemas
DocFiles: AUTHORS BUGS COPYING INSTALL NEWS TODO ChangeLog
Description: Graphical editor for XML documents
DescDetail: <<
 Conglomerate aims to be a wysiwyg editor for XML/DocBook
 documents with source view and export capabilities.
 Runs outside of gnome, but needs it to be installed.
<<
DescUsage: <<
 You can use Conglomerate with kde, gnome or X11.
 Under gnome or kde, launch it with (e.g. to get it in French.):
  export LANG=fr_FR; unset LC_ALL; conglomerate
 Use:
  conglomerate foo 
 to open a file, if the File/Open menu does not work.
<<
DescPackaging: <<
 Disable print as it uses libfop which is not ported to fink (a kind soul?)
 but needs libgnomeprint/ui as fo export needs it
 Install man page (xml format not very user-friendly)
<<
DescPort: <<
 Rerun autotools to work around versions of aclocal and automake not recognized
 Use of pkgconfig.
 Patching omf.make to disable scrollkeeper-update while building
 Scripts for scrollkeeper and gconf2
 Adding shared-mime-info so that the File-Open menu works
 Patching cnxml.xds for right dtd uri
<<
Homepage: http://www.conglomerate.org
License: GPL
Maintainer: Michele Garoche <michele.garoche@easyconnect.fr>
