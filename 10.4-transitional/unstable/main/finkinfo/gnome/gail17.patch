diff -Nurd -x'*~' gail-1.8.4.orig/ltmain.sh gail-1.8.4/ltmain.sh
--- gail-1.8.4.orig/ltmain.sh	2005-04-28 09:52:37.000000000 -0400
+++ gail-1.8.4/ltmain.sh	2005-07-17 20:36:59.000000000 -0400
@@ -2454,7 +2454,6 @@
 	   { test "$prefer_static_libs" = no || test -z "$old_library"; }; then
 	  if test "$installed" = no; then
 	    notinst_deplibs="$notinst_deplibs $lib"
-	    need_relink=yes
 	  fi
 	  # This is a shared library
 
diff -ur gail-1.8.6/ChangeLog gail-CVS/ChangeLog
--- gail-1.8.6/ChangeLog	2005-11-14 10:21:55.000000000 -0500
+++ gail-CVS/ChangeLog	2005-11-23 14:45:15.000000000 -0500
@@ -1,3 +1,15 @@
+2005-11-22  Bill Haneman <bill.haneman@sun.com>
+
+	* gail/gailtreeview.c:
+	(gail_tree_view_expand_row_gtk): Add some assertions.
+	Don't update if "path" is NULL.
+	(idle_update): Set the treeview's "idle path" to NULL,
+	to prevent double-frees if two updates are pending.
+	Don't free the 'data' pointer here (!).
+	This means we only handle the most recent expand event, at the
+	moment.
+	Fixes bug #322044.
+	
 2005-11-14  Bill Haneman <bill.haneman@sun.com>
 
 	Fixes for OpenOffice.org direct bridge.
diff -ur gail-1.8.6/gail/gailtreeview.c gail-CVS/gail/gailtreeview.c
--- gail-1.8.6/gail/gailtreeview.c	2005-10-06 07:17:11.000000000 -0400
+++ gail-CVS/gail/gailtreeview.c	2005-11-22 13:29:26.000000000 -0500
@@ -2226,8 +2226,17 @@
                                GtkTreeIter        *iter,
                                GtkTreePath        *path)
 {
-  AtkObject *atk_obj = gtk_widget_get_accessible (GTK_WIDGET (tree_view));
-  GailTreeView *gailview = GAIL_TREE_VIEW (atk_obj);
+  AtkObject *atk_obj;
+  GailTreeView *gailview;
+
+  g_assert (GTK_IS_TREE_VIEW (tree_view));
+
+  atk_obj = gtk_widget_get_accessible (GTK_WIDGET (tree_view));
+
+  g_assert (GAIL_IS_TREE_VIEW (atk_obj));
+
+  gailview = GAIL_TREE_VIEW (atk_obj);
+
   /*
    * The visible rectangle has not been updated when this signal is emitted
    * so we process the signal when the GTK processing is completed
@@ -2248,8 +2257,13 @@
   GtkTreeModel *tree_model;
   gint n_inserted, row;
 
+  g_assert (GTK_IS_TREE_VIEW (tree_view));
+
   tree_model = gtk_tree_view_get_model(tree_view);
-  if (!gtk_tree_model_get_iter (tree_model, &iter, path))
+
+  g_assert (GTK_IS_TREE_MODEL (tree_model));
+
+  if (!path || !gtk_tree_model_get_iter (tree_model, &iter, path))
       return FALSE;
 
   /*
@@ -2294,8 +2308,9 @@
   
   g_signal_emit_by_name (gailview, "row_inserted", row, n_inserted);
 
+  gailview->idle_expand_path = NULL;
+
   gtk_tree_path_free (path);
-  g_free (data);
   return FALSE;
 }
 
@@ -3608,6 +3623,8 @@
       GList *temp_list;
       GtkWidget *widget;
 
+      g_assert (GTK_IS_ACCESSIBLE (tree_view));
+
       widget = GTK_ACCESSIBLE (tree_view)->widget;
       if (!widget)
         /* Widget is being deleted */
