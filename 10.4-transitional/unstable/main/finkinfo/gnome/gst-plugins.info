Package: gst-plugins
Version: 0.8.11
Revision: 2
GCC: 3.3
BuildConflicts: libquicktime0
Depends: %N-shlibs (>= %v-%r), gconf2 (>= 2.6.0-1), libgettext3-shlibs, glib2 (>= 2.4.0-1), gnome-vfs2 (>= 2.6.0-1) | gnome-vfs2-ssl (>= 2.6.0-1), gstreamer (>= 0.8.10-1), libbonobo2 (>= 2.6.0-1), libiconv, orbit2 (>= 2.10.0-1), lame, ladspa, a52dec
BuildDepends: cairo (>= 0.5.0-1), docbook-utils, freetype219, gstreamer-dev (>= 0.8.10-1), glib2-dev (>= 2.4.0-1), pango1-xft2-dev (>= 1.4.0-1), gtk+2-dev (>= 2.4.0-1), libgnomecanvas2-dev (>= 2.6.0-1), orbit2-dev (>= 2.10.0-1), gconf2-dev (>= 2.6.0-1), gnome-vfs2-dev (>= 2.6.0-1) | gnome-vfs2-ssl-dev (>= 2.6.0-1), libxml2 (>= 2.6.7-1), libbonobo2-dev (>= 2.6.0-1), libgnome2-dev (>= 2.6.0-1), libbonoboui2-dev (>= 2.6.0-1), libgnomeui2-dev (>= 2.6.0-1), pkgconfig, intltool, popt, libgettext3-dev, gettext-tools, libiconv-dev, libpng3, mjpegtools2-dev (>= 1.6.2-1), esound, audiofile, flac, lcms, libmikmod3, libvorbis0, sdl, libmad (>= 0.15.0b-2), libid3tag (>= 0.15.0b-3), lame-dev, ladspa-dev, aalib, a52dec-dev, hermes, libshout4, icecast, gsm, libfame1, libdv4 (>= 0.104-1), libjpeg, libogg, mpeg2dec-dev, mpeg2dec, libsidplay, libghttp, xfig, libcdparanoia0-dev, libdvdcss, libdvdnav2 (>= 0.1.10-1), libdvdread4, libmng2, libvisual, libmusicbrainz4, speex3, libsndfile1-dev, libtheora0, glitz
Source: http://gstreamer.freedesktop.org/src/%n/%n-%v.tar.bz2
Source-MD5: ea787eeed3761ff03cb60ecebebe1c30
PatchScript: <<
  perl -pi -e 's,/etc/xml/catalog,%p/etc/xml/catalog,g' configure
<<
Patch: %n.patch
SetCPPFLAGS: -I%p/lib/freetype219/include/freetype2 -I%p/lib/freetype219/include -no-cpp-precomp -I/usr/X11R6/include
SetCFLAGS: -O3 -funroll-loops -fstrict-aliasing
SetLIBS: -L%p/lib -L%p/lib/freetype219/lib -L/usr/X11R6/lib
NoSetMAKEFLAGS: true
SetMAKEFLAGS: -j1
CompileScript: <<
#!/bin/sh -e

  export PKG_CONFIG_PATH="%p/lib/freetype219/lib/pkgconfig:$PKG_CONFIG_PATH"
  ./configure %c
  perl -pi -e "s,-export-symbols-regex '.*?',," ext/mpeg2enc/Makefile ext/mplex/Makefile
  make
<<
ConfigureParams: --libexecdir=%p/lib/%n --mandir=%p/share/man --disable-arts --disable-artsc --with-ft-prefix=%p/lib/freetype219 --disable-sdltest
InstallScript: <<
#!/bin/sh -e
  GCONF_DISABLE_MAKEFILE_SCHEMA_INSTALL=1 make install DESTDIR=%d
<<
PostInstScript: <<
  if [ configure = "$1" ]; then
    export GCONF_CONFIG_SOURCE=`gconftool-2 --get-default-source`
    echo "" > /tmp/gstreamer-postinst.log
    for command in "gconftool-2 --makefile-install-rule %p/etc/gconf/schemas/gstreamer-0.8.schemas" \
      "gst-register --gst-mask=0" "gst-compprep"; do
      echo "=== $command" >>/tmp/gstreamer-postinst.log
      $command >>/tmp/gstreamer-postinst.log 2>&1 || :
    done
  fi
<<
PostRmScript: <<
  if [ upgrade != "$1" ]; then
    echo "" > /tmp/gstreamer-postrm.log
    for command in "gst-register --gst-mask=0"; do
      echo "=== $command" >>/tmp/gstreamer-postinst.log
      $command >>/tmp/gstreamer-postinst.log 2>&1 || :
    done
  fi
<<
ConfFiles: %p/etc/gconf/schemas/gstreamer-0.8.schemas
SplitOff: <<
  Package: %N-shlibs
  Depends: audiofile-shlibs (>= 0.2.5-1), cairo-shlibs (>= 0.5.0-1), esound-shlibs (>= 0.2.34-1), freetype219-shlibs, gconf2-shlibs (>= 2.6.0-1), libgettext3-shlibs, glib2-shlibs (>= 2.4.0-1), gnome-vfs2-shlibs (>= 2.6.0-1) | gnome-vfs2-ssl-shlibs (>= 2.6.0-1), gstreamer-shlibs (>= 0.8.10-1), libbonobo2-shlibs (>= 2.6.0-1), libiconv, libid3tag-shlibs (>= 0.15.0b-3), libxml2-shlibs (>= 2.6.7-1), orbit2-shlibs (>= 2.10.0-1), libpng3-shlibs, mjpegtools2-shlibs (>= 1.6.2-1), esound-shlibs, audiofile-shlibs, flac-shlibs, libcdparanoia0-shlibs, libdvdcss, libdvdnav2-shlibs (>= 0.1.10-1), libdvdread4-shlibs, libmikmod3-shlibs, libvorbis0-shlibs, sdl-shlibs, speex3-shlibs, libsndfile1-shlibs, libmad-shlibs (>= 0.15.0b-2), lame-shlibs, ladspa, aalib-shlibs, a52dec, hermes-shlibs, libshout4-shlibs, icecast, gsm, libfame1-shlibs, libdv4-shlibs (>= 0.104-1), libjpeg-shlibs, libogg-shlibs, libghttp-shlibs, libsidplay-shlibs, mpeg2dec-shlibs, libmng2-shlibs, libvisual-shlibs, libmusicbrainz4-shlibs, libtheora0-shlibs, popt-shlibs
  Replaces: %N-dev, %N
  Description: Shared libraries for gst-plugins
  Files: <<
    lib/libgstgconf-0.8.*.dylib
    lib/libgstinterfaces-0.8.*.dylib
    lib/libgstmedia-info-0.8.*.dylib
    lib/libgstplay-0.8.*.dylib
    lib/gstreamer-0.8
  <<
  Shlibs: <<
    %p/lib/libgstgconf-0.8.0..dylib 2.0.0 %N-shlibs (>= 0.8.8-1)
    %p/lib/libgstinterfaces-0.8.0.dylib 2.0.0 %N-shlibs (>= 0.8.8-1)
    %p/lib/libgstmedia-info-0.8.0.dylib 1.0.0 %N-shlibs (>= 0.8.8-1)
    %p/lib/libgstplay-0.8.0.dylib 2.0.0 %N-shlibs (>= 0.8.8-1)
  <<
<<
SplitOff2: <<
  Package: %N-dev
  Depends: %N (>= %v-%r)
  Description: Development headers and libraries for gst-plugins
  Files: lib include
  BuildDependsOnly: true
<<
DocFiles: AUTHORS COPYING ChangeLog README
Description: Streaming-media framework plugins
DescDetail: <<
GStreamer is a streaming-media framework, based 
on graphs of filters which operate on media data. 
Applications using this library can do anything
from real-time sound processing to playing videos. 
Its plugin-based architecture means that new data 
types or processing capabilities can be added 
simply by installing new plugins.
<<
DescPackaging: <<
Although this software is distributed under the GPL, it must be labeled
as Restrictive since it depends on the restrictive package "lame".
<<
License: Restrictive
Maintainer: The Gnome Core Team <fink-gnome-core@lists.sourceforge.net>
Homepage: http://www.gstreamer.net/
