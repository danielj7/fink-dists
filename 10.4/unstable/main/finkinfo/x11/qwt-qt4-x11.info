Package: qwt-qt4-x11
Version: 5.0.2
Revision: 1
Description: Qt Widgets for Technical Applications
License: LGPL
Maintainer: Murali K Vadivelu <murali1080@sf.net>
Depends: %N-shlibs ( = %v-%r )
BuildDepends: freetype219, glib2-dev, libgettext3-dev, libiconv-dev, libpng3, qt4-x11
BuildDependsOnly: true

Source: mirror:sourceforge:qwt/qwt-%v.tar.bz2
Source-MD5: 53adbb313c478dd4aae4f1c864a2037e

PatchScript: sed 's,@PREFIX@,%p,g' < %a/%n.patch | patch -p1

GCC: 4.0

CompileScript: <<
#!/bin/sh -ev
unset QMAKESPEC
export QTDIR=%p/lib/qt4-x11
export PATH="$QTDIR/bin:%p/lib/freetype219/bin:$PATH"
%p/lib/qt4-x11/bin/qmake qwt.pro
make
<<

InstallScript: <<
mkdir -p %i/lib/qt4-x11/qwt
cp -R lib %i/lib/qt4-x11/
cp -R examples %i/lib/qt4-x11/qwt/

mkdir -p  %i/lib/qt4-x11/include/qwt
cp src/*.h %i/lib/qt4-x11/include/qwt/

mkdir -p %i/share/doc/qwt
cp -R doc/html %i/share/doc/qwt/
cp -R doc/man %i/share/

cp -R designer/plugins %i/lib/qt4-x11/
<<

DocFiles: COPYING CHANGES README INSTALL

SplitOff: <<
 Package: qwt-qt4-x11-designer-plugin
 Depends: %N-shlibs ( =%v-%r ), qt4-x11-designer, qt4-x11-designer-shlibs
 Files: lib/qt4-x11/plugins/designer/libqwt_designer_plugin.so
 DocFiles: COPYING CHANGES README INSTALL
<<

Splitoff2: <<
 Package: %N-shlibs
 Depends: qt4-x11-core-shlibs, qt4-x11-gui-shlibs, freetype219-shlibs, glib2-shlibs, libgettext3-shlibs, libiconv, libpng3-shlibs
 Replaces: %N ( << 5.0.2-1 )
 Files: lib/qt4-x11/lib/libqwt.*.dylib
 Shlibs: %p/lib/qt4-x11/lib/libqwt.5.dylib 5.0.0 %n (>= 5.0.2-1)
 Description: Qt Widgets for Technical Applications -- shared library
DocFiles: COPYING CHANGES README INSTALL
<<

Splitoff3: <<
  Package: qwt-doc
  Files: share/doc/qwt share/man/man3
  Description: Qwt's docs and man pages
  DocFiles: COPYING CHANGES README INSTALL
<<

DescDetail: <<
Qwt is a graphics extension to the Qt GUI application 
framework from Trolltech AS of Norway. It provides a 
2D plotting widget and more.
<<
 	  	 

 	  	 
