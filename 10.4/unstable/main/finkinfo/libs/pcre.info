Package: pcre
Version: 7.8
Revision: 2
Depends: %N-shlibs (= %v-%r)
Replaces: pcre-bin (<< 7.0-1)
BuildDependsOnly: True
Source: mirror:sourceforge:%n/%n-%v.tar.bz2
Source-MD5: 141132d6af14dccc7b08fa797e4fd441
NoSetLDFLAGS: true
NoSetCPPFLAGS: true
PatchScript: perl -pi -e 's/-lreadline/-ledit/g' configure
ConfigureParams: <<
	--enable-shared \
	--disable-static \
	--enable-utf8 \
	--enable-unicode-properties \
	--disable-dependency-tracking \
	--enable-pcregrep-libz \
	--enable-pcregrep-libbz2 \
	--enable-pcretest-libreadline
<<
NoSetMAKEFLAGS: true
SetMAKEFLAGS: -j1 
SetCFLAGS: -Os
SetCXXFLAGS: -Os
GCC: 4.0
SplitOff2: <<
  Package: %N-shlibs
  Files: lib/libpcre.*.dylib lib/libpcreposix.*.dylib lib/libpcrecpp.*.dylib
  Shlibs: <<
   %p/lib/libpcre.0.dylib 1.0.0 %n (>= 3.9-2)
   %p/lib/libpcreposix.0.dylib 1.0.0 %n (>= 3.9-2)
   %p/lib/libpcrecpp.0.dylib 1.0.0 %n (>= 7.0-1001)
  <<
  DocFiles: AUTHORS COPYING ChangeLog INSTALL LICENCE NEWS README
<<
SplitOff: <<
  Package: %N-bin
  Depends: %N-shlibs (= %v-%r)
  Files: bin/pcregrep bin/pcretest share/man/man1/pcregrep.1 share/man/man1/pcretest.1
  DocFiles: AUTHORS COPYING ChangeLog INSTALL LICENCE NEWS README
<<
InstallScript: <<
  make install DESTDIR=%d
  #No need for dependency_libs in .la files if not building static libs
  perl -pi -e "s/dependency_libs=.*$/dependency_libs=''/" %i/lib/*.la
<<
DocFiles: AUTHORS COPYING ChangeLog INSTALL LICENCE NEWS README doc/*.txt HACKING
License: BSD
Description: Perl Compatible Regular Expressions Library
DescDetail: <<
  The PCRE library is a set of functions that implement regular expression
  pattern matching using the same syntax and semantics as PerlJ5. PCRE has
  its own native API, as well as a set of wrapper functions that correspond
  to the POSIX regular expression API and a C++ wrapper library.
  
  Previous revisions by Christian Swinehart <cswinehart@users.sourceforge.net>
<<
DescPackaging: <<
  Any package which uses the C++ library libpcrecpp.dylib will need a
  versioned dependency on pcre (>= 7.0-1001). Packages which don't use
  the C++ library don't require the versioning.
  
  Patch configure to link directly to the system's libedit instead of
  libreadline which is a symlink to libedit. Avoids having dependent
  packages accidentally linking to Fink's libreadline.
  
  Disabled static libs and cleaned dependency_libs in *.la files.
<<
Homepage: http://www.pcre.org
Maintainer: Daniel Johnson <daniel@daniel-johnson.org>
InfoTest: <<
  TestScript: make check || exit 2
<<