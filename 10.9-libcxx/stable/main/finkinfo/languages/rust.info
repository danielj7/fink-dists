Package: rust
Version: 1.5.0
Revision: 1
Description: Safe Fast System Programming Language
Maintainer: Brendan Cully <fink@brendan.cully.org>
License: BSD
Source: http://static.rust-lang.org/dist/rustc-%v-src.tar.gz
Source-MD5: 234bd912481a04e93b7f2eff0d5b3485
Source2: http://static.rust-lang.org/stage0-snapshots/rust-stage0-2015-08-11-1af31d4-macos-x86_64-c9f2c588238b4c6998190c3abeb33fd6164099a2.tar.bz2
Source2-MD5: dc6e0c217a29253b186af019856cae83
# prevent fink from unpacking
Source2Rename: rust-stage0-2015-08-11-1af31d4-macos-x86_64-c9f2c588238b4c6998190c3abeb33fd6164099a2
SourceDirectory: rustc-%v

BuildDepends: nodejs, pandoc, texlive-base

ConfigureParams: --sysconfdir=%p/etc --localstatedir=%p/var/lib
PatchScript: perl -pi -e 's,3.6\*\),3.6\* \| 7.0.\*\),g' configure
CompileScript: <<
mv ../rust-stage0-2015-08-11-1af31d4-macos-x86_64-c9f2c588238b4c6998190c3abeb33fd6164099a2 rust-stage0-2015-08-11-1af31d4-macos-x86_64-c9f2c588238b4c6998190c3abeb33fd6164099a2.tar.bz2
./configure %c
chmod u+w config.mk
echo SNAPSHOT_FILE := $PWD/rust-stage0-2015-08-11-1af31d4-macos-x86_64-c9f2c588238b4c6998190c3abeb33fd6164099a2.tar.bz2
make
make dist-docs
<<
InstallScript: <<
#!/bin/sh -ev
  make DESTDIR=%d install
  # lib path is in build tree
  for tgt in %i/bin/* %i/lib/*; do
    for lib in $(otool -L $tgt | grep /stage1/ | awk '{print $1}')
    do
      install_name_tool -change $lib %p/lib/$(basename $lib) $tgt
    done
  done
  for tgt in %i/lib/rustlib/x86_64-apple-darwin/lib; do
    for lib in $(otool -L $tgt | grep /stage2/ | awk '{print $1}')
    do
      install_name_tool -change $lib %p/lib/$(basename $lib) $tgt
    done
  done
  for tgt in %i/lib/*.dylib; do
    install_name_tool -id %p/lib/$(basename $tgt) $tgt
  done
  for tgt in %i/lib/rustlib/x86_64-apple-darwin/lib/*.dylib; do
    install_name_tool -id %p/lib/rustlib/x86_64-apple-darwin/lib/$(basename $tgt) $tgt
  done
<<
Shlibs: <<
  %p/lib/libarena-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/libflate-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/libfmt_macros-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/libgetopts-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/libgraphviz-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/liblog-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/librbml-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/librustc-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/librustc_back-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/librustc_borrowck-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/librustc_data_structures-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/librustc_driver-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/librustc_front-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/librustc_lint-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/librustc_llvm-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/librustc_mir-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/librustc_platform_intrinsics-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/librustc_privacy-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/librustc_resolve-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/librustc_trans-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/librustc_typeck-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/librustdoc-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/libserialize-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/libstd-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/libsyntax-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/libterm-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/libtest-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/rustlib/x86_64-apple-darwin/lib/libarena-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/rustlib/x86_64-apple-darwin/lib/libflate-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/rustlib/x86_64-apple-darwin/lib/libfmt_macros-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/rustlib/x86_64-apple-darwin/lib/libgetopts-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/rustlib/x86_64-apple-darwin/lib/libgraphviz-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/rustlib/x86_64-apple-darwin/lib/liblog-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/rustlib/x86_64-apple-darwin/lib/librbml-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/rustlib/x86_64-apple-darwin/lib/librustc-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/rustlib/x86_64-apple-darwin/lib/librustc_back-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/rustlib/x86_64-apple-darwin/lib/librustc_borrowck-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/rustlib/x86_64-apple-darwin/lib/librustc_data_structures-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/rustlib/x86_64-apple-darwin/lib/librustc_driver-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/rustlib/x86_64-apple-darwin/lib/librustc_front-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/rustlib/x86_64-apple-darwin/lib/librustc_lint-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/rustlib/x86_64-apple-darwin/lib/librustc_llvm-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/rustlib/x86_64-apple-darwin/lib/librustc_mir-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/rustlib/x86_64-apple-darwin/lib/librustc_platform_intrinsics-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/rustlib/x86_64-apple-darwin/lib/librustc_privacy-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/rustlib/x86_64-apple-darwin/lib/librustc_resolve-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/rustlib/x86_64-apple-darwin/lib/librustc_trans-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/rustlib/x86_64-apple-darwin/lib/librustc_typeck-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/rustlib/x86_64-apple-darwin/lib/librustdoc-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/rustlib/x86_64-apple-darwin/lib/libserialize-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/rustlib/x86_64-apple-darwin/lib/libstd-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/rustlib/x86_64-apple-darwin/lib/libsyntax-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/rustlib/x86_64-apple-darwin/lib/libterm-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
  %p/lib/rustlib/x86_64-apple-darwin/lib/libtest-bb943c5a.dylib 0.0.0 %n (>= 1.5.0-1)
<<
DocFiles: <<
  AUTHORS.txt CONTRIBUTING.md COPYRIGHT LICENSE-APACHE LICENSE-MIT README.md
  dist/doc/%v-dev/*
<<

Homepage: http://www.rust-lang.org/
DescDetail: <<
Rust is a curly-brace, block-structured expression language. It visually
resembles the C language family, but differs significantly in syntactic
and semantic details. Its design is oriented toward concerns of
"programming in the large", that is, of creating and maintaining
boundaries - both abstract and operational - that preserve large-system
integrity, availability and concurrency.

It supports a mixture of imperative procedural, concurrent actor,
object-oriented and pure functional styles. Rust also supports generic
programming and metaprogramming, in both static and dynamic styles.
<<
