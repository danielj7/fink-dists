diff -uNbr libcapsinetwork-0.1.1/Makefile.in libcapsinetwork-0.1.1-patched/Makefile.in
--- libcapsinetwork-0.1.1/Makefile.in	Wed Jul  3 13:42:24 2002
+++ libcapsinetwork-0.1.1-patched/Makefile.in	Fri Jul 12 00:26:41 2002
@@ -89,7 +89,7 @@
 
 lib_LTLIBRARIES = libcapsinetwork.la
 
-libcapsinetwork_la_SOURCES = listener.cc socket.cc
+libcapsinetwork_la_SOURCES = listener.cc socket.cc server.cc
 libcapsinetwork_la_LDFLAGS = -no-undefined -version-info 0:1:0
 
 libcapsinetworkinc_HEADERS = listener.h socket.h
@@ -108,7 +108,7 @@
 LTLIBRARIES = $(lib_LTLIBRARIES)
 
 libcapsinetwork_la_LIBADD =
-am_libcapsinetwork_la_OBJECTS = listener.lo socket.lo
+am_libcapsinetwork_la_OBJECTS = listener.lo socket.lo server.lo
 libcapsinetwork_la_OBJECTS = $(am_libcapsinetwork_la_OBJECTS)
 noinst_PROGRAMS = exampleserver$(EXEEXT)
 PROGRAMS = $(noinst_PROGRAMS)
diff -uNbr libcapsinetwork-0.1.1/configure libcapsinetwork-0.1.1-patched/configure
--- libcapsinetwork-0.1.1/configure	Fri Jul 12 00:13:54 2002
+++ libcapsinetwork-0.1.1-patched/configure	Fri Jul 12 00:20:44 2002
@@ -5559,7 +5559,7 @@
     # FIXME: Relying on posixy $() will cause problems for
     #        cross-compilation, but unfortunately the echo tests do not
     #        yet detect zsh echo's removal of \ escapes.
-    archive_cmds='$CC $(test .$module = .yes && echo -bundle || echo -dynamiclib) $allow_undefined_flag -o $lib $libobjs $deplibs$linkopts -install_name $rpath/$soname $(test -n "$verstring" -a x$verstring != x0.0 && echo $verstring)'
+    archive_cmds='c++ $(test .$module = .yes && echo -bundle || echo -dynamiclib) $allow_undefined_flag -o $lib $libobjs $deplibs$linkopts -install_name $rpath/$soname $tmp_verstring'
     # We need to add '_' to the symbols in $export_symbols first
     #archive_expsym_cmds="$archive_cmds"' && strip -s $export_symbols'
     hardcode_direct=yes
diff -uNbr libcapsinetwork-0.1.1/listener.cc libcapsinetwork-0.1.1-patched/listener.cc
--- libcapsinetwork-0.1.1/listener.cc	Wed Jul  3 13:36:57 2002
+++ libcapsinetwork-0.1.1-patched/listener.cc	Fri Jul 12 00:12:15 2002
@@ -14,6 +14,7 @@
 // the Free Software Foundation, Inc., 59 Temple Place - Suite 330,
 // Boston, MA 02111-1307, USA.
 
+#include <sys/types.h>
 #include <sys/socket.h>
 #include <netinet/in.h>
 #include <arpa/inet.h>
@@ -94,7 +95,7 @@
 	memset(&servaddr, 0, sizeof(servaddr));
 
 	servaddr.sin_family = AF_INET;
-	inet_pton(AF_INET, m_ipAddr.c_str(), &servaddr.sin_addr);
+//	inet_pton(AF_INET, m_ipAddr.c_str(), &servaddr.sin_addr);
 //	servaddr.sin_addr.s_addr = htonl(INADDR_ANY); // any host may connect
 	servaddr.sin_port = htons(m_port);
 
diff -uNbr libcapsinetwork-0.1.1/ltmain.sh libcapsinetwork-0.1.1-patched/ltmain.sh
--- libcapsinetwork-0.1.1/ltmain.sh	Tue May 29 22:41:38 2001
+++ libcapsinetwork-0.1.1-patched/ltmain.sh	Fri Jul 12 00:24:05 2002
@@ -2858,6 +2858,11 @@
 	if test -n "$export_symbols" && test -n "$archive_expsym_cmds"; then
 	  eval cmds=\"$archive_expsym_cmds\"
 	else
+          if test "x$verstring" = "x0.0"; then
+            tmp_verstring=
+          else
+            tmp_verstring="$verstring"
+          fi
 	  eval cmds=\"$archive_cmds\"
 	fi
 	IFS="${IFS= 	}"; save_ifs="$IFS"; IFS='~'
diff -uNbr libcapsinetwork-0.1.1/socket.cc libcapsinetwork-0.1.1-patched/socket.cc
--- libcapsinetwork-0.1.1/socket.cc	Wed Jul  3 13:36:57 2002
+++ libcapsinetwork-0.1.1-patched/socket.cc	Fri Jul 12 00:12:15 2002
@@ -21,6 +21,7 @@
 #include <iostream>
 
 #include "socket.h"
+#define socklen_t int
 
 Socket *s1 = NULL;
 // static Socket *sN = NULL;
