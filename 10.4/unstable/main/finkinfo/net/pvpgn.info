Info2: <<
Package: pvpgn%type_pkg[sql]
Version: 1.8.0
Revision: 1001
Type: sql (-mysql50 -mysql -pgsql .)
Source: http://download.berlios.de/%{ni}/%{ni}-%v.tar.gz
Maintainer: U-238 <mark@darkterrorsdomain.cjb.net>
HomePage: http://pvpgn.berlios.de
Description: Battle.net emulation server
License: GPL
Conflicts: (%type_raw[sql] = -mysql) pvpgn, (%type_raw[sql] = -mysql) pvpgn-mysql50, (%type_raw[sql] = -mysql) pvpgn-pgsql, (%type_raw[sql] = -mysql50) pvpgn, (%type_raw[sql] = -mysql50) pvpgn-mysql, (%type_raw[sql] = -mysql50) pvpgn-pgsql, (%type_raw[sql] = -pgsql) pvpgn, (%type_raw[sql] = -pgsql) pvpgn-mysql, (%type_raw[sql] = -pgsql) pvpgn-mysql50, (%type_raw[sql] = .) pvpgn-mysql, (%type_raw[sql] = .) pvpgn-mysql50, (%type_raw[sql] = .) pvpgn-pgsql
Replaces: (%type_raw[sql] = -mysql) pvpgn, (%type_raw[sql] = -mysql) pvpgn-mysql50, (%type_raw[sql] = -mysql) pvpgn-pgsql, (%type_raw[sql] = -mysql50) pvpgn, (%type_raw[sql] = -mysql50) pvpgn-mysql, (%type_raw[sql] = -mysql50) pvpgn-pgsql, (%type_raw[sql] = -pgsql) pvpgn, (%type_raw[sql] = -pgsql) pvpgn-mysql, (%type_raw[sql] = -pgsql) pvpgn-mysql50, (%type_raw[sql] = .) pvpgn-mysql, (%type_raw[sql] = .) pvpgn-mysql50, (%type_raw[sql] = .) pvpgn-pgsql
Depends: pvpgn-support (>= 1.0-2), (%type_raw[sql] = -mysql) mysql (>= 4.1.10-1002), (%type_raw[sql] = -mysql) mysql14-shlibs (>= 4.1.10-1002), (%type_raw[sql] = -mysql50) mysql (>= 5.0.0-1001), (%type_raw[sql] = -mysql50) mysql15-shlibs (>= 5.0.0-1001), (%type_raw[sql] = -pgsql) postgresql80-unified, (%type_raw[sql] = -pgsql) postgresql80-unified-shlibs
BuildDepends: fink (>= 0.24.12), (%type_raw[sql] = -mysql) mysql14-dev (>= 4.1.10-1002), (%type_raw[sql] = -mysql50) mysql15-dev (>= 5.0.0-1001), (%type_raw[sql] = -pgsql) postgresql80-unified-dev
Source-MD5: 2a253436816685749a14adbf80f1df08
ConfFiles: %p/etc/pvpgn/ad.conf %p/etc/pvpgn/address_translation.conf %p/etc/pvpgn/anongame_infos.conf %p/etc/pvpgn/autoupdate.conf %p/etc/pvpgn/bnalias.conf %p/etc/pvpgn/bnban.conf %p/etc/pvpgn/bnetd.conf %p/etc/pvpgn/bnetd_default_user.cdb %p/etc/pvpgn/bnetd_default_user.plain %p/etc/pvpgn/bnhelp.conf %p/etc/pvpgn/bnissue.txt %p/etc/pvpgn/bnmaps.conf %p/etc/pvpgn/bnmotd.txt %p/etc/pvpgn/bnxpcalc.conf %p/etc/pvpgn/bnxplevel.conf %p/etc/pvpgn/channel.conf %p/etc/pvpgn/command_groups.conf %p/etc/pvpgn/d2cs.conf %p/etc/pvpgn/d2dbs.conf %p/etc/pvpgn/d2server.ini %p/etc/pvpgn/news.txt %p/etc/pvpgn/realm.conf %p/etc/pvpgn/sql_DB_layout.conf %p/etc/pvpgn/sql_DB_layout2.conf %p/etc/pvpgn/supportfile.conf %p/etc/pvpgn/topics.conf %p/etc/pvpgn/tournament.conf %p/etc/pvpgn/versioncheck.conf
DocFiles: BUGS README.DEV COPYING TODO CREDITS UPDATE IGNOREME NEWS version-history.txt README
NoSetLDFLAGS: true
NoSetCPPFLAGS: true
ConfigureParams: --bindir=%p/bin --sbindir=%p/sbin --localstatedir=%p/var/pvpgn --sysconfdir=%p/etc/pvpgn --mandir=%p/share/man --datadir=%p/share/pvpgn
PatchFile: pvpgn.patch
PatchFile-MD5: fc8c02880e503fe53bfdd20193b8e669
PatchScript: <<
#! /bin/sh -ev
sed 's|@FINKPREFIX@|%p|g' <%{PatchFile} | patch src/configure
<<
CompileScript: << 
#! /bin/sh -ev
cd src
if [ "%type_raw[sql]" == "-mysql50" ]; then
  ./configure %c --with-mysql
elif [ "%type_raw[sql]" == "-mysql" ]; then
  ./configure %c --with-mysql
elif [ "%type_raw[sql]" == "-pgsql" ]; then
  ./configure %c --with-pgsql
else
  ./configure %c
fi
make
<<
InstallScript: <<
#! /bin/sh -ev
cd src
sed -e "s|%p|%i|g" < Makefile > Makefile.1
if [ "%type_raw[sql]" == "-mysql50" ]; then
  sed -e "s|%i/lib/mysql|%p/lib/mysql|g" < Makefile.1 > Makefile
elif [ "%type_raw[sql]" == "-mysql" ]; then
  sed -e "s|%i/lib/mysql|%p/lib/mysql|g" < Makefile.1 > Makefile
elif [ "%type_raw[sql]" == "-pgsql" ]; then
  sed -e "s|%i/lib|%p/lib|g" < Makefile.1 > Makefile
else
  mv Makefile.1 Makefile
fi
make install
<<
DescDetail: <<
PvPGN (Player vs Player Gaming Network) is software that emulates a Blizzard
Battle.net server.  It is based on the bnetd project and currently supports all
Battle.net clients, such as StarCraft, Diablo II, and Warcraft III.  It gives
you the power to run your own server, manage your own users, run your own
tournaments, etc.
<<
<<

 	  	 

 	  	 

 	  	 
