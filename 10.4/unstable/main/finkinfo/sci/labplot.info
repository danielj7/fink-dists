Package: labplot
Version: 1.6.0.pre1
Revision: 1

Source: mirror:sourceforge:labplot/LabPlot-%v.tar.bz2
Source-MD5: 264beea916cec2e197ed428b7a97f7ca

Maintainer: Murali Vadivelu <murali1080@users.sourceforge.net>
Homepage: http://labplot.sourceforge.net
License: GPL

Depends: %N-shlibs
BuildDepends: kdelibs3-dev, libpng3, arts-dev, x11-dev, netcdf, fileutils, automake1.9, libart2, qt3, gsl, pstoedit, libjpeg, libtiff, libjasper1, audiofile, libidn, libiconv-dev, libgettext3-dev, fftw3

TarFilesRename: src/labplot.desktop
PatchScript: sed 's,@PREFIX@,%p,g' < %a/%n.patch | patch -p1

SetCPPFLAGS: -I/usr/X11R6/include
SetLDFLAGS: -Wl,-flat_namespace
SetCXXFLAGS: -Os -fPIC -ffast-math -mtune=970 -maltivec
SetCFLAGS: -Os -fPIC -ffast-math -mtune=970 -maltivec

ConfigureParams: --mandir=%i/share/man --with-qt-includes=%p/include/qt --with-qt-libraries=%p/lib --disable-fftw --enable-fftw3 --with-extra-includes=%p/include --with-extra-includes=%p/include/gsl --with-extra-libraries=%p/lib --enable-arts --enable-netcdf --enable-tiff --enable-gsl --enable-ImageMagick --enable-audiofile --enable-jasper --enable-pstoedit --disable-warnings --enable-ocaml --disable-qsa --disable-cdf --enable-debug=full --enable-texvc --disable-dependency-tracking

DocFiles: COPYING ChangeLog FEATURES TODO AUTHORS CHANGES NEWS INSTALL README

CompileScript: <<
./configure %c
make -j1
<<

InstallScript: <<
make install prefix=%i

mkdir -p %i/share/doc/%n
cp -r examples %i/share/doc/%n
mkdir -p %i/bin
rm %i/bin/labplot

cp src/.libs/LabPlot %i/bin/labplot
mv %i/share/doc/HTML %i/share/doc/kde
mv %i/share/doc/kde/en/LabPlot %i/share/doc/kde/en/LabPlot.dir
for i in `find %i/share/doc/kde/ -name LabPlot`; do echo $i; ln -sf %p/share/doc/kde/en/LabPlot/small_pics $i/small_pics; done
mv %i/share/doc/kde/en/LabPlot.dir %i/share/doc/kde/en/LabPlot

mkdir -p %i/etc/profile.d
install -m 755 labplot.csh %i/etc/profile.d/
install -m 755 labplot.sh %i/etc/profile.d/
<<

SplitOff: <<
Package: %N-shlibs
Depends: x11, libpng3-shlibs, netcdf-shlibs, arts-shlibs, kdebase3, kdebase3-unified-shlibs, libtiff-shlibs, libjpeg-shlibs, libjpeg-bin, gsl-shlibs, imagemagick, imagemagick-shlibs, pstoedit-shlibs, pstoedit-bin, libjasper1-bin, libjasper1-shlibs, audiofile-bin, audiofile-shlibs, qt3-shlibs, ocaml, libart2-shlibs, x11-shlibs, x11, libidn-shlibs, libiconv, libiconv-bin, libgettext3-shlibs, fftw3-shlibs

Files: lib/libLabPlotcephes.1.5.0.dylib lib/libLabPlotqwtplot3d.dylib lib/libLabPlot.1.5.1.dylib lib/libLabPlotcephes.1.dylib lib/libLabPlotqwtplot3d.0.2.6.dylib lib/liborigin.dylib lib/libLabPlot.1.dylib lib/libLabPlotqwtplot3d.0.dylib lib/liborigin.0.0.1.dylib lib/libLabPlot.dylib lib/libLabPlotcephes.dylib lib/liborigin.0.dylib 

Shlibs: <<
%p/lib/libLabPlotcephes.1.5.0.dylib 7.0.0 %n (>=1.6.0-1)
%p/lib/libLabPlot.1.5.1.dylib  1.2.0 %n (>=1.6.0-1)
%p/lib/libLabPlotqwtplot3d.0.2.6.dylib  3.0.0 %n (>=1.6.0-1)
%p/lib/liborigin.0.0.1.dylib 1.0.0 %n (>=1.6.0-1)
<<

DocFiles: COPYING ChangeLog FEATURES TODO AUTHORS CHANGES NEWS INSTALL README
<<

DescPackaging: << 
qsa and cdf are not avilable yet, in fink.
Will add qsa support sooner than later!
<<

DescPort: <<
Set CPPFLAGS to allow building against Fink-installed X11 packages.
<<

Description: Data analysis and visualisation
DescDetail: <<
LabPlot is a KDE program for two- and three-dimensional graphical presentation
of data sets and functions. LabPlot allows you to work with multiple plots
which each can have multiple graphs. The graphs can be produced from data
or from functions, including user defined (up to 9 parameters).
<<