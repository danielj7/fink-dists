diff -Nurd -x'*~' gedit-2.26.2.orig/configure gedit-2.26.2/configure
--- gedit-2.26.2.orig/configure	2009-05-16 15:45:05.000000000 -0400
+++ gedit-2.26.2/configure	2009-06-11 01:47:04.000000000 -0400
@@ -16301,7 +16301,7 @@
 fi
 else
 	EGG_SMCLIENT_CFLAGS=
-	EGG_SMCLIENT_LIBS=
+	EGG_SMCLIENT_LIBS="-L/usr/X11R6/lib -lSM -lICE -lX11"
 fi
 
 
diff -Nurd -x'*~' gedit-2.26.3.orig/gedit/Makefile.in gedit-2.26.3/gedit/Makefile.in
--- gedit-2.26.3.orig/gedit/Makefile.in	2009-07-02 14:02:14.000000000 -0400
+++ gedit-2.26.3/gedit/Makefile.in	2010-01-27 23:43:35.000000000 -0500
@@ -389,6 +389,7 @@
 	gedit.c
 
 gedit_LDADD = libgedit.la $(GEDIT_LIBS) $(EGG_SMCLIENT_LIBS) \
+	$(INTLLIBS) \
 	$(am__append_2)
 @PLATFORM_WIN32_FALSE@gedit_LDFLAGS = -export-dynamic -no-undefined \
 @PLATFORM_WIN32_FALSE@	-export-symbols-regex "^[[^_]].*" \
diff -Nurd -x'*~' gedit-2.26.2.orig/gedit/gedit.c gedit-2.26.2/gedit/gedit.c
--- gedit-2.26.2.orig/gedit/gedit.c	2009-05-16 12:18:39.000000000 -0400
+++ gedit-2.26.2/gedit/gedit.c	2009-06-11 01:51:36.000000000 -0400
@@ -609,7 +609,7 @@
 					   icon_dir);
 	g_free (icon_dir);
 
-#if !defined PLATFORM_OSX && !defined G_OS_WIN32
+#if 1
 	/* Set the associated .desktop file */
 	egg_set_desktop_file (DATADIR "/applications/gedit.desktop");
 #else
