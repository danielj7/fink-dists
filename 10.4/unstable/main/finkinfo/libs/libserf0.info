Package: libserf0
Version: 0.1.0
Revision: 11
Description: High-performance HTTP client library
License: BSD
Maintainer: Christian Schaffner <chris01@users.sourceforge.net>

# Dependencies:
Depends: %N-shlibs (= %v-%r)
BuildDepends: fink (>= 0.24.12-1), libapr.0-dev, libaprutil.0-dev, db44-aes | db44, expat1, openldap23-dev (>= 2.3.24-10), cyrus-sasl2-dev (>= 2.1.15-23), system-openssl-dev, libiconv-dev, gdbm3
BuildDependsOnly: true

# Unpack Phase:
Source: http://serf.googlecode.com/files/serf-%v.tar.bz2
Source-MD5: c80d2086f5795ce1956f58406b25683d 
PatchFile: %n.patch
PatchFile-MD5: d1c00e3a33bd4b6eda0f296f075c0832

# Compile Phase:
SetCPPFLAGS: -I%p/lib/system-openssl/include
SetLDFLAGS: -L%p/lib/system-openssl/lib
ConfigureParams: --mandir='${prefix}/share/man' --infodir='${prefix}/share/info' --with-apr=%p/bin/apr-1-config --with-apr-util=%p/bin/apu-1-config --with-openssl=%p/lib/system-openssl --disable-dependency-tracking
GCC: 4.0
InfoTest: <<
  TestScript: make check || exit 2
<<

# Install Phase:
SplitOff: <<
  Package: %N-shlibs
  Depends: libapr.0-shlibs, libaprutil.0-shlibs, db44-aes-shlibs | db44-shlibs, expat1-shlibs, openldap23-shlibs (>= 2.3.24-10), cyrus-sasl2-shlibs (>= 2.1.15-23), libiconv, gdbm3-shlibs
  Files: lib/libserf-0.0.0.0.dylib lib/libserf-0.0.dylib
  Shlibs: %p/lib/libserf-0.0.dylib 1.0.0 %n (>= 0.1.0-11)
  DocFiles: LICENSE NOTICE
<<
DocFiles: LICENSE NOTICE

# Additional Info
DescDetail: <<
The serf library is a C-based HTTP client library built upon the Apache
Portable Runtime (APR) library. It multiplexes connections, running the
read/write communication asynchronously. Memory copies and
transformations are kept to a minimum to provide high performance
operation.
<<
Homepage: http://code.google.com/p/serf/
