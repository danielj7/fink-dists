diff -ruN sodipodi-0.33.orig/configure sodipodi-0.33/configure
--- sodipodi-0.33.orig/configure	Mon Dec  1 02:00:18 2003
+++ sodipodi-0.33/configure	Tue Dec  9 11:52:03 2003
@@ -17727,365 +17727,8 @@
 fi
 
 
-
-# Check whether --with-xft or --without-xft was given.
-if test "${with_xft+set}" = set; then
-  withval="$with_xft"
-  with_xft=$withval
-else
-  with_xft=auto
-fi;
-
-if test "x$with_xft" != "xno" ; then
-
-  succeeded=no
-
-  if test -z "$PKG_CONFIG"; then
-    # Extract the first word of "pkg-config", so it can be a program name with args.
-set dummy pkg-config; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
-if test "${ac_cv_path_PKG_CONFIG+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  case $PKG_CONFIG in
-  [\\/]* | ?:[\\/]*)
-  ac_cv_path_PKG_CONFIG="$PKG_CONFIG" # Let the user override the test with a path.
-  ;;
-  *)
-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in $PATH
-do
-  IFS=$as_save_IFS
-  test -z "$as_dir" && as_dir=.
-  for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
-    ac_cv_path_PKG_CONFIG="$as_dir/$ac_word$ac_exec_ext"
-    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
-    break 2
-  fi
-done
-done
-
-  test -z "$ac_cv_path_PKG_CONFIG" && ac_cv_path_PKG_CONFIG="no"
-  ;;
-esac
-fi
-PKG_CONFIG=$ac_cv_path_PKG_CONFIG
-
-if test -n "$PKG_CONFIG"; then
-  echo "$as_me:$LINENO: result: $PKG_CONFIG" >&5
-echo "${ECHO_T}$PKG_CONFIG" >&6
-else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
-fi
-
-  fi
-
-  if test "$PKG_CONFIG" = "no" ; then
-     echo "*** The pkg-config script could not be found. Make sure it is"
-     echo "*** in your path, or set the PKG_CONFIG environment variable"
-     echo "*** to the full path to pkg-config."
-     echo "*** Or see http://www.freedesktop.org/software/pkgconfig to get pkg-config."
-  else
-     PKG_CONFIG_MIN_VERSION=0.9.0
-     if $PKG_CONFIG --atleast-pkgconfig-version $PKG_CONFIG_MIN_VERSION; then
-        echo "$as_me:$LINENO: checking for xft" >&5
-echo $ECHO_N "checking for xft... $ECHO_C" >&6
-
-        if $PKG_CONFIG --exists "xft" ; then
-            echo "$as_me:$LINENO: result: yes" >&5
-echo "${ECHO_T}yes" >&6
-            succeeded=yes
-
-            echo "$as_me:$LINENO: checking XFT_CFLAGS" >&5
-echo $ECHO_N "checking XFT_CFLAGS... $ECHO_C" >&6
-            XFT_CFLAGS=`$PKG_CONFIG --cflags "xft"`
-            echo "$as_me:$LINENO: result: $XFT_CFLAGS" >&5
-echo "${ECHO_T}$XFT_CFLAGS" >&6
-
-            echo "$as_me:$LINENO: checking XFT_LIBS" >&5
-echo $ECHO_N "checking XFT_LIBS... $ECHO_C" >&6
-            XFT_LIBS=`$PKG_CONFIG --libs "xft"`
-            echo "$as_me:$LINENO: result: $XFT_LIBS" >&5
-echo "${ECHO_T}$XFT_LIBS" >&6
-        else
-            XFT_CFLAGS=""
-            XFT_LIBS=""
-            ## If we have a custom action on failure, don't print errors, but
-            ## do set a variable so people can do so.
-            XFT_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors "xft"`
-
-        fi
-
-
-
-     else
-        echo "*** Your version of pkg-config is too old. You need version $PKG_CONFIG_MIN_VERSION or newer."
-        echo "*** See http://www.freedesktop.org/software/pkgconfig"
-     fi
-  fi
-
-  if test $succeeded = yes; then
-     xft_ok=yes
-  else
-     xft_ok=no
-  fi
-
-	if test "x$xft_ok" != "xyes"; then
-
-  succeeded=no
-
-  if test -z "$PKG_CONFIG"; then
-    # Extract the first word of "pkg-config", so it can be a program name with args.
-set dummy pkg-config; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
-if test "${ac_cv_path_PKG_CONFIG+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  case $PKG_CONFIG in
-  [\\/]* | ?:[\\/]*)
-  ac_cv_path_PKG_CONFIG="$PKG_CONFIG" # Let the user override the test with a path.
-  ;;
-  *)
-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in $PATH
-do
-  IFS=$as_save_IFS
-  test -z "$as_dir" && as_dir=.
-  for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
-    ac_cv_path_PKG_CONFIG="$as_dir/$ac_word$ac_exec_ext"
-    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
-    break 2
-  fi
-done
-done
-
-  test -z "$ac_cv_path_PKG_CONFIG" && ac_cv_path_PKG_CONFIG="no"
-  ;;
-esac
-fi
-PKG_CONFIG=$ac_cv_path_PKG_CONFIG
-
-if test -n "$PKG_CONFIG"; then
-  echo "$as_me:$LINENO: result: $PKG_CONFIG" >&5
-echo "${ECHO_T}$PKG_CONFIG" >&6
-else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
-fi
-
-  fi
-
-  if test "$PKG_CONFIG" = "no" ; then
-     echo "*** The pkg-config script could not be found. Make sure it is"
-     echo "*** in your path, or set the PKG_CONFIG environment variable"
-     echo "*** to the full path to pkg-config."
-     echo "*** Or see http://www.freedesktop.org/software/pkgconfig to get pkg-config."
-  else
-     PKG_CONFIG_MIN_VERSION=0.9.0
-     if $PKG_CONFIG --atleast-pkgconfig-version $PKG_CONFIG_MIN_VERSION; then
-        echo "$as_me:$LINENO: checking for fontconfig" >&5
-echo $ECHO_N "checking for fontconfig... $ECHO_C" >&6
-
-        if $PKG_CONFIG --exists "fontconfig" ; then
-            echo "$as_me:$LINENO: result: yes" >&5
-echo "${ECHO_T}yes" >&6
-            succeeded=yes
-
-            echo "$as_me:$LINENO: checking XFT_CFLAGS" >&5
-echo $ECHO_N "checking XFT_CFLAGS... $ECHO_C" >&6
-            XFT_CFLAGS=`$PKG_CONFIG --cflags "fontconfig"`
-            echo "$as_me:$LINENO: result: $XFT_CFLAGS" >&5
-echo "${ECHO_T}$XFT_CFLAGS" >&6
-
-            echo "$as_me:$LINENO: checking XFT_LIBS" >&5
-echo $ECHO_N "checking XFT_LIBS... $ECHO_C" >&6
-            XFT_LIBS=`$PKG_CONFIG --libs "fontconfig"`
-            echo "$as_me:$LINENO: result: $XFT_LIBS" >&5
-echo "${ECHO_T}$XFT_LIBS" >&6
-        else
-            XFT_CFLAGS=""
-            XFT_LIBS=""
-            ## If we have a custom action on failure, don't print errors, but
-            ## do set a variable so people can do so.
-            XFT_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors "fontconfig"`
-
-        fi
-
-
-
-     else
-        echo "*** Your version of pkg-config is too old. You need version $PKG_CONFIG_MIN_VERSION or newer."
-        echo "*** See http://www.freedesktop.org/software/pkgconfig"
-     fi
-  fi
-
-  if test $succeeded = yes; then
-     xft_ok=yes
-  else
-     xft_ok=no
-  fi
-
-		if test "x$xft_ok" != "xyes"; then
-						if test "${ac_cv_header_X11_Xft_Xft_h+set}" = set; then
-  echo "$as_me:$LINENO: checking for X11/Xft/Xft.h" >&5
-echo $ECHO_N "checking for X11/Xft/Xft.h... $ECHO_C" >&6
-if test "${ac_cv_header_X11_Xft_Xft_h+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-echo "$as_me:$LINENO: result: $ac_cv_header_X11_Xft_Xft_h" >&5
-echo "${ECHO_T}$ac_cv_header_X11_Xft_Xft_h" >&6
-else
-  # Is the header compilable?
-echo "$as_me:$LINENO: checking X11/Xft/Xft.h usability" >&5
-echo $ECHO_N "checking X11/Xft/Xft.h usability... $ECHO_C" >&6
-cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <X11/Xft/Xft.h>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } &&
-         { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; }; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-ac_header_compiler=no
-fi
-rm -f conftest.$ac_objext conftest.$ac_ext
-echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6
-
-# Is the header present?
-echo "$as_me:$LINENO: checking X11/Xft/Xft.h presence" >&5
-echo $ECHO_N "checking X11/Xft/Xft.h presence... $ECHO_C" >&6
-cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <X11/Xft/Xft.h>
-_ACEOF
-if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
-  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
-  if test -s conftest.err; then
-    ac_cpp_err=$ac_c_preproc_warn_flag
-  else
-    ac_cpp_err=
-  fi
-else
-  ac_cpp_err=yes
-fi
-if test -z "$ac_cpp_err"; then
-  ac_header_preproc=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-  ac_header_preproc=no
-fi
-rm -f conftest.err conftest.$ac_ext
-echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6
-
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc in
-  yes:no )
-    { echo "$as_me:$LINENO: WARNING: X11/Xft/Xft.h: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: X11/Xft/Xft.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: X11/Xft/Xft.h: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: X11/Xft/Xft.h: proceeding with the preprocessor's result" >&2;}
-    (
-      cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
-_ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
-    ;;
-  no:yes )
-    { echo "$as_me:$LINENO: WARNING: X11/Xft/Xft.h: present but cannot be compiled" >&5
-echo "$as_me: WARNING: X11/Xft/Xft.h: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: X11/Xft/Xft.h: check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: X11/Xft/Xft.h: check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: X11/Xft/Xft.h: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: X11/Xft/Xft.h: proceeding with the preprocessor's result" >&2;}
-    (
-      cat <<\_ASBOX
-## ------------------------------------ ##
-## Report this to bug-autoconf@gnu.org. ##
-## ------------------------------------ ##
-_ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
-    ;;
-esac
-echo "$as_me:$LINENO: checking for X11/Xft/Xft.h" >&5
-echo $ECHO_N "checking for X11/Xft/Xft.h... $ECHO_C" >&6
-if test "${ac_cv_header_X11_Xft_Xft_h+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  ac_cv_header_X11_Xft_Xft_h=$ac_header_preproc
-fi
-echo "$as_me:$LINENO: result: $ac_cv_header_X11_Xft_Xft_h" >&5
-echo "${ECHO_T}$ac_cv_header_X11_Xft_Xft_h" >&6
-
-fi
-if test $ac_cv_header_X11_Xft_Xft_h = yes; then
-  xft_ok=yes
-else
-  xft_ok=no
-fi
-
-
-			if test "x$xft_ok" != "xyes"; then
-								if test "x$with_xft" = "xyes"; then
-										{ { echo "$as_me:$LINENO: error: --with-xft was specified, but appropriate development packages could not be found" >&5
-echo "$as_me: error: --with-xft was specified, but appropriate development packages could not be found" >&2;}
-   { (exit 1); exit 1; }; }
-				fi
-			else
-								XFT_LIBS="-lXft"
-			fi
-		fi
-	fi
-else
-		xft_ok=no
-fi
-
-
-
-
-
+xft_ok=yes
+XFT_LIBS=-lXft
 
 if test "x$xft_ok" = "xyes"; then
   USE_XFT_TRUE=
diff -ruN sodipodi-0.33.orig/src/Makefile.in sodipodi-0.33/src/Makefile.in
--- sodipodi-0.33.orig/src/Makefile.in	Mon Dec  1 02:00:51 2003
+++ sodipodi-0.33/src/Makefile.in	Tue Dec  9 11:36:20 2003
@@ -439,7 +439,7 @@
 	${win32_ldflags}
 
 
-sodipodi_LDFLAGS = -Wl,--export-dynamic $(kdeldflags)
+sodipodi_LDFLAGS = $(kdeldflags)
 
 noinst_PROGRAMS = spsvgview
 
diff -ruN sodipodi-0.33.orig/src/Makefile.in.orig sodipodi-0.33/src/Makefile.in.orig
--- sodipodi-0.33.orig/src/Makefile.in.orig	Thu Jan  1 09:00:00 1970
+++ sodipodi-0.33/src/Makefile.in.orig	Mon Dec  1 02:00:51 2003
@@ -0,0 +1,1157 @@
+# Makefile.in generated by automake 1.7.6 from Makefile.am.
+# @configure_input@
+
+# Copyright 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003
+# Free Software Foundation, Inc.
+# This Makefile.in is free software; the Free Software Foundation
+# gives unlimited permission to copy and/or distribute it,
+# with or without modifications, as long as this notice is preserved.
+
+# This program is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY, to the extent permitted by law; without
+# even the implied warranty of MERCHANTABILITY or FITNESS FOR A
+# PARTICULAR PURPOSE.
+
+@SET_MAKE@
+
+srcdir = @srcdir@
+top_srcdir = @top_srcdir@
+VPATH = @srcdir@
+pkgdatadir = $(datadir)/@PACKAGE@
+pkglibdir = $(libdir)/@PACKAGE@
+pkgincludedir = $(includedir)/@PACKAGE@
+top_builddir = ..
+
+am__cd = CDPATH="$${ZSH_VERSION+.}$(PATH_SEPARATOR)" && cd
+INSTALL = @INSTALL@
+install_sh_DATA = $(install_sh) -c -m 644
+install_sh_PROGRAM = $(install_sh) -c
+install_sh_SCRIPT = $(install_sh) -c
+INSTALL_HEADER = $(INSTALL_DATA)
+transform = $(program_transform_name)
+NORMAL_INSTALL = :
+PRE_INSTALL = :
+POST_INSTALL = :
+NORMAL_UNINSTALL = :
+PRE_UNINSTALL = :
+POST_UNINSTALL = :
+host_triplet = @host@
+ACLOCAL = @ACLOCAL@
+AMDEP_FALSE = @AMDEP_FALSE@
+AMDEP_TRUE = @AMDEP_TRUE@
+AMTAR = @AMTAR@
+ARTSCCONFIG = @ARTSCCONFIG@
+AUTOCONF = @AUTOCONF@
+AUTODIRS = @AUTODIRS@
+AUTOHEADER = @AUTOHEADER@
+AUTOMAKE = @AUTOMAKE@
+AWK = @AWK@
+CATALOGS = @CATALOGS@
+CATOBJEXT = @CATOBJEXT@
+CC = @CC@
+CCAS = @CCAS@
+CCASFLAGS = @CCASFLAGS@
+CCDEPMODE = @CCDEPMODE@
+CFLAGS = @CFLAGS@
+CPP = @CPP@
+CPPFLAGS = @CPPFLAGS@
+CXX = @CXX@
+CXXCPP = @CXXCPP@
+CXXDEPMODE = @CXXDEPMODE@
+CXXFLAGS = @CXXFLAGS@
+CYGPATH_W = @CYGPATH_W@
+DATADIRNAME = @DATADIRNAME@
+DCOPIDL = @DCOPIDL@
+DCOPIDL2CPP = @DCOPIDL2CPP@
+DCOP_DEPENDENCIES = @DCOP_DEPENDENCIES@
+DEFS = @DEFS@
+DEPDIR = @DEPDIR@
+ECHO = @ECHO@
+ECHO_C = @ECHO_C@
+ECHO_N = @ECHO_N@
+ECHO_T = @ECHO_T@
+EGREP = @EGREP@
+EXEEXT = @EXEEXT@
+FREETYPE_CFLAGS = @FREETYPE_CFLAGS@
+FREETYPE_CONFIG = @FREETYPE_CONFIG@
+FREETYPE_LIBS = @FREETYPE_LIBS@
+GETTEXT_PACKAGE = @GETTEXT_PACKAGE@
+GMOFILES = @GMOFILES@
+GMSGFMT = @GMSGFMT@
+GNOME_PRINT_CFLAGS = @GNOME_PRINT_CFLAGS@
+GNOME_PRINT_LIBS = @GNOME_PRINT_LIBS@
+INSTALL_DATA = @INSTALL_DATA@
+INSTALL_PROGRAM = @INSTALL_PROGRAM@
+INSTALL_SCRIPT = @INSTALL_SCRIPT@
+INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
+INSTOBJEXT = @INSTOBJEXT@
+INTLLIBS = @INTLLIBS@
+INTLTOOL_CAVES_RULE = @INTLTOOL_CAVES_RULE@
+INTLTOOL_DESKTOP_RULE = @INTLTOOL_DESKTOP_RULE@
+INTLTOOL_DIRECTORY_RULE = @INTLTOOL_DIRECTORY_RULE@
+INTLTOOL_EXTRACT = @INTLTOOL_EXTRACT@
+INTLTOOL_KEYS_RULE = @INTLTOOL_KEYS_RULE@
+INTLTOOL_MERGE = @INTLTOOL_MERGE@
+INTLTOOL_OAF_RULE = @INTLTOOL_OAF_RULE@
+INTLTOOL_PERL = @INTLTOOL_PERL@
+INTLTOOL_PONG_RULE = @INTLTOOL_PONG_RULE@
+INTLTOOL_PROP_RULE = @INTLTOOL_PROP_RULE@
+INTLTOOL_SCHEMAS_RULE = @INTLTOOL_SCHEMAS_RULE@
+INTLTOOL_SERVER_RULE = @INTLTOOL_SERVER_RULE@
+INTLTOOL_SHEET_RULE = @INTLTOOL_SHEET_RULE@
+INTLTOOL_SOUNDLIST_RULE = @INTLTOOL_SOUNDLIST_RULE@
+INTLTOOL_THEME_RULE = @INTLTOOL_THEME_RULE@
+INTLTOOL_UI_RULE = @INTLTOOL_UI_RULE@
+INTLTOOL_UPDATE = @INTLTOOL_UPDATE@
+INTLTOOL_XAM_RULE = @INTLTOOL_XAM_RULE@
+INTLTOOL_XML_RULE = @INTLTOOL_XML_RULE@
+KDECONFIG = @KDECONFIG@
+KDE_EXTRA_RPATH = @KDE_EXTRA_RPATH@
+KDE_INCLUDES = @KDE_INCLUDES@
+KDE_LDFLAGS = @KDE_LDFLAGS@
+KDE_MT_LDFLAGS = @KDE_MT_LDFLAGS@
+KDE_MT_LIBS = @KDE_MT_LIBS@
+KDE_RPATH = @KDE_RPATH@
+KDE_XSL_STYLESHEET = @KDE_XSL_STYLESHEET@
+LDFLAGS = @LDFLAGS@
+LIBCOMPAT = @LIBCOMPAT@
+LIBCRYPT = @LIBCRYPT@
+LIBDL = @LIBDL@
+LIBJPEG = @LIBJPEG@
+LIBOBJS = @LIBOBJS@
+LIBPNG = @LIBPNG@
+LIBPTHREAD = @LIBPTHREAD@
+LIBRESOLV = @LIBRESOLV@
+LIBS = @LIBS@
+LIBSM = @LIBSM@
+LIBSOCKET = @LIBSOCKET@
+LIBTOOL = @LIBTOOL@
+LIBUCB = @LIBUCB@
+LIBUTIL = @LIBUTIL@
+LIBXINERAMA = @LIBXINERAMA@
+LIBZ = @LIBZ@
+LIB_KAB = @LIB_KAB@
+LIB_KDECORE = @LIB_KDECORE@
+LIB_KDEPRINT = @LIB_KDEPRINT@
+LIB_KDEUI = @LIB_KDEUI@
+LIB_KFILE = @LIB_KFILE@
+LIB_KFM = @LIB_KFM@
+LIB_KHTML = @LIB_KHTML@
+LIB_KIO = @LIB_KIO@
+LIB_KPARTS = @LIB_KPARTS@
+LIB_KSPELL = @LIB_KSPELL@
+LIB_KSYCOCA = @LIB_KSYCOCA@
+LIB_QPE = @LIB_QPE@
+LIB_QT = @LIB_QT@
+LIB_SMB = @LIB_SMB@
+LIB_X11 = @LIB_X11@
+LIB_XEXT = @LIB_XEXT@
+LN_S = @LN_S@
+LTLIBOBJS = @LTLIBOBJS@
+MAKEINFO = @MAKEINFO@
+MCOPIDL = @MCOPIDL@
+MEINPROC = @MEINPROC@
+MKINSTALLDIRS = @MKINSTALLDIRS@
+MLVIEW_CFLAGS = @MLVIEW_CFLAGS@
+MLVIEW_LIBS = @MLVIEW_LIBS@
+MOC = @MOC@
+MSGFMT = @MSGFMT@
+OBJEXT = @OBJEXT@
+PACKAGE = @PACKAGE@
+PACKAGE_BUGREPORT = @PACKAGE_BUGREPORT@
+PACKAGE_NAME = @PACKAGE_NAME@
+PACKAGE_STRING = @PACKAGE_STRING@
+PACKAGE_TARNAME = @PACKAGE_TARNAME@
+PACKAGE_VERSION = @PACKAGE_VERSION@
+PATH_SEPARATOR = @PATH_SEPARATOR@
+PKG_CONFIG = @PKG_CONFIG@
+PLATFORM_WIN32_FALSE = @PLATFORM_WIN32_FALSE@
+PLATFORM_WIN32_TRUE = @PLATFORM_WIN32_TRUE@
+POFILES = @POFILES@
+POSUB = @POSUB@
+PO_IN_DATADIR_FALSE = @PO_IN_DATADIR_FALSE@
+PO_IN_DATADIR_TRUE = @PO_IN_DATADIR_TRUE@
+QTE_NORTTI = @QTE_NORTTI@
+QT_INCLUDES = @QT_INCLUDES@
+QT_LDFLAGS = @QT_LDFLAGS@
+RANLIB = @RANLIB@
+SET_MAKE = @SET_MAKE@
+SHELL = @SHELL@
+SODIPODI_CFLAGS = @SODIPODI_CFLAGS@
+SODIPODI_LIBS = @SODIPODI_LIBS@
+STRIP = @STRIP@
+UIC = @UIC@
+UIC_TR = @UIC_TR@
+USER_INCLUDES = @USER_INCLUDES@
+USER_LDFLAGS = @USER_LDFLAGS@
+USE_GNOME_PRINT_FALSE = @USE_GNOME_PRINT_FALSE@
+USE_GNOME_PRINT_TRUE = @USE_GNOME_PRINT_TRUE@
+USE_KDE_FALSE = @USE_KDE_FALSE@
+USE_KDE_TRUE = @USE_KDE_TRUE@
+USE_MLVIEW_FALSE = @USE_MLVIEW_FALSE@
+USE_MLVIEW_TRUE = @USE_MLVIEW_TRUE@
+USE_MMX_FALSE = @USE_MMX_FALSE@
+USE_MMX_TRUE = @USE_MMX_TRUE@
+USE_NLS = @USE_NLS@
+USE_POPT_FALSE = @USE_POPT_FALSE@
+USE_POPT_TRUE = @USE_POPT_TRUE@
+USE_THREADS = @USE_THREADS@
+USE_XFT_FALSE = @USE_XFT_FALSE@
+USE_XFT_TRUE = @USE_XFT_TRUE@
+VERSION = @VERSION@
+XFT_CFLAGS = @XFT_CFLAGS@
+XFT_LIBS = @XFT_LIBS@
+XGETTEXT = @XGETTEXT@
+X_EXTRA_LIBS = @X_EXTRA_LIBS@
+X_INCLUDES = @X_INCLUDES@
+X_LDFLAGS = @X_LDFLAGS@
+X_PRE_LIBS = @X_PRE_LIBS@
+ac_ct_CC = @ac_ct_CC@
+ac_ct_CXX = @ac_ct_CXX@
+ac_ct_RANLIB = @ac_ct_RANLIB@
+ac_ct_STRIP = @ac_ct_STRIP@
+all_includes = @all_includes@
+all_libraries = @all_libraries@
+am__fastdepCC_FALSE = @am__fastdepCC_FALSE@
+am__fastdepCC_TRUE = @am__fastdepCC_TRUE@
+am__fastdepCXX_FALSE = @am__fastdepCXX_FALSE@
+am__fastdepCXX_TRUE = @am__fastdepCXX_TRUE@
+am__include = @am__include@
+am__leading_dot = @am__leading_dot@
+am__quote = @am__quote@
+bindir = @bindir@
+build = @build@
+build_alias = @build_alias@
+build_cpu = @build_cpu@
+build_os = @build_os@
+build_vendor = @build_vendor@
+datadir = @datadir@
+exec_prefix = @exec_prefix@
+host = @host@
+host_alias = @host_alias@
+host_cpu = @host_cpu@
+host_os = @host_os@
+host_vendor = @host_vendor@
+includedir = @includedir@
+infodir = @infodir@
+install_sh = @install_sh@
+kde_appsdir = @kde_appsdir@
+kde_bindir = @kde_bindir@
+kde_confdir = @kde_confdir@
+kde_datadir = @kde_datadir@
+kde_htmldir = @kde_htmldir@
+kde_icondir = @kde_icondir@
+kde_includes = @kde_includes@
+kde_libraries = @kde_libraries@
+kde_libs_htmldir = @kde_libs_htmldir@
+kde_libs_prefix = @kde_libs_prefix@
+kde_locale = @kde_locale@
+kde_mimedir = @kde_mimedir@
+kde_moduledir = @kde_moduledir@
+kde_qtver = @kde_qtver@
+kde_servicesdir = @kde_servicesdir@
+kde_servicetypesdir = @kde_servicetypesdir@
+kde_sounddir = @kde_sounddir@
+kde_styledir = @kde_styledir@
+kde_templatesdir = @kde_templatesdir@
+kde_wallpaperdir = @kde_wallpaperdir@
+kde_widgetdir = @kde_widgetdir@
+libdir = @libdir@
+libexecdir = @libexecdir@
+localstatedir = @localstatedir@
+mandir = @mandir@
+oldincludedir = @oldincludedir@
+prefix = @prefix@
+program_transform_name = @program_transform_name@
+qt_includes = @qt_includes@
+qt_libraries = @qt_libraries@
+sbindir = @sbindir@
+sharedstatedir = @sharedstatedir@
+sysconfdir = @sysconfdir@
+target_alias = @target_alias@
+x_includes = @x_includes@
+x_libraries = @x_libraries@
+
+module_libs = modules/libspmodules.a
+module_src = module.c module.h
+
+@USE_KDE_TRUE@kdeldadd = $(LIB_KDECORE) $(LIB_KDEUI) $(LIB_KIO) $(LIB_KDEPRINT) $(LIB_QT) $(KDE_LDFLAGS)
+@USE_KDE_TRUE@kdeldflags = $(KDE_RPATH)
+
+SUBDIRS = libarikkei libnr libnrtype xml svg helper widgets dialogs display modules
+
+AM_CPPFLAGS = \
+	-DSODIPODI_VERSION=\""$(VERSION)"\"
+
+
+INCLUDES = \
+	-DPACKAGE_LOCALE_DIR=\""$(datadir)/locale"\" \
+	-DSODIPODI_PIXMAPDIR=\""$(datadir)/sodipodi"\" \
+	-DDATADIR=\""$(datadir)"\" \
+	-DSP_MACROS_SILENT \
+	-I$(srcdir) \
+	-I$(srcdir/xml) \
+	-I$(srcdir/svg) \
+	$(SODIPODI_CFLAGS) \
+	$(GNOME_PRINT_CFLAGS)
+
+
+bin_PROGRAMS = sodipodi
+
+sodipodilib_src = \
+	testing.h \
+	macros.h \
+	forward.h \
+	enums.h \
+	system.h \
+	monostd.h \
+	attributes.c attributes.h \
+	sp-object.c sp-object.h \
+	sp-object-repr.c sp-object-repr.h \
+	sp-object-group.c sp-object-group.h \
+	sp-defs.c sp-defs.h \
+	sp-item.c sp-item.h \
+	sp-item-group.c sp-item-group.h \
+	sp-symbol.c sp-symbol.h \
+	sp-marker.c sp-marker.h \
+	sp-use.c sp-use.h \
+	sp-anchor.c sp-anchor.h \
+	sp-root.c sp-root.h \
+	sp-image.c sp-image.h \
+	sp-path.c sp-path.h \
+	sp-shape.c sp-shape.h \
+	sp-rect.c sp-rect.h \
+	sp-ellipse.c sp-ellipse.h \
+	sp-star.c sp-star.h \
+	sp-spiral.c sp-spiral.h \
+	sp-line.c sp-line.h \
+	sp-polyline.c sp-polyline.h \
+	sp-polygon.c sp-polygon.h \
+	sp-chars.c sp-chars.h \
+	sp-text.c sp-text.h \
+	sp-paint-server.c sp-paint-server.h \
+	sp-gradient.c sp-gradient.h \
+	sp-pattern.c sp-pattern.h \
+	sp-clippath.c sp-clippath.h \
+	sp-mask.c sp-mask.h \
+	sp-animation.c sp-animation.h \
+	\
+	color.c color.h \
+	style.c style.h \
+	\
+	document.c document.h document-private.h \
+	document-undo.c \
+	uri-references.c uri-references.h \
+	extension.h
+
+
+noinst_LTLIBRARIES = libsodipodi.la
+libsodipodi_la_SOURCES = $(sodipodilib_src)
+spproglibs = libsodipodi.la
+
+sodipodi_SOURCES = \
+	$(spprogsrc) \
+	\
+	sodipodi.c sodipodi.h sodipodi-private.h \
+	\
+	sp-namedview.c sp-namedview.h \
+	sp-guide.c sp-guide.h \
+	\
+	view.c view.h \
+	svg-view.c svg-view.h \
+	selection.c selection.h \
+	desktop.c desktop.h \
+	desktop-units.h \
+	desktop-events.c desktop-events.h \
+	desktop-handles.c desktop-handles.h \
+	desktop-affine.c desktop-affine.h \
+	desktop-snap.c desktop-snap.h \
+	sp-metrics.c sp-metrics.h \
+	toolbox.c toolbox.h \
+	\
+	verbs.c verbs.h \
+	shortcuts.c shortcuts.h \
+	event-context.c event-context.h \
+	seltrans-handles.c seltrans-handles.h \
+	seltrans.c seltrans.h \
+	select-context.c select-context.h \
+	node-context.c node-context.h \
+	nodepath.c nodepath.h \
+	knotholder.c knotholder.h \
+	object-edit.c object-edit.h \
+	rect-context.c rect-context.h \
+	arc-context.c arc-context.h \
+	star-context.c star-context.h \
+	spiral-context.c spiral-context.h \
+	draw-context.c draw-context.h \
+	dyna-draw-context.c dyna-draw-context.h \
+	text-context.c text-context.h \
+	zoom-context.c zoom-context.h \
+	dropper-context.c dropper-context.h \
+	\
+	knot.c knot.h \
+	\
+	main.c \
+	${win32_sources} \
+	help.c help.h \
+	sp-cursor.c sp-cursor.h \
+	dir-util.c dir-util.h \
+	rubberband.c rubberband.h \
+	event-broker.c event-broker.h \
+	path-chemistry.c path-chemistry.h \
+	selection-chemistry.c selection-chemistry.h \
+	gradient-chemistry.c gradient-chemistry.h \
+	sp-item-transform.c sp-item-transform.h \
+	\
+	file.c file.h \
+	print.c print.h \
+	interface.c interface.h \
+	object-ui.c object-ui.h \
+	slideshow.c slideshow.h \
+	$(module_src) \
+	$(extensions_src) \
+	\
+	preferences-skeleton.h \
+	extensions-skeleton.h
+
+
+sodipodi_private_libs = \
+	$(spproglibs) \
+	dialogs/libspdialogs.a \
+	xml/libspxml.a \
+	svg/libspsvg.a \
+	widgets/libspwidgets.a \
+	display/libspdisplay.a \
+	helper/libspchelp.a \
+	libnrtype/libnrtype.a \
+	libnr/libnr.a \
+	libarikkei/libarikkei.a \
+	$(module_libs)
+
+
+sodipodi_LDADD = \
+	$(sodipodi_private_libs) \
+	$(SODIPODI_LIBS) \
+	$(GNOME_PRINT_LIBS) \
+	$(XFT_LIBS) \
+	$(FREETYPE_LIBS) \
+	$(kdeldadd) \
+	${win32_ldflags}
+
+
+sodipodi_LDFLAGS = -Wl,--export-dynamic $(kdeldflags)
+
+noinst_PROGRAMS = spsvgview
+
+spsvgview_SOURCES = \
+	spsvgview.c \
+	view.c view.h \
+	svg-view.c svg-view.h \
+	dir-util.c dir-util.h \
+	modules/ps.c modules/ps.h \
+	module.c module.h \
+	print.c print.h
+
+
+spsvgview_LDADD = \
+	$(module_libs) \
+	$(spproglibs) \
+	$(module_libs) \
+	xml/libspxml.a \
+	svg/libspsvg.a \
+	display/libspdisplay.a \
+	helper/libspchelp.a \
+	libnrtype/libnrtype.a \
+	libnr/libnr.a \
+	libarikkei/libarikkei.a \
+	$(SODIPODI_LIBS) \
+	$(GNOME_PRINT_LIBS) \
+	$(XFT_LIBS) \
+	$(FREETYPE_LIBS) \
+	$(kdeldadd) \
+	${win32_ldflags}
+
+
+
+# widgets/libspwidgets.a
+# dialogs/libspdialogs.a
+EXTRA_DIST = \
+	brokenimage.xpm
+
+subdir = src
+ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
+mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs
+CONFIG_HEADER = $(top_builddir)/config.h
+CONFIG_CLEAN_FILES =
+LTLIBRARIES = $(noinst_LTLIBRARIES)
+
+libsodipodi_la_LDFLAGS =
+libsodipodi_la_LIBADD =
+am__objects_1 = attributes.lo sp-object.lo sp-object-repr.lo \
+	sp-object-group.lo sp-defs.lo sp-item.lo sp-item-group.lo \
+	sp-symbol.lo sp-marker.lo sp-use.lo sp-anchor.lo sp-root.lo \
+	sp-image.lo sp-path.lo sp-shape.lo sp-rect.lo sp-ellipse.lo \
+	sp-star.lo sp-spiral.lo sp-line.lo sp-polyline.lo sp-polygon.lo \
+	sp-chars.lo sp-text.lo sp-paint-server.lo sp-gradient.lo \
+	sp-pattern.lo sp-clippath.lo sp-mask.lo sp-animation.lo \
+	color.lo style.lo document.lo document-undo.lo \
+	uri-references.lo
+am_libsodipodi_la_OBJECTS = $(am__objects_1)
+libsodipodi_la_OBJECTS = $(am_libsodipodi_la_OBJECTS)
+bin_PROGRAMS = sodipodi$(EXEEXT)
+noinst_PROGRAMS = spsvgview$(EXEEXT)
+PROGRAMS = $(bin_PROGRAMS) $(noinst_PROGRAMS)
+
+am__objects_3 = module.$(OBJEXT)
+am_sodipodi_OBJECTS = $(am__objects_2) sodipodi.$(OBJEXT) \
+	sp-namedview.$(OBJEXT) sp-guide.$(OBJEXT) view.$(OBJEXT) \
+	svg-view.$(OBJEXT) selection.$(OBJEXT) desktop.$(OBJEXT) \
+	desktop-events.$(OBJEXT) desktop-handles.$(OBJEXT) \
+	desktop-affine.$(OBJEXT) desktop-snap.$(OBJEXT) \
+	sp-metrics.$(OBJEXT) toolbox.$(OBJEXT) verbs.$(OBJEXT) \
+	shortcuts.$(OBJEXT) event-context.$(OBJEXT) \
+	seltrans-handles.$(OBJEXT) seltrans.$(OBJEXT) \
+	select-context.$(OBJEXT) node-context.$(OBJEXT) \
+	nodepath.$(OBJEXT) knotholder.$(OBJEXT) object-edit.$(OBJEXT) \
+	rect-context.$(OBJEXT) arc-context.$(OBJEXT) \
+	star-context.$(OBJEXT) spiral-context.$(OBJEXT) \
+	draw-context.$(OBJEXT) dyna-draw-context.$(OBJEXT) \
+	text-context.$(OBJEXT) zoom-context.$(OBJEXT) \
+	dropper-context.$(OBJEXT) knot.$(OBJEXT) main.$(OBJEXT) \
+	$(am__objects_2) help.$(OBJEXT) sp-cursor.$(OBJEXT) \
+	dir-util.$(OBJEXT) rubberband.$(OBJEXT) event-broker.$(OBJEXT) \
+	path-chemistry.$(OBJEXT) selection-chemistry.$(OBJEXT) \
+	gradient-chemistry.$(OBJEXT) sp-item-transform.$(OBJEXT) \
+	file.$(OBJEXT) print.$(OBJEXT) interface.$(OBJEXT) \
+	object-ui.$(OBJEXT) slideshow.$(OBJEXT) $(am__objects_3) \
+	$(am__objects_2)
+sodipodi_OBJECTS = $(am_sodipodi_OBJECTS)
+@USE_KDE_TRUE@sodipodi_DEPENDENCIES = libsodipodi.la \
+@USE_KDE_TRUE@	dialogs/libspdialogs.a xml/libspxml.a \
+@USE_KDE_TRUE@	svg/libspsvg.a widgets/libspwidgets.a \
+@USE_KDE_TRUE@	display/libspdisplay.a helper/libspchelp.a \
+@USE_KDE_TRUE@	libnrtype/libnrtype.a libnr/libnr.a \
+@USE_KDE_TRUE@	libarikkei/libarikkei.a modules/libspmodules.a
+@USE_KDE_FALSE@sodipodi_DEPENDENCIES = libsodipodi.la \
+@USE_KDE_FALSE@	dialogs/libspdialogs.a xml/libspxml.a \
+@USE_KDE_FALSE@	svg/libspsvg.a widgets/libspwidgets.a \
+@USE_KDE_FALSE@	display/libspdisplay.a helper/libspchelp.a \
+@USE_KDE_FALSE@	libnrtype/libnrtype.a libnr/libnr.a \
+@USE_KDE_FALSE@	libarikkei/libarikkei.a modules/libspmodules.a
+am_spsvgview_OBJECTS = spsvgview.$(OBJEXT) view.$(OBJEXT) \
+	svg-view.$(OBJEXT) dir-util.$(OBJEXT) ps.$(OBJEXT) \
+	module.$(OBJEXT) print.$(OBJEXT)
+spsvgview_OBJECTS = $(am_spsvgview_OBJECTS)
+@USE_KDE_TRUE@spsvgview_DEPENDENCIES = modules/libspmodules.a \
+@USE_KDE_TRUE@	libsodipodi.la modules/libspmodules.a \
+@USE_KDE_TRUE@	xml/libspxml.a svg/libspsvg.a \
+@USE_KDE_TRUE@	display/libspdisplay.a helper/libspchelp.a \
+@USE_KDE_TRUE@	libnrtype/libnrtype.a libnr/libnr.a \
+@USE_KDE_TRUE@	libarikkei/libarikkei.a
+@USE_KDE_FALSE@spsvgview_DEPENDENCIES = modules/libspmodules.a \
+@USE_KDE_FALSE@	libsodipodi.la modules/libspmodules.a \
+@USE_KDE_FALSE@	xml/libspxml.a svg/libspsvg.a \
+@USE_KDE_FALSE@	display/libspdisplay.a helper/libspchelp.a \
+@USE_KDE_FALSE@	libnrtype/libnrtype.a libnr/libnr.a \
+@USE_KDE_FALSE@	libarikkei/libarikkei.a
+spsvgview_LDFLAGS =
+
+DEFAULT_INCLUDES =  -I. -I$(srcdir) -I$(top_builddir)
+depcomp = $(SHELL) $(top_srcdir)/depcomp
+am__depfiles_maybe = depfiles
+@AMDEP_TRUE@DEP_FILES = ./$(DEPDIR)/arc-context.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/attributes.Plo ./$(DEPDIR)/color.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/desktop-affine.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/desktop-events.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/desktop-handles.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/desktop-snap.Po ./$(DEPDIR)/desktop.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/dir-util.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/document-undo.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/document.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/draw-context.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/dropper-context.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/dyna-draw-context.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/event-broker.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/event-context.Po ./$(DEPDIR)/file.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/gradient-chemistry.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/help.Po ./$(DEPDIR)/interface.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/knot.Po ./$(DEPDIR)/knotholder.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/main.Po ./$(DEPDIR)/module.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/node-context.Po ./$(DEPDIR)/nodepath.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/object-edit.Po ./$(DEPDIR)/object-ui.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/path-chemistry.Po ./$(DEPDIR)/print.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/ps.Po ./$(DEPDIR)/rect-context.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/rubberband.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/select-context.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/selection-chemistry.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/selection.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/seltrans-handles.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/seltrans.Po ./$(DEPDIR)/shortcuts.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/slideshow.Po ./$(DEPDIR)/sodipodi.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/sp-anchor.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/sp-animation.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/sp-chars.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/sp-clippath.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/sp-cursor.Po ./$(DEPDIR)/sp-defs.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/sp-ellipse.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/sp-gradient.Plo ./$(DEPDIR)/sp-guide.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/sp-image.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/sp-item-group.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/sp-item-transform.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/sp-item.Plo ./$(DEPDIR)/sp-line.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/sp-marker.Plo ./$(DEPDIR)/sp-mask.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/sp-metrics.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/sp-namedview.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/sp-object-group.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/sp-object-repr.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/sp-object.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/sp-paint-server.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/sp-path.Plo ./$(DEPDIR)/sp-pattern.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/sp-polygon.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/sp-polyline.Plo ./$(DEPDIR)/sp-rect.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/sp-root.Plo ./$(DEPDIR)/sp-shape.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/sp-spiral.Plo ./$(DEPDIR)/sp-star.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/sp-symbol.Plo ./$(DEPDIR)/sp-text.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/sp-use.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/spiral-context.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/spsvgview.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/star-context.Po ./$(DEPDIR)/style.Plo \
+@AMDEP_TRUE@	./$(DEPDIR)/svg-view.Po ./$(DEPDIR)/text-context.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/toolbox.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/uri-references.Plo ./$(DEPDIR)/verbs.Po \
+@AMDEP_TRUE@	./$(DEPDIR)/view.Po ./$(DEPDIR)/zoom-context.Po
+COMPILE = $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) \
+	$(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
+LTCOMPILE = $(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) \
+	$(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
+CCLD = $(CC)
+LINK = $(LIBTOOL) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
+	$(AM_LDFLAGS) $(LDFLAGS) -o $@
+DIST_SOURCES = $(libsodipodi_la_SOURCES) $(sodipodi_SOURCES) \
+	$(spsvgview_SOURCES)
+
+RECURSIVE_TARGETS = info-recursive dvi-recursive pdf-recursive \
+	ps-recursive install-info-recursive uninstall-info-recursive \
+	all-recursive install-data-recursive install-exec-recursive \
+	installdirs-recursive install-recursive uninstall-recursive \
+	check-recursive installcheck-recursive
+DIST_COMMON = Makefile.am Makefile.in
+DIST_SUBDIRS = $(SUBDIRS)
+SOURCES = $(libsodipodi_la_SOURCES) $(sodipodi_SOURCES) $(spsvgview_SOURCES)
+
+all: all-recursive
+
+.SUFFIXES:
+.SUFFIXES: .c .lo .o .obj
+$(srcdir)/Makefile.in:  Makefile.am  $(top_srcdir)/configure.in $(ACLOCAL_M4)
+	cd $(top_srcdir) && \
+	  $(AUTOMAKE) --gnu  src/Makefile
+Makefile:  $(srcdir)/Makefile.in  $(top_builddir)/config.status
+	cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@ $(am__depfiles_maybe)
+
+clean-noinstLTLIBRARIES:
+	-test -z "$(noinst_LTLIBRARIES)" || rm -f $(noinst_LTLIBRARIES)
+	@list='$(noinst_LTLIBRARIES)'; for p in $$list; do \
+	  dir="`echo $$p | sed -e 's|/[^/]*$$||'`"; \
+	  test "$$dir" = "$$p" && dir=.; \
+	  echo "rm -f \"$${dir}/so_locations\""; \
+	  rm -f "$${dir}/so_locations"; \
+	done
+libsodipodi.la: $(libsodipodi_la_OBJECTS) $(libsodipodi_la_DEPENDENCIES) 
+	$(LINK)  $(libsodipodi_la_LDFLAGS) $(libsodipodi_la_OBJECTS) $(libsodipodi_la_LIBADD) $(LIBS)
+binPROGRAMS_INSTALL = $(INSTALL_PROGRAM)
+install-binPROGRAMS: $(bin_PROGRAMS)
+	@$(NORMAL_INSTALL)
+	$(mkinstalldirs) $(DESTDIR)$(bindir)
+	@list='$(bin_PROGRAMS)'; for p in $$list; do \
+	  p1=`echo $$p|sed 's/$(EXEEXT)$$//'`; \
+	  if test -f $$p \
+	     || test -f $$p1 \
+	  ; then \
+	    f=`echo "$$p1" | sed 's,^.*/,,;$(transform);s/$$/$(EXEEXT)/'`; \
+	   echo " $(INSTALL_PROGRAM_ENV) $(LIBTOOL) --mode=install $(binPROGRAMS_INSTALL) $$p $(DESTDIR)$(bindir)/$$f"; \
+	   $(INSTALL_PROGRAM_ENV) $(LIBTOOL) --mode=install $(binPROGRAMS_INSTALL) $$p $(DESTDIR)$(bindir)/$$f || exit 1; \
+	  else :; fi; \
+	done
+
+uninstall-binPROGRAMS:
+	@$(NORMAL_UNINSTALL)
+	@list='$(bin_PROGRAMS)'; for p in $$list; do \
+	  f=`echo "$$p" | sed 's,^.*/,,;s/$(EXEEXT)$$//;$(transform);s/$$/$(EXEEXT)/'`; \
+	  echo " rm -f $(DESTDIR)$(bindir)/$$f"; \
+	  rm -f $(DESTDIR)$(bindir)/$$f; \
+	done
+
+clean-binPROGRAMS:
+	@list='$(bin_PROGRAMS)'; for p in $$list; do \
+	  f=`echo $$p|sed 's/$(EXEEXT)$$//'`; \
+	  echo " rm -f $$p $$f"; \
+	  rm -f $$p $$f ; \
+	done
+
+clean-noinstPROGRAMS:
+	@list='$(noinst_PROGRAMS)'; for p in $$list; do \
+	  f=`echo $$p|sed 's/$(EXEEXT)$$//'`; \
+	  echo " rm -f $$p $$f"; \
+	  rm -f $$p $$f ; \
+	done
+sodipodi$(EXEEXT): $(sodipodi_OBJECTS) $(sodipodi_DEPENDENCIES) 
+	@rm -f sodipodi$(EXEEXT)
+	$(LINK) $(sodipodi_LDFLAGS) $(sodipodi_OBJECTS) $(sodipodi_LDADD) $(LIBS)
+spsvgview$(EXEEXT): $(spsvgview_OBJECTS) $(spsvgview_DEPENDENCIES) 
+	@rm -f spsvgview$(EXEEXT)
+	$(LINK) $(spsvgview_LDFLAGS) $(spsvgview_OBJECTS) $(spsvgview_LDADD) $(LIBS)
+
+mostlyclean-compile:
+	-rm -f *.$(OBJEXT) core *.core
+
+distclean-compile:
+	-rm -f *.tab.c
+
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/arc-context.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/attributes.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/color.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/desktop-affine.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/desktop-events.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/desktop-handles.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/desktop-snap.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/desktop.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/dir-util.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/document-undo.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/document.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/draw-context.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/dropper-context.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/dyna-draw-context.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/event-broker.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/event-context.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/file.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/gradient-chemistry.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/help.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/interface.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/knot.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/knotholder.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/main.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/module.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/node-context.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/nodepath.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/object-edit.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/object-ui.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/path-chemistry.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/print.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ps.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/rect-context.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/rubberband.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/select-context.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/selection-chemistry.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/selection.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/seltrans-handles.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/seltrans.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/shortcuts.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/slideshow.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sodipodi.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sp-anchor.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sp-animation.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sp-chars.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sp-clippath.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sp-cursor.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sp-defs.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sp-ellipse.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sp-gradient.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sp-guide.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sp-image.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sp-item-group.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sp-item-transform.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sp-item.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sp-line.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sp-marker.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sp-mask.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sp-metrics.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sp-namedview.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sp-object-group.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sp-object-repr.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sp-object.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sp-paint-server.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sp-path.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sp-pattern.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sp-polygon.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sp-polyline.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sp-rect.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sp-root.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sp-shape.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sp-spiral.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sp-star.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sp-symbol.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sp-text.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sp-use.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/spiral-context.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/spsvgview.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/star-context.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/style.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/svg-view.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/text-context.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/toolbox.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/uri-references.Plo@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/verbs.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/view.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/zoom-context.Po@am__quote@
+
+distclean-depend:
+	-rm -rf ./$(DEPDIR)
+
+.c.o:
+@am__fastdepCC_TRUE@	if $(COMPILE) -MT $@ -MD -MP -MF "$(DEPDIR)/$*.Tpo" \
+@am__fastdepCC_TRUE@	  -c -o $@ `test -f '$<' || echo '$(srcdir)/'`$<; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/$*.Tpo" "$(DEPDIR)/$*.Po"; \
+@am__fastdepCC_TRUE@	else rm -f "$(DEPDIR)/$*.Tpo"; exit 1; \
+@am__fastdepCC_TRUE@	fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='$<' object='$@' libtool=no @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	depfile='$(DEPDIR)/$*.Po' tmpdepfile='$(DEPDIR)/$*.TPo' @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(COMPILE) -c `test -f '$<' || echo '$(srcdir)/'`$<
+
+.c.obj:
+@am__fastdepCC_TRUE@	if $(COMPILE) -MT $@ -MD -MP -MF "$(DEPDIR)/$*.Tpo" \
+@am__fastdepCC_TRUE@	  -c -o $@ `if test -f '$<'; then $(CYGPATH_W) '$<'; else $(CYGPATH_W) '$(srcdir)/$<'; fi`; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/$*.Tpo" "$(DEPDIR)/$*.Po"; \
+@am__fastdepCC_TRUE@	else rm -f "$(DEPDIR)/$*.Tpo"; exit 1; \
+@am__fastdepCC_TRUE@	fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='$<' object='$@' libtool=no @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	depfile='$(DEPDIR)/$*.Po' tmpdepfile='$(DEPDIR)/$*.TPo' @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(COMPILE) -c `if test -f '$<'; then $(CYGPATH_W) '$<'; else $(CYGPATH_W) '$(srcdir)/$<'; fi`
+
+.c.lo:
+@am__fastdepCC_TRUE@	if $(LTCOMPILE) -MT $@ -MD -MP -MF "$(DEPDIR)/$*.Tpo" \
+@am__fastdepCC_TRUE@	  -c -o $@ `test -f '$<' || echo '$(srcdir)/'`$<; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/$*.Tpo" "$(DEPDIR)/$*.Plo"; \
+@am__fastdepCC_TRUE@	else rm -f "$(DEPDIR)/$*.Tpo"; exit 1; \
+@am__fastdepCC_TRUE@	fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='$<' object='$@' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	depfile='$(DEPDIR)/$*.Plo' tmpdepfile='$(DEPDIR)/$*.TPlo' @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LTCOMPILE) -c -o $@ `test -f '$<' || echo '$(srcdir)/'`$<
+
+ps.o: modules/ps.c
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT ps.o -MD -MP -MF "$(DEPDIR)/ps.Tpo" \
+@am__fastdepCC_TRUE@	  -c -o ps.o `test -f 'modules/ps.c' || echo '$(srcdir)/'`modules/ps.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/ps.Tpo" "$(DEPDIR)/ps.Po"; \
+@am__fastdepCC_TRUE@	else rm -f "$(DEPDIR)/ps.Tpo"; exit 1; \
+@am__fastdepCC_TRUE@	fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='modules/ps.c' object='ps.o' libtool=no @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	depfile='$(DEPDIR)/ps.Po' tmpdepfile='$(DEPDIR)/ps.TPo' @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o ps.o `test -f 'modules/ps.c' || echo '$(srcdir)/'`modules/ps.c
+
+ps.obj: modules/ps.c
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT ps.obj -MD -MP -MF "$(DEPDIR)/ps.Tpo" \
+@am__fastdepCC_TRUE@	  -c -o ps.obj `if test -f 'modules/ps.c'; then $(CYGPATH_W) 'modules/ps.c'; else $(CYGPATH_W) '$(srcdir)/modules/ps.c'; fi`; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/ps.Tpo" "$(DEPDIR)/ps.Po"; \
+@am__fastdepCC_TRUE@	else rm -f "$(DEPDIR)/ps.Tpo"; exit 1; \
+@am__fastdepCC_TRUE@	fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='modules/ps.c' object='ps.obj' libtool=no @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	depfile='$(DEPDIR)/ps.Po' tmpdepfile='$(DEPDIR)/ps.TPo' @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o ps.obj `if test -f 'modules/ps.c'; then $(CYGPATH_W) 'modules/ps.c'; else $(CYGPATH_W) '$(srcdir)/modules/ps.c'; fi`
+
+ps.lo: modules/ps.c
+@am__fastdepCC_TRUE@	if $(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT ps.lo -MD -MP -MF "$(DEPDIR)/ps.Tpo" \
+@am__fastdepCC_TRUE@	  -c -o ps.lo `test -f 'modules/ps.c' || echo '$(srcdir)/'`modules/ps.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/ps.Tpo" "$(DEPDIR)/ps.Plo"; \
+@am__fastdepCC_TRUE@	else rm -f "$(DEPDIR)/ps.Tpo"; exit 1; \
+@am__fastdepCC_TRUE@	fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='modules/ps.c' object='ps.lo' libtool=yes @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	depfile='$(DEPDIR)/ps.Plo' tmpdepfile='$(DEPDIR)/ps.TPlo' @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o ps.lo `test -f 'modules/ps.c' || echo '$(srcdir)/'`modules/ps.c
+
+mostlyclean-libtool:
+	-rm -f *.lo
+
+clean-libtool:
+	-rm -rf .libs _libs
+
+distclean-libtool:
+	-rm -f libtool
+uninstall-info-am:
+
+# This directory's subdirectories are mostly independent; you can cd
+# into them and run `make' without going through this Makefile.
+# To change the values of `make' variables: instead of editing Makefiles,
+# (1) if the variable is set in `config.status', edit `config.status'
+#     (which will cause the Makefiles to be regenerated when you run `make');
+# (2) otherwise, pass the desired values on the `make' command line.
+$(RECURSIVE_TARGETS):
+	@set fnord $$MAKEFLAGS; amf=$$2; \
+	dot_seen=no; \
+	target=`echo $@ | sed s/-recursive//`; \
+	list='$(SUBDIRS)'; for subdir in $$list; do \
+	  echo "Making $$target in $$subdir"; \
+	  if test "$$subdir" = "."; then \
+	    dot_seen=yes; \
+	    local_target="$$target-am"; \
+	  else \
+	    local_target="$$target"; \
+	  fi; \
+	  (cd $$subdir && $(MAKE) $(AM_MAKEFLAGS) $$local_target) \
+	   || case "$$amf" in *=*) exit 1;; *k*) fail=yes;; *) exit 1;; esac; \
+	done; \
+	if test "$$dot_seen" = "no"; then \
+	  $(MAKE) $(AM_MAKEFLAGS) "$$target-am" || exit 1; \
+	fi; test -z "$$fail"
+
+mostlyclean-recursive clean-recursive distclean-recursive \
+maintainer-clean-recursive:
+	@set fnord $$MAKEFLAGS; amf=$$2; \
+	dot_seen=no; \
+	case "$@" in \
+	  distclean-* | maintainer-clean-*) list='$(DIST_SUBDIRS)' ;; \
+	  *) list='$(SUBDIRS)' ;; \
+	esac; \
+	rev=''; for subdir in $$list; do \
+	  if test "$$subdir" = "."; then :; else \
+	    rev="$$subdir $$rev"; \
+	  fi; \
+	done; \
+	rev="$$rev ."; \
+	target=`echo $@ | sed s/-recursive//`; \
+	for subdir in $$rev; do \
+	  echo "Making $$target in $$subdir"; \
+	  if test "$$subdir" = "."; then \
+	    local_target="$$target-am"; \
+	  else \
+	    local_target="$$target"; \
+	  fi; \
+	  (cd $$subdir && $(MAKE) $(AM_MAKEFLAGS) $$local_target) \
+	   || case "$$amf" in *=*) exit 1;; *k*) fail=yes;; *) exit 1;; esac; \
+	done && test -z "$$fail"
+tags-recursive:
+	list='$(SUBDIRS)'; for subdir in $$list; do \
+	  test "$$subdir" = . || (cd $$subdir && $(MAKE) $(AM_MAKEFLAGS) tags); \
+	done
+ctags-recursive:
+	list='$(SUBDIRS)'; for subdir in $$list; do \
+	  test "$$subdir" = . || (cd $$subdir && $(MAKE) $(AM_MAKEFLAGS) ctags); \
+	done
+
+ETAGS = etags
+ETAGSFLAGS =
+
+CTAGS = ctags
+CTAGSFLAGS =
+
+tags: TAGS
+
+ID: $(HEADERS) $(SOURCES) $(LISP) $(TAGS_FILES)
+	list='$(SOURCES) $(HEADERS) $(LISP) $(TAGS_FILES)'; \
+	unique=`for i in $$list; do \
+	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
+	  done | \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
+	mkid -fID $$unique
+
+TAGS: tags-recursive $(HEADERS) $(SOURCES)  $(TAGS_DEPENDENCIES) \
+		$(TAGS_FILES) $(LISP)
+	tags=; \
+	here=`pwd`; \
+	if (etags --etags-include --version) >/dev/null 2>&1; then \
+	  include_option=--etags-include; \
+	else \
+	  include_option=--include; \
+	fi; \
+	list='$(SUBDIRS)'; for subdir in $$list; do \
+	  if test "$$subdir" = .; then :; else \
+	    test -f $$subdir/TAGS && \
+	      tags="$$tags $$include_option=$$here/$$subdir/TAGS"; \
+	  fi; \
+	done; \
+	list='$(SOURCES) $(HEADERS)  $(LISP) $(TAGS_FILES)'; \
+	unique=`for i in $$list; do \
+	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
+	  done | \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
+	test -z "$(ETAGS_ARGS)$$tags$$unique" \
+	  || $(ETAGS) $(ETAGSFLAGS) $(AM_ETAGSFLAGS) $(ETAGS_ARGS) \
+	     $$tags $$unique
+
+ctags: CTAGS
+CTAGS: ctags-recursive $(HEADERS) $(SOURCES)  $(TAGS_DEPENDENCIES) \
+		$(TAGS_FILES) $(LISP)
+	tags=; \
+	here=`pwd`; \
+	list='$(SOURCES) $(HEADERS)  $(LISP) $(TAGS_FILES)'; \
+	unique=`for i in $$list; do \
+	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
+	  done | \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
+	test -z "$(CTAGS_ARGS)$$tags$$unique" \
+	  || $(CTAGS) $(CTAGSFLAGS) $(AM_CTAGSFLAGS) $(CTAGS_ARGS) \
+	     $$tags $$unique
+
+GTAGS:
+	here=`$(am__cd) $(top_builddir) && pwd` \
+	  && cd $(top_srcdir) \
+	  && gtags -i $(GTAGS_ARGS) $$here
+
+distclean-tags:
+	-rm -f TAGS ID GTAGS GRTAGS GSYMS GPATH tags
+DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
+
+top_distdir = ..
+distdir = $(top_distdir)/$(PACKAGE)-$(VERSION)
+
+distdir: $(DISTFILES)
+	@srcdirstrip=`echo "$(srcdir)" | sed 's|.|.|g'`; \
+	topsrcdirstrip=`echo "$(top_srcdir)" | sed 's|.|.|g'`; \
+	list='$(DISTFILES)'; for file in $$list; do \
+	  case $$file in \
+	    $(srcdir)/*) file=`echo "$$file" | sed "s|^$$srcdirstrip/||"`;; \
+	    $(top_srcdir)/*) file=`echo "$$file" | sed "s|^$$topsrcdirstrip/|$(top_builddir)/|"`;; \
+	  esac; \
+	  if test -f $$file || test -d $$file; then d=.; else d=$(srcdir); fi; \
+	  dir=`echo "$$file" | sed -e 's,/[^/]*$$,,'`; \
+	  if test "$$dir" != "$$file" && test "$$dir" != "."; then \
+	    dir="/$$dir"; \
+	    $(mkinstalldirs) "$(distdir)$$dir"; \
+	  else \
+	    dir=''; \
+	  fi; \
+	  if test -d $$d/$$file; then \
+	    if test -d $(srcdir)/$$file && test $$d != $(srcdir); then \
+	      cp -pR $(srcdir)/$$file $(distdir)$$dir || exit 1; \
+	    fi; \
+	    cp -pR $$d/$$file $(distdir)$$dir || exit 1; \
+	  else \
+	    test -f $(distdir)/$$file \
+	    || cp -p $$d/$$file $(distdir)/$$file \
+	    || exit 1; \
+	  fi; \
+	done
+	list='$(SUBDIRS)'; for subdir in $$list; do \
+	  if test "$$subdir" = .; then :; else \
+	    test -d $(distdir)/$$subdir \
+	    || mkdir $(distdir)/$$subdir \
+	    || exit 1; \
+	    (cd $$subdir && \
+	      $(MAKE) $(AM_MAKEFLAGS) \
+	        top_distdir="$(top_distdir)" \
+	        distdir=../$(distdir)/$$subdir \
+	        distdir) \
+	      || exit 1; \
+	  fi; \
+	done
+	$(MAKE) $(AM_MAKEFLAGS) \
+	  top_distdir="$(top_distdir)" distdir="$(distdir)" \
+	  dist-hook
+check-am: all-am
+check: check-recursive
+all-am: Makefile $(LTLIBRARIES) $(PROGRAMS)
+installdirs: installdirs-recursive
+installdirs-am:
+	$(mkinstalldirs) $(DESTDIR)$(bindir)
+
+install: install-recursive
+install-exec: install-exec-recursive
+install-data: install-data-recursive
+uninstall: uninstall-recursive
+
+install-am: all-am
+	@$(MAKE) $(AM_MAKEFLAGS) install-exec-am install-data-am
+
+installcheck: installcheck-recursive
+install-strip:
+	$(MAKE) $(AM_MAKEFLAGS) INSTALL_PROGRAM="$(INSTALL_STRIP_PROGRAM)" \
+	  INSTALL_STRIP_FLAG=-s \
+	  `test -z '$(STRIP)' || \
+	    echo "INSTALL_PROGRAM_ENV=STRIPPROG='$(STRIP)'"` install
+mostlyclean-generic:
+
+clean-generic:
+
+distclean-generic:
+	-rm -f Makefile $(CONFIG_CLEAN_FILES)
+
+maintainer-clean-generic:
+	@echo "This command is intended for maintainers to use"
+	@echo "it deletes files that may require special tools to rebuild."
+clean: clean-recursive
+
+clean-am: clean-binPROGRAMS clean-generic clean-libtool \
+	clean-noinstLTLIBRARIES clean-noinstPROGRAMS mostlyclean-am
+
+distclean: distclean-recursive
+
+distclean-am: clean-am distclean-compile distclean-depend \
+	distclean-generic distclean-libtool distclean-tags
+
+dvi: dvi-recursive
+
+dvi-am:
+
+info: info-recursive
+
+info-am:
+
+install-data-am:
+
+install-exec-am: install-binPROGRAMS
+
+install-info: install-info-recursive
+
+install-man:
+
+installcheck-am:
+
+maintainer-clean: maintainer-clean-recursive
+
+maintainer-clean-am: distclean-am maintainer-clean-generic
+
+mostlyclean: mostlyclean-recursive
+
+mostlyclean-am: mostlyclean-compile mostlyclean-generic \
+	mostlyclean-libtool
+
+pdf: pdf-recursive
+
+pdf-am:
+
+ps: ps-recursive
+
+ps-am:
+
+uninstall-am: uninstall-binPROGRAMS uninstall-info-am
+
+uninstall-info: uninstall-info-recursive
+
+.PHONY: $(RECURSIVE_TARGETS) CTAGS GTAGS all all-am check check-am clean \
+	clean-binPROGRAMS clean-generic clean-libtool \
+	clean-noinstLTLIBRARIES clean-noinstPROGRAMS clean-recursive \
+	ctags ctags-recursive distclean distclean-compile \
+	distclean-depend distclean-generic distclean-libtool \
+	distclean-recursive distclean-tags distdir dvi dvi-am \
+	dvi-recursive info info-am info-recursive install install-am \
+	install-binPROGRAMS install-data install-data-am \
+	install-data-recursive install-exec install-exec-am \
+	install-exec-recursive install-info install-info-am \
+	install-info-recursive install-man install-recursive \
+	install-strip installcheck installcheck-am installdirs \
+	installdirs-am installdirs-recursive maintainer-clean \
+	maintainer-clean-generic maintainer-clean-recursive mostlyclean \
+	mostlyclean-compile mostlyclean-generic mostlyclean-libtool \
+	mostlyclean-recursive pdf pdf-am pdf-recursive ps ps-am \
+	ps-recursive tags tags-recursive uninstall uninstall-am \
+	uninstall-binPROGRAMS uninstall-info-am \
+	uninstall-info-recursive uninstall-recursive
+
+
+@PLATFORM_WIN32_TRUE@	win32_sources = winmain.c
+@PLATFORM_WIN32_TRUE@	win32_ldflags = -lcomdlg32
+
+dist-hook:
+	mkdir $(distdir)/pixmaps
+	cp $(srcdir)/pixmaps/*xpm $(distdir)/pixmaps
+# Tell versions [3.59,3.63) of GNU make to not export all variables.
+# Otherwise a system limit (for SysV at least) may be exceeded.
+.NOEXPORT:
diff -ruN sodipodi-0.33.orig/src/helper/action.c sodipodi-0.33/src/helper/action.c
--- sodipodi-0.33.orig/src/helper/action.c	Sat Nov 15 23:38:23 2003
+++ sodipodi-0.33/src/helper/action.c	Tue Dec  9 11:36:20 2003
@@ -12,7 +12,7 @@
  */
 
 #include <string.h>
-#include <malloc.h>
+#include <unistd.h>
 
 #include <libnr/nr-macros.h>
 
diff -ruN sodipodi-0.33.orig/src/helper/units.h sodipodi-0.33/src/helper/units.h
--- sodipodi-0.33.orig/src/helper/units.h	Thu Nov 28 21:18:50 2002
+++ sodipodi-0.33/src/helper/units.h	Tue Dec  9 11:36:20 2003
@@ -44,7 +44,7 @@
  * The base absolute unit is 1/72th of an inch (we are gnome PRINT, so sorry SI)
  */
 
-enum {
+typedef enum {
 	SP_UNIT_DIMENSIONLESS = (1 << 0), /* For percentages and like */
 	SP_UNIT_ABSOLUTE = (1 << 1), /* Real world distances - i.e. mm, cm... */
 	SP_UNIT_DEVICE = (1 << 2), /* Semi-real device-dependent distances i.e. pixels */
diff -ruN sodipodi-0.33.orig/src/libarikkei/arikkei-dict.c sodipodi-0.33/src/libarikkei/arikkei-dict.c
--- sodipodi-0.33.orig/src/libarikkei/arikkei-dict.c	Tue Nov 18 06:53:00 2003
+++ sodipodi-0.33/src/libarikkei/arikkei-dict.c	Tue Dec  9 11:40:37 2003
@@ -12,7 +12,7 @@
  *
  */
 
-#include <malloc.h>
+#include <stdlib.h>
 #include <string.h>
 
 #include "arikkei-dict.h"
diff -ruN sodipodi-0.33.orig/src/libarikkei/arikkei-strlib.c sodipodi-0.33/src/libarikkei/arikkei-strlib.c
--- sodipodi-0.33.orig/src/libarikkei/arikkei-strlib.c	Sun Nov 30 19:29:08 2003
+++ sodipodi-0.33/src/libarikkei/arikkei-strlib.c	Tue Dec  9 11:40:23 2003
@@ -14,7 +14,7 @@
 
 #include <math.h>
 #include <string.h>
-#include <malloc.h>
+#include <stdlib.h>
 #include <assert.h>
 
 #include "arikkei-strlib.h"
diff -ruN sodipodi-0.33.orig/src/libarikkei/arikkei-token.c sodipodi-0.33/src/libarikkei/arikkei-token.c
--- sodipodi-0.33.orig/src/libarikkei/arikkei-token.c	Tue Nov 18 06:53:00 2003
+++ sodipodi-0.33/src/libarikkei/arikkei-token.c	Tue Dec  9 11:40:06 2003
@@ -12,7 +12,7 @@
  *
  */
 
-#include <malloc.h>
+#include <stdlib.h>
 #include <string.h>
 
 #include "arikkei-token.h"
diff -ruN sodipodi-0.33.orig/src/libnrtype/nr-type-xft.c sodipodi-0.33/src/libnrtype/nr-type-xft.c
--- sodipodi-0.33.orig/src/libnrtype/nr-type-xft.c	Wed Oct 15 03:46:09 2003
+++ sodipodi-0.33/src/libnrtype/nr-type-xft.c	Tue Dec  9 11:36:20 2003
@@ -171,14 +171,8 @@
 			/* fixme: This is silly and evil */
 			/* But Freetype just does not load pfa reliably (Lauris) */
 			if ((len > 4) &&
-			    (!strcmp (file + len - 4, ".ttf") ||
-			     !strcmp (file + len - 4, ".TTF") ||
-			     !strcmp (file + len - 4, ".ttc") ||
-			     !strcmp (file + len - 4, ".TTC") ||
-			     !strcmp (file + len - 4, ".otf") ||
-			     !strcmp (file + len - 4, ".OTF") ||
-			     !strcmp (file + len - 4, ".pfb") ||
-			     !strcmp (file + len - 4, ".PFB"))) {
+			    strcmp (file + len - 4, ".pfa") &&
+			     strcmp (file + len - 4, ".PFA")) {
 				char *fn, *wn, *sn, *name;
 				int weight;
 				int slant;
diff -ruN sodipodi-0.33.orig/src/libnrtype/nr-type-xft.c.orig sodipodi-0.33/src/libnrtype/nr-type-xft.c.orig
--- sodipodi-0.33.orig/src/libnrtype/nr-type-xft.c.orig	Thu Jan  1 09:00:00 1970
+++ sodipodi-0.33/src/libnrtype/nr-type-xft.c.orig	Wed Oct 15 03:46:09 2003
@@ -0,0 +1,245 @@
+#define __NR_TYPE_XFT_C__
+
+/*
+ * Typeface and script library
+ *
+ * Authors:
+ *   Lauris Kaplinski <lauris@kaplinski.com>
+ *
+ * This code is in public domain
+ */
+
+#include <string.h>
+#include <stdio.h>
+
+#include <X11/Xft/Xft.h>
+
+#include <libarikkei/arikkei-dict.h>
+
+#include <gdk/gdkx.h>
+
+#include "nr-type-directory.h"
+#include "nr-type-xft.h"
+
+static void nr_type_xft_init (void);
+
+static unsigned int nrxfti = FALSE;
+
+static NRNameList NRXftTypefaces = {0, NULL, NULL};
+static NRNameList NRXftFamilies = {0, NULL, NULL};
+
+static XftFontSet *NRXftPatterns = NULL;
+static ArikkeiDict NRXftNamedict;
+static ArikkeiDict NRXftFamilydict;
+
+void
+nr_type_xft_typefaces_get (NRNameList *names)
+{
+	if (!nrxfti) nr_type_xft_init ();
+
+	*names = NRXftTypefaces;
+}
+
+void
+nr_type_xft_families_get (NRNameList *names)
+{
+	if (!nrxfti) nr_type_xft_init ();
+
+	*names = NRXftFamilies;
+}
+
+void
+nr_type_xft_build_def (NRTypeFaceDefFT2 *dft2, const unsigned char *name, const unsigned char *family)
+{
+	XftPattern *pat;
+	pat = arikkei_dict_lookup (&NRXftNamedict, name);
+	if (pat) {
+		char *file;
+		int index;
+		XftPatternGetString (pat, XFT_FILE, 0, &file);
+		XftPatternGetInteger (pat, XFT_INDEX, 0, &index);
+		if (file) {
+			nr_type_ft2_build_def (dft2, name, family, file, index);
+		}
+	}
+}
+
+void
+nr_type_read_xft_list (void)
+{
+	NRNameList gnames, gfamilies;
+	const char *debugenv;
+	int debug;
+	int i, j;
+
+	debugenv = getenv ("SODIPODI_DEBUG_XFT");
+	debug = (debugenv && *debugenv && (*debugenv != '0'));
+
+	nr_type_xft_typefaces_get (&gnames);
+	nr_type_xft_families_get (&gfamilies);
+
+	if (debug) {
+		fprintf (stderr, "Number of usable Xft familes: %lu\n", gfamilies.length);
+		fprintf (stderr, "Number of usable Xft typefaces: %lu\n", gnames.length);
+	}
+
+	for (i = gnames.length - 1; i >= 0; i--) {
+		NRTypeFaceDefFT2 *tdef;
+		const unsigned char *family;
+		family = NULL;
+		for (j = gfamilies.length - 1; j >= 0; j--) {
+			int len;
+			len = strlen (gfamilies.names[j]);
+			if (!strncmp (gfamilies.names[j], gnames.names[i], len)) {
+				family = gfamilies.names[j];
+				break;
+			}
+		}
+		if (family) {
+			tdef = nr_new (NRTypeFaceDefFT2, 1);
+			tdef->def.next = NULL;
+			tdef->def.pdef = NULL;
+			nr_type_xft_build_def (tdef, gnames.names[i], family);
+			nr_type_register ((NRTypeFaceDef *) tdef);
+		}
+	}
+
+	nr_name_list_release (&gfamilies);
+	nr_name_list_release (&gnames);
+}
+
+static void
+nr_type_xft_init (void)
+{
+	XftFontSet *fs;
+	const char *debugenv;
+	int debug, ret;
+	int i, pos, fpos;
+
+	debugenv = getenv ("SODIPODI_DEBUG_XFT");
+	debug = (debugenv && *debugenv && (*debugenv != '0'));
+
+	ret = XftInit (NULL);
+
+	if (debug) {
+		fprintf (stderr, "XftInit result %d\n", ret);
+		fprintf (stderr, "Reading Xft font database...\n");
+	}
+
+	/* Get family list */
+	fs = XftListFonts (GDK_DISPLAY (), 0,
+			   XFT_SCALABLE, XftTypeBool, 1, XFT_OUTLINE, XftTypeBool, 1, 0,
+			   XFT_FAMILY, 0);
+	NRXftFamilies.length = fs->nfont;
+	NRXftFamilies.names = nr_new (unsigned char *, NRXftFamilies.length);
+	NRXftFamilies.destructor = NULL;
+	XftFontSetDestroy (fs);
+
+	if (debug) {
+		fprintf (stderr, "Read %lu families\n", NRXftFamilies.length);
+	}
+
+	/* Get typeface list */
+	NRXftPatterns = XftListFonts (GDK_DISPLAY (), 0,
+				      XFT_SCALABLE, XftTypeBool, 1, XFT_OUTLINE, XftTypeBool, 1, 0,
+				      XFT_FAMILY, XFT_WEIGHT, XFT_SLANT, XFT_FILE, XFT_INDEX, 0);
+	NRXftTypefaces.length = NRXftPatterns->nfont;
+	NRXftTypefaces.names = nr_new (unsigned char *, NRXftTypefaces.length);
+	NRXftTypefaces.destructor = NULL;
+	arikkei_dict_setup_string (&NRXftNamedict, 2777);
+	arikkei_dict_setup_string (&NRXftFamilydict, 173);
+
+	if (debug) {
+		fprintf (stderr, "Read %lu fonts\n", NRXftTypefaces.length);
+	}
+
+	pos = 0;
+	fpos = 0;
+	for (i = 0; i < NRXftPatterns->nfont; i++) {
+		char *name, *file;
+		XftPatternGetString (NRXftPatterns->fonts[i], XFT_FAMILY, 0, &name);
+		if (debug) {
+			fprintf (stderr, "Typeface %s\n", name);
+		}
+		XftPatternGetString (NRXftPatterns->fonts[i], XFT_FILE, 0, &file);
+		if (file) {
+			int len;
+			if (debug) {
+				fprintf (stderr, "Got filename %s\n", file);
+			}
+			len = strlen (file);
+			/* fixme: This is silly and evil */
+			/* But Freetype just does not load pfa reliably (Lauris) */
+			if ((len > 4) &&
+			    (!strcmp (file + len - 4, ".ttf") ||
+			     !strcmp (file + len - 4, ".TTF") ||
+			     !strcmp (file + len - 4, ".ttc") ||
+			     !strcmp (file + len - 4, ".TTC") ||
+			     !strcmp (file + len - 4, ".otf") ||
+			     !strcmp (file + len - 4, ".OTF") ||
+			     !strcmp (file + len - 4, ".pfb") ||
+			     !strcmp (file + len - 4, ".PFB"))) {
+				char *fn, *wn, *sn, *name;
+				int weight;
+				int slant;
+				if (debug) {
+					fprintf (stderr, "Seems valid\n");
+				}
+				XftPatternGetString (NRXftPatterns->fonts[i], XFT_FAMILY, 0, &fn);
+				XftPatternGetInteger (NRXftPatterns->fonts[i], XFT_WEIGHT, 0, &weight);
+				XftPatternGetInteger (NRXftPatterns->fonts[i], XFT_SLANT, 0, &slant);
+				switch (weight) {
+				case XFT_WEIGHT_LIGHT:
+					wn = "Light";
+					break;
+				case XFT_WEIGHT_MEDIUM:
+					wn = "Book";
+					break;
+				case XFT_WEIGHT_DEMIBOLD:
+					wn = "Demibold";
+					break;
+				case XFT_WEIGHT_BOLD:
+					wn = "Bold";
+					break;
+				case XFT_WEIGHT_BLACK:
+					wn = "Black";
+					break;
+				default:
+					wn = "Normal";
+					break;
+				}
+				switch (slant) {
+				case XFT_SLANT_ROMAN:
+					sn = "Roman";
+					break;
+				case XFT_SLANT_ITALIC:
+					sn = "Italic";
+					break;
+				case XFT_SLANT_OBLIQUE:
+					sn = "Oblique";
+					break;
+				default:
+					sn = "Normal";
+					break;
+				}
+				if (strlen (fn) < 1024) {
+					char c[1280];
+					sprintf (c, "%s %s %s", fn, wn, sn);
+					if (!arikkei_dict_lookup (&NRXftNamedict, c)) {
+						name = strdup (c);
+						if (!arikkei_dict_lookup (&NRXftFamilydict, fn)) {
+							NRXftFamilies.names[fpos] = strdup (fn);
+							arikkei_dict_insert (&NRXftFamilydict, NRXftFamilies.names[fpos++], (void *) TRUE);
+						}
+						NRXftTypefaces.names[pos++] = name;
+						arikkei_dict_insert (&NRXftNamedict, name, NRXftPatterns->fonts[i]);
+					}
+				}
+			}
+		}
+	}
+	NRXftTypefaces.length = pos;
+	NRXftFamilies.length = fpos;
+
+	nrxfti = TRUE;
+}
diff -ruN sodipodi-0.33.orig/src/xml/repr-io.c sodipodi-0.33/src/xml/repr-io.c
--- sodipodi-0.33.orig/src/xml/repr-io.c	Mon Dec  1 00:22:48 2003
+++ sodipodi-0.33/src/xml/repr-io.c	Tue Dec  9 11:44:10 2003
@@ -11,7 +11,7 @@
  * Released under GNU GPL, read the file 'COPYING' for more information
  */
 
-#include <malloc.h>
+#include <stdlib.h>
 #include <string.h>
 #include <stdio.h>
 #include <ctype.h>
