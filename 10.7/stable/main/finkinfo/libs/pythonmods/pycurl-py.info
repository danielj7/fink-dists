Info2: <<
Package: pycurl-py%type_pkg[python]
Version: 7.19.0.1
Revision: 1
Type: python (2.6 2.7)
Description: Python bindings for libcurl
DescPackaging: <<
 setup.py installs all docs--so no need for DocFiles--but
 in a non-versioned directory, so we need to rename
 %i/share/doc/pycurl to %i/share/doc/pycurl-py%type_pkg[python].
 
 Patch setup.py to not link in static libs.
<<
Maintainer: Daniel Johnson <daniel@daniel-johnson.org>
License: GPL
Homepage: http://pycurl.sourceforge.net/

Source: http://pycurl.sourceforge.net/download/pycurl-%v.tar.gz
Source-MD5: bf737819edcd5b3d9d93b9fc4cd8e003

PatchFile: %{ni}.patch
PatchFile-MD5: 01ffd60bc5520d63aab007b804f2d99d

Depends: python%type_pkg[python], libcurl4-shlibs (>= 7.18.2), openssl100-shlibs (>= 1.0.1e)
BuildDepends: libcurl4 (>= 7.18.2), openssl100-dev (>= 1.0.1e), fink (>= 0.24.12)

NoSetCPPFLAGS: true
NoSetLDFLAGS: true
SetLDFLAGS: -L%p/lib -lcrypto

CompileScript: <<
 %p/bin/python%type_raw[python] setup.py build --curl-config=%p/bin/curl-config --openssl-dir=%p
<<
InstallScript: <<
 %p/bin/python%type_raw[python] setup.py install --root %d
 /bin/mv %i/share/doc/pycurl %i/share/doc/pycurl-py%type_pkg[python]
<<
# Tests also need cherrypy.wsgiserver.
#InfoTest: <<
#	TestDepends: nose-py%type_pkg[python], bottle-py%type_pkg[python]
#	TestScript: <<
#		mkdir -p tests/tmp
#		PYTHONPATH=`ls -d build/lib.*` nosetests-%type_raw[python] || exit 2
#	<<
#<<
<<
