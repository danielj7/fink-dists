diff -ru crafty-21.6-orig/Makefile crafty-21.6/Makefile
--- crafty-21.6-orig/Makefile	2007-11-24 01:21:38.000000000 +0100
+++ crafty-21.6/Makefile	2007-11-24 01:56:33.000000000 +0100
@@ -123,9 +123,9 @@
 darwin:
 	$(MAKE) target=FreeBSD \
 		CC=gcc CXX=g++ \
-		CFLAGS='$(CFLAGS) -Wall -pipe -O3' \
-		CXFLAGS=$(CFLAGS) \
-		LDFLAGS=$(LDFLAGS) \
+		CFLAGS='$(CFLAGS) $(ARCH) $(CPUS) -Wall -pipe -O3' \
+		CXFLAGS='$(CFLAGS) $(ARCH) $(CPUS) ' \
+		LDFLAGS='$(LDFLAGS) $(ARCH)' \
 		LIBS='-lstdc++' \
 		opt='$(opt)' \
 		crafty-make
diff -ru crafty-21.6-orig/lock.h crafty-21.6/lock.h
--- crafty-21.6-orig/lock.h	2007-11-24 01:21:38.000000000 +0100
+++ crafty-21.6/lock.h	2007-11-24 01:52:18.000000000 +0100
@@ -71,7 +71,7 @@
 #      define Lock(v)          __LOCK_LONG(&(v))
 #      define Unlock(v)        __UNLOCK_LONG(&(v))
 
-#    elif defined(POWERPC)
+#    elif defined(__APPLE__)
                         /* OS X */
 
 #      include <libkern/OSAtomic.h>
diff -ru crafty-21.6-orig/option.c crafty-21.6/option.c
--- crafty-21.6-orig/option.c	2007-11-24 01:21:38.000000000 +0100
+++ crafty-21.6/option.c	2007-11-24 02:09:34.000000000 +0100
@@ -1333,7 +1333,8 @@
     char *readstat = (char *) -1;
     int lines = 0;
 
-    helpfile = fopen("crafty.hlp", "r");
+    sprintf(log_filename, "%s/crafty.hlp", book_path);
+    helpfile = fopen(log_filename, "r");
     if (!helpfile) {
       printf("ERROR.  Unable to open \"crafty.hlp\" -- help unavailable\n");
       return (1);
diff -ru crafty-21.6-orig/utility.c crafty-21.6/utility.c
--- crafty-21.6-orig/utility.c	2007-11-24 01:21:38.000000000 +0100
+++ crafty-21.6/utility.c	2007-11-24 01:48:51.000000000 +0100
@@ -6,6 +6,9 @@
 #include <ctype.h>
 #include "chess.h"
 #include "data.h"
+#if defined(__APPLE__)
+#  include <sys/mman.h>
+#endif
 #if !defined(AMIGA)
 #  include <limits.h>
 #endif
@@ -2854,7 +2857,11 @@
 
 void *SharedMalloc(size_t size, int tid)
 {
-#if defined(UNIX)
+#if defined(__APPLE__)
+  int * mem = mmap(NULL, size+4, PROT_READ|PROT_WRITE, MAP_ANON|MAP_SHARED, -1, 0);
+  *mem++ = size;
+  return mem;
+#elif defined(UNIX)
   int shmid;
   void *shared;
 
@@ -2881,7 +2888,10 @@
 
 void SharedFree(void *address)
 {
-#if defined(UNIX)
+#if defined(__APPLE__)
+  int * mem=address;
+  munmap(mem-1, mem[-1]+4);
+#elif defined(UNIX)
   shmdt(address);
 #else
   VirtualFree(address, 0, MEM_RELEASE);
