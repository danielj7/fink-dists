diff -ru clisp-2.31-orig/src/makemake.in clisp-2.31/src/makemake.in
--- clisp-2.31-orig/src/makemake.in	Tue Sep 16 14:47:57 2003
+++ clisp-2.31/src/makemake.in	Tue Sep 16 15:45:47 2003
@@ -336,6 +336,7 @@
      CC="@CC@"                           # either 'gcc -O' or 'cc'
      CPP="@CPP@"                         # either $CC' -E' or '/lib/cpp'
      CPPFLAGS='@CPPFLAGS@'               # additional options for $CC and $CPP
+     CLFLAGS='@LDFLAGS@'                 # additional options for linking
      CC_GCC='@CC_GCC@'                   # either true or false
      CC_NEED_CCPAUX='@CC_NEED_CCPAUX@'   # either true or false
      CC_NEED_DEEMA='@CC_NEED_DEEMA@'     # either true or false
@@ -426,7 +427,6 @@
          CC_GCC=false
        fi
        CFLAGS='-O'
-       CLFLAGS=''
        CPP="${CC} -E"
        CPPFLAGS=''
        CC_NEED_CCPAUX=false
@@ -454,6 +454,7 @@
   XCC="gcc-${TSYS}"
   XCPP="${XCC} -E"
   XCPPFLAGS=''
+  XLDFLAGS=''
   XCC_GCC=true
   XCC_NEED_CCPAUX=false
   XCC_NEED_DEEMA=false
@@ -463,6 +464,7 @@
   XCC="${CC}"
   XCPP="${CPP}"
   XCPPFLAGS="${CPPFLAGS}"
+  XLDFLAGS="${LDFLAGS}"
   XCC_GCC="${CC_GCC}"
   XCC_NEED_CCPAUX="${CC_NEED_CCPAUX}"
   XCC_NEED_DEEMA="${CC_NEED_DEEMA}"
@@ -963,7 +965,7 @@
     XCLFLAGS=''
   fi
   # Override any "-x c++" options which may be present in $XCC or $XCFLAGS.
-  XCLFLAGS=$XCLFLAGS' -x none'
+  XCLFLAGS="$XLDFLAGS $XCLFLAGS -x none"
   XCC_NOOPTFLAGS=' -O0'
 
   if [ "${with_threads}" = "POSIX_THREADS" ]; then
Only in clisp-2.31/src: makemake.in~
diff -ru clisp-2.31-orig/src/misc.d clisp-2.31/src/misc.d
--- clisp-2.31-orig/src/misc.d	Tue Sep 16 14:47:57 2003
+++ clisp-2.31/src/misc.d	Tue Sep 16 14:49:06 2003
@@ -585,7 +585,7 @@
   var object arg = popSTACK();
   if (missingp(arg))
     VALUES1(listof(modules_names_to_stack()));
- #if defined(AMIGAOS) || defined(WIN32_NATIVE) || defined(HAVE_DLOPEN)
+ #if defined(DYNAMIC_FFI) && (defined(AMIGAOS) || defined(WIN32_NATIVE) || defined(HAVE_DLOPEN))
   else if (eq(arg,Fixnum_0))
     {pushSTACK(O(foreign_libraries)); funcall(L(copy_tree),1);}
  #endif
Only in clisp-2.31/src: misc.d~
