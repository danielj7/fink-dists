Package: git
Version: 1.6.3.2
Revision: 1
# git-svn requires error-pm and term-readkey-pm
Depends: <<
  libcurl4-shlibs (>= 7.16.1), expat1-shlibs, libiconv, perl588-core,
  error-pm, term-readkey-pm588
<<
BuildDepends: system-openssl-dev, libcurl4 (>= 7.16.1), libssh2.1, expat1, libiconv-dev, fink (>= 0.24.12)
Replaces: git-core
Source: http://www.kernel.org/pub/software/scm/%n/%n-%v.tar.bz2
Source-MD5: 149948ff33fb7d8cf9eef925e6c08157
Source2: http://www.kernel.org/pub/software/scm/%n/%n-htmldocs-%v.tar.bz2
Source2-MD5: e83e19735ebc187b870b00a05b93f514
Source2ExtractDir: doc
Source3: http://www.kernel.org/pub/software/scm/%n/%n-manpages-%v.tar.bz2
Source3-MD5: 2fb5ba5cabe0057470d577d2d4ff4816

PatchFile: %n.patch
PatchFile-MD5: 880da377a7a4a1cfb2ec53294077012c
PatchScript: <<
	%{default_script}
	sed -i.bak -e 's|%%p|%p|g' Makefile perl/Makefile
<<
CompileScript: NO_FINK=1 NO_DARWIN_PORTS=1 make TCLTK_PATH=/usr/bin/wish prefix=%p
InstallScript: <<
  sed -i.bak -e '1s,.*,#!/usr/bin/env perl5.8.8,' git-svn
  NO_FINK=1 NO_DARWIN_PORTS=1 make DESTDIR=%d prefix=%p install
  mkdir -p %i/share/man %i/share/doc
  cp -R ../man* %i/share/man
  cp -R ../doc %i/share/doc/%n
  mkdir -p %i/share/emacs/site-lisp
  cp contrib/emacs/*.el %i/share/emacs/site-lisp
<<
UpdatePOD: true
DocFiles: COPYING README

SplitOff: <<
  Package: git-cvsimport
  Description: Tool to import a CVS repository into git
  Depends: %N (=%v-%r), cvsps
  Files: <<
    lib/git/%n
    share/doc/%N/%n.html
    share/man/man1/%n.1
  <<
  DocFiles: COPYING
<<

SplitOff2: <<
  Package: git-archimport
  Description: Tool to import an arch repository into git
  # Should probably depend on arch when that gets packaged
  Depends: %N (=%v-%r), string-shellquote-pm
  Files: <<
    lib/git/%n
    share/doc/%N/%n.html
    share/man/man1/%n.1
  <<
  DocFiles: COPYING
<<

SplitOff3: <<
  Package: git-svn
  Description: Tool to let git use subversion repositories
  Depends: %N (=%v-%r), svn-swig-pm588, libwww-pm588
  Files: <<
    lib/git/%n
    share/doc/%N/%n.html
    share/man/man1/%n.1
  <<
  DocFiles: COPYING
<<

Description: Distributed version control system
DescDetail: <<
Git is an open source, distributed version control system designed to
handle everything from small to very large projects with speed and
efficiency.

Every Git clone is a full-fledged repository with complete history and
full revision tracking capabilities, not dependent on network access or
a central server. Branching and merging are fast and easy to do.
<<
License: GPL
Homepage: http://git-scm.com/
Maintainer: Brendan Cully <brendan@finkproject.org>
