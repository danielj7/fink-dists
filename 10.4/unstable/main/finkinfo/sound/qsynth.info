Package: qsynth
Version: 0.3.4
Revision: 3
###
BuildDepends: <<
pkgconfig, jack (>=0.116.0-2), jack-dev (>=0.116.0-2), fluidsynth-dev (>=1.0.9-169),  qt4-mac (>=4.5.0-3), libicns1-bin (>=0.6.2-1), fink (>= 0.24.12-1)
<<
Depends: fluidsynth-shlibs (>=1.0.9-169), qt4-mac-core-shlibs, qt4-mac-gui-shlibs
###
Source: http://downloads.sourceforge.net/qsynth/%n-%v.tar.gz
Source-md5: 800ab77b59c947bd8f1c8bb10545a59d
PatchFile: %n.patch
PatchFile-MD5: 677e58a3e22e0c281a23082131de5806
###
SetLDFLAGS: -L%p/lib -lfluidsynth
ConfigureParams: --with-qt=%p/lib/qt4-mac LDFLAGS="-L%p/lib" CPPFLAGS="-I%p/include"
###
GCC: 4.0
###
CompileScript: <<
#!/bin/sh -ev
 ./configure %c
  make
  cd %b/%n.app/Contents/Resources
  png2icns qsynth.icns %b/icons/qsynth.png
  /usr/bin/defaults write %b/%n.app/Contents/Info CFBundleIconFile qsynth.icns
  #/usr/libexec/PlistBuddy -c 'Set :CFBundleIconFile "qsynth.icns"' %b/%n.app/Contents/Info.plist
  /bin/chmod a+r %b/%n.app/Contents/Info.plist
  rm %b/%n.app/Contents/Resources/empty.lproj
<<
###
InstallScript: echo
###
AppBundles: %n.app
###
DocFiles: COPYING README README-OSX
###
HomePage: http://qsynth.sourceforge.net/qsynth-index.html
License: GPL
###
Description: Fluidsynth GUI front-end application
DescDetail: <<
Qsynth is a fluidsynth GUI front-end application 
written in C++ around the Qt4 toolkit using Qt 
Designer. Eventually it may evolve into a softsynth 
management application allowing the user to control 
and manage a variety of command line softsynths but 
for the moment it wraps the excellent FluidSynth  
<<
DescPackaging: <<
PlistBuddy is only available on 10.5 and 10.6, so switch to defaults instead.
However, defaults might be deprecated in future OS versions, so leave
the (commented out) PlistBuddy in InstallScript.
<<
###
Maintainer: Ebrahim Mayat <emayat@users.sourceforge.net>

