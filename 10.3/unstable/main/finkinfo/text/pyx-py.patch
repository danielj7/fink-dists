--- PyX-0.7/setup.cfg.orig	Mon Nov 15 17:29:48 2004
+++ PyX-0.7/setup.cfg	Mon Nov 15 17:32:16 2004
@@ -2,11 +2,11 @@
 # In this section you can specify which c extension modules should be built
 
 # C extension module for partial font downloading
-build_t1strip=0
+build_t1strip=1
 
 # Python bindings for the kpathsea library. You need the kpathsea header
 # and library and you may need to specify their location below.
-build_pykpathsea=0
+build_pykpathsea=1
 
 [build_ext]
 # additional include and library directories:
@@ -14,5 +14,5 @@
 #   the pykpathsea extention module and libkpathsea is not installed in
 #   the default search paths of your compiler and linker
 
-# include_dirs=
-# library_dirs=
+include_dirs=@PREFIX@/include
+library_dirs=@PREFIX@/lib
--- PyX-0.7/setup.py.orig	Mon Nov 15 17:30:04 2004
+++ PyX-0.7/setup.py	Mon Nov 22 12:00:11 2004
@@ -41,7 +41,7 @@
 #
 
 data_files = [# share/pyx is taken relative to "setup.py install --home=..."
-              ("share/pyx", ["pyx/lfs/10pt.lfs",
+              ("share/pyx-py@PYTHON_FLAVOR@", ["pyx/lfs/10pt.lfs",
                              "pyx/lfs/11pt.lfs",
                              "pyx/lfs/12pt.lfs",
                              "pyx/lfs/10ptex.lfs",
@@ -53,7 +53,7 @@
                              "pyx/lfs/foils30pt.lfs",
                              "contrib/pyx.def"]),
               # /etc is taken relative to "setup.py install --root=..."
-              ("/etc", ["pyxrc"])]
+              ("etc", ["pyxrc"])]
 
 #
 # pyx_build_py
@@ -95,8 +95,8 @@
 
     def run(self):
         install_data.run(self)
-        self.pyx_lfsdir = self.pyx_sharedir = os.path.join(self.install_dir, "share", "pyx")
-        self.pyx_pyxrc = os.path.join(self.root or "/", "etc", "pyxrc")
+        self.pyx_lfsdir = self.pyx_sharedir = os.path.join("@PREFIX@", "share", "pyx-py@PYTHON_FLAVOR@")
+        self.pyx_pyxrc = os.path.join("@PREFIX@", "etc", "pyxrc")
 
 #
 # additional package metadata (only available in Python 2.3 and above)
--- PyX-0.7/pyx/tex.py.orig	Mon Nov 15 17:30:29 2004
+++ PyX-0.7/pyx/tex.py	Mon Nov 15 17:35:46 2004
@@ -1031,7 +1031,7 @@
         except IOError:
             try:
                 try:
-                    SysLfsName = os.path.join(sys.prefix, "share", "pyx", str(lfs) + ".lfs")
+                    SysLfsName = os.path.join(sys.prefix, "share", "pyx-py@PYTHON_FLAVOR@", str(lfs) + ".lfs")
                     lfsdef = open(SysLfsName, "r").read()
                 except IOError:
                     SysLfsName = os.path.join(os.path.dirname(__file__), "lfs", str(lfs) + ".lfs")
@@ -1040,7 +1040,7 @@
                 files = map(lambda x: x[:-4],
                             filter(lambda x: x[-4:] == ".lfs",
                                    os.listdir(".") +
-                                   os.listdir(os.path.join(sys.prefix, "share", "pyx")),
+                                   os.listdir(os.path.join(sys.prefix, "share", "pyx-py@PYTHON_FLAVOR@")),
                                    os.listdir(os.path.join(os.path.dirname(__file__), "lfs"))))
                 raise IOError("file '%s.lfs' not found. Available latex font sizes:\n%s" % (lfs, files))
         self.define(lfsdef)
