Package: libmusicbrainz4.3
Version: 4.0.0
Revision: 1
BuildDependsOnly: True
Description: Library for accessing musicbrainz database
License: LGPL
### free to update and take over
Maintainer: Hanspeter Niederstrasser <nieder@users.sourceforge.net>

Depends: %N-shlibs (>= %v-%r)
BuildDepends: <<
	cmake,
	neon27
<<
Conflicts: libmusicbrainz4, libmusicbrainz3.6, libmusicbrainz4.3
Replaces: libmusicbrainz4, libmusicbrainz3.6, libmusicbrainz4.3
GCC: 4.0

CustomMirror: <<
	primary: http://ftp.musicbrainz.org/pub/musicbrainz/
<<
Source: mirror:custom:libmusicbrainz-%v.tar.gz
SourceDirectory: libmusicbrainz-%v
Source-MD5: 21c33f5dd20b8bb945b800e2a964f27e
Source-Checksum: SHA1(3f567f5d4b0d13789f13d9d87535d8d9f244924b)

CompileScript: <<
	#!/bin/sh -ev
	cmake \
		-DCMAKE_VERBOSE_MAKEFILE=ON \
		-DCMAKE_COLOR_MAKEFILE=ON \
		-DCMAKE_BUILD_TYPE=Release \
		-DCMAKE_INSTALL_PREFIX=%p \
		-DCMAKE_INSTALL_NAME_DIR=%p/lib \
		-DNEON_LIBRARIES=%p/lib/libneon.dylib \
	.
	make
<<
InstallScript: <<
	make install DESTDIR=%d
<<
DocFiles: AUTHORS.txt COPYING.txt INSTALL.txt NEWS.txt README.txt
SplitOff: <<
	Package: %N-shlibs
	Description: Shared libraries for musicbrainz4
	Depends: neon27-shlibs
	Files: lib/libmusicbrainz4.*.dylib
	Shlibs: %p/lib/libmusicbrainz4.3.dylib 3.0.0 %n (>= 4.0.0-1)
	DocFiles: AUTHORS.txt COPYING.txt INSTALL.txt NEWS.txt README.txt
<<
Homepage: http://www.musicbrainz.org/
DescDetail: <<
MusicBrainz is a community music metadatabase that attempts to create a
comprehensive music information site.
<<

