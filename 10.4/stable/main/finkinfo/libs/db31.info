# DISCLAIMER: Max Horn is the sole maintainer of this package.
# Please DO NOT MAKE MODIFICATIONS without informing the maintainer.
# Preferably, send a patch to me instead of making changes yourself!
# If that is not possible due to extra urgency, at least send me a mail.
#
# Explanation: I am sick and tired of getting back to my packages and
# discovering that people have messed with it. I am then forced to
# retrace their steps, find out who, when and why did make a certain
# change etc. -- i.e. it makes my life as maintainer harder.
# Furthermore, as maintainer I am responsible for problems caused by my
# packages. But I am not willing to take responsibility for something I
# did not do. In particular, for changes that other people introduced
# behind my back, no matter how good and noble their intentions were. As
# such, I may see myself forced to drop responsibility for (and hence,
# maintainership of) the affected package.

Package: db31
Version: 3.1.17
Revision: 9
Maintainer: Max Horn <max@quendi.de>
BuildDependsOnly: true
NoSetLDFlags: true
NoSetCPPFlags: true
SetCFlags: -Os
SetCXXFlags: -Os
ConfigureParams: --includedir=%p/include/db3
CustomMirror: <<
nam-US: http://download-east.oracle.com/berkeley-db/
nam-US: http://download-west.oracle.com/berkeley-db/
eur-UK: http://download-uk.oracle.com/berkeley-db/
<<
Source: mirror:custom:db-%v.tar.gz
Source-MD5: 5baeb94fb934d0bf783ea42117c400be
CompileScript: <<
 (cd build_unix;  ../dist/configure %c)
 (cd build_unix; make PROGS="")
<<
InstallScript: <<
 (cd build_unix; make install_include includedir=%I/include/db3)
 (cd build_unix; make install_static prefix=%I)
 mkdir -p %i/lib/db31
 mv %i/lib/libdb.a %i/lib/db31/libdb.a
 mv %i/include/db3 %i/include/db31
<<
DocFiles: LICENSE README
Description: Berkeley DB embedded database
DescPackaging: <<
This package only contains static libs, and it not seperated into splitoffs.
Also it makes sure to name the library and the include dir differently from
the regular db3 package. That is so because this package is only meant to be
a build time dependency for Evolution, which depends on this specific version
of db, and it is not to be used for anything else.
<<
Homepage: http://www.oracle.com/database/berkeley-db/index.html
License: OSI-Approved
