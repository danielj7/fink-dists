Package: libbabl0.0.0-shlibs
Version: 0.0.20
Revision: 1

Source: ftp://ftp.gtk.org/pub/babl/0.0/babl-%v.tar.bz2
Source-MD5: dbf67b333b0812dfe0d0f057864b0f9a

BuildDepends: <<
	autoconf (>= 2.60),
	automake1.9,
	libtool14,
	fink (>= 0.28.0-1)
<<

PatchFile: %n.patch
PatchFile-MD5: 7b96873aaefe4f422d1d4853a5a90955

ConfigureParams: --disable-dependency-tracking --enable-static
CompileScript: <<
	autoreconf -f -i
	ac_cv_path_INKSCAPE=no ac_cv_path_W3M=no ./configure %c
	make
<<
InstallScript: make install DESTDIR=%d
DocFiles: AUTHORS COPYING* ChangeLog NEWS README

Shlibs: %p/lib/libbabl-0.0.0.dylib 21.0.0 %n (>= 0.0.20-1)

SplitOff: <<
	Package: libbabl0.0.0-dev
	Depends: %N (= %v-%r)
	BuildDependsOnly: true
	Files: <<
		include
		lib/libbabl-0.0.{a,dylib,la}
		lib/pkgconfig
	<<
	DocFiles: AUTHORS COPYING* ChangeLog NEWS README
<<

DescPort: <<
	Libtool the hell out of this thing so we don't need to
	special-case and other platform-based guessing games. See:
	http://bugzilla.gnome.org/show_bug.cgi?id=506159
	http://bugzilla.gnome.org/show_bug.cgi?id=519610

	Need to clean up -I flag usage. See:
	http://bugzilla.gnome.org/show_bug.cgi?id=519794

	Remove un-needed -ldl. See:
	http://bugzilla.gnome.org/show_bug.cgi?id=519796
<<
DescPackaging: <<
	Uses a subdir for the plugin interface version (of which
	the lib itself has an interface subversion), so put the
	plugins in a separate package. Not ideal to have the
	plugins:Depends:shlibs (seems bad if libbabl0.0.1 loads
	babl-0.0 plugins linked against libbabl0.0.0), but otherwise
	consumers need to know to Depends on the plugins package.
	Upstream does some pretty convoluted versioning, so we'll
	just keep everything in -shlibs until it ceases to work.
<<
Description: Any-to-any graphics-buffer conversion lib
License: LGPL
Homepage: http://www.gegl.org/babl
Maintainer: Daniel Macks <dmacks@netspace.org>
