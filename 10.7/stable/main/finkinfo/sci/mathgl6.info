Package: mathgl6
Version: 2.0
Revision: 3
Depends: %N-shlibs (= %v-%r)
BuildDepends: gcc46, gsl (>= 1.12-1), libpng15, giflib, libjpeg8
BuildDependsOnly: true
Conflicts: mathgl
Replaces: mathgl
Source: mirror:sourceforge:mathgl/mathgl-%v.tar.gz
Source-MD5: 857447e97af1a909e53a7fa72f243157
#PatchScript: perl -pi -e 's/<png.h>/<png.h>\n#include <zlib.h>/' mgl/mgl_data_png.cpp
GCC: 4.0
##SetLDFLAGS: -L%p/lib -lz
SetCXXFLAGS: -Os -I../include
SetCPPFLAGS: -I../include
SetCFLAGS: -I../include
SetCXX: %p/bin/g++-4
ConfigureParams: --mandir=%p/share/man --enable-dependency-tracking --enable-gif --enable-jpeg
CompileScript: cmake . -DCMAKE_INSTALL_PREFIX=%p && make
InstallScript: <<
 make install DESTDIR=%d ##&& cp -pR %d/usr/local/* %d/%p/ && rm -rf %d/usr ## && for bla in "$(ls %i/lib/*.dylib)"; do install_name_tool -add_rpath %p/lib $bla; done
 install_name_tool -id %p/lib/libmgl-wnd.6.0.0.dylib %i/lib/libmgl-wnd.6.0.0.dylib
 install_name_tool -id %p/lib/libmgl.6.0.0.dylib %i/lib/libmgl.6.0.0.dylib
<<
DocFiles: AUTHORS COPY* ChangeLog* README*
Splitoff: <<
  Package: %N-shlibs
  Depends: gcc46-shlibs, gsl-shlibs (>= 1.12-1), libpng15-shlibs, giflib-shlibs, libjpeg8-shlibs
  Files: <<
    lib/libmgl.6*dylib
    lib/libmgl-wnd.6*dylib
    share/mathgl/fonts
  <<
  Shlibs: <<
    %p/lib/libmgl.6.0.0.dylib 6.0.0 %n (>= 2.0-1)
    %p/lib/libmgl-wnd.6.0.0.dylib 6.0.0 %n (>= 2.0-1)
  <<
  DocFiles: COPYING
<<
Splitoff2: <<
	Package: %N-bin
	Depends: %N-shlibs (>= %v-%r)
	Files: bin
	DocFiles: COPYING
<<
License: GPL
Homepage: http://mathgl.sourceforge.net
Maintainer: Jack Fink <jackfink@users.sourceforge.net>
Description: Library for scientific graphics