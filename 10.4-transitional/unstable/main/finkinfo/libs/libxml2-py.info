Info2: <<
Package: libxml2-py%type_pkg[python]
Version: 2.6.22
Revision: 1
Maintainer: Daniel Macks <dmacks@netspace.org>
Type: python (2.3 2.4)
Depends: libxml2-shlibs (>= %v-1), libiconv, python%type_pkg[python]
BuildDepends: libxml2 (>= %v-1), libiconv-dev, pkgconfig
Source: mirror:gnome:sources/libxml2/2.6/libxml2-%v.tar.bz2
Source-MD5: 5bf7e6bc7164ae0f5a6cc5ff693a4180
PatchScript: <<
  cp python/tests/Makefile.am python/tests/Makefile
  patch -p1 < %a/%{ni}.patch
<<
CompileScript: <<
  #!/bin/sh -ev
  CPPFLAGS="`%p/bin/pkg-config --cflags libxml-2.0` $CPPFLAGS"
  LDFLAGS="`%p/bin/pkg-config --libs libxml-2.0` $LDFLAGS"
  export PYTHON=%p/bin/python%type_raw[python]
  cd python
  $PYTHON setup.py build
  cd tests && make tests PYTHONPATH="`%p/bin/python%type_raw[python] -c 'import sys;from distutils.util import get_platform; print "../build/lib.%%s-%%s" %% (get_platform(), sys.version[0:3])'`:$PYTHONPATH"

<<
InstallScript: <<
  #!/bin/sh -ev
  cd python
  %p/bin/python%type_raw[python] setup.py install --root %d
<<
DocFiles: AUTHORS Copyright NEWS README python/README:README.py-bindings TODO python/TODO:TODO.py-bindings
Description: Python bindings for libxml2 library
DescPort: <<
  We only need to build the python stuff and link against an
  already-installed lib that comes from the top-level build, so don't
  bother doing the top-level build. By using the python-standard
  package script setup.py we don't even need the python/ autoconf
  stuff so we can skip ./configure completely. To get tests, hack the
  relevant parts of the Makefile.am template into a proper Makefile.

  Fix tests target so that it gives cleaner feedback and propagates
  failures correctly to the caller's shell.

  build-lib path determination based on python2.4 distutils/command/build.py

  Uses deprecated xmllib instead of xml.sax. See:
  http://bugzilla.gnome.org/show_bug.cgi?id=340764
<<
License: LGPL
Homepage: http://www.xmlsoft.org/
<<
