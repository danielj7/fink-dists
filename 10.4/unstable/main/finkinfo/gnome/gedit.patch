diff -Nurd -x'*~' gedit-2.24.3.orig/configure gedit-2.24.3/configure
--- gedit-2.24.3.orig/configure	2009-01-10 12:45:16.000000000 -0500
+++ gedit-2.24.3/configure	2009-01-12 02:04:12.000000000 -0500
@@ -24448,7 +24448,7 @@
 	SM_LIBS="${EGG_SMCLIENT_LIBS}"
 else
 	EGG_SMCLIENT_CFLAGS=
-	EGG_SM_CLIENT_LIBS=
+	EGG_SMCLIENT_LIBS=-lSM
 fi
 
 
diff -Nurd -x'*~' gedit-2.24.3.orig/gedit/gedit-python-module.c gedit-2.24.3/gedit/gedit-python-module.c
--- gedit-2.24.3.orig/gedit/gedit-python-module.c	2009-01-07 10:39:41.000000000 -0500
+++ gedit-2.24.3/gedit/gedit-python-module.c	2009-01-12 02:05:17.000000000 -0500
@@ -25,6 +25,8 @@
 #endif
 
 #include <Python.h>
+#undef NO_IMPORT_PYGOBJECT
+#undef NO_IMPORT_PYGTK
 #include <pygobject.h>
 #include <pygtk/pygtk.h>
 
diff -Nurd -x'*~' gedit-2.24.3.orig/gedit/gedit.c gedit-2.24.3/gedit/gedit.c
--- gedit-2.24.3.orig/gedit/gedit.c	2009-01-07 10:39:41.000000000 -0500
+++ gedit-2.24.3/gedit/gedit.c	2009-01-13 02:18:03.000000000 -0500
@@ -531,9 +531,7 @@
 					   GEDIT_ICONDIR);
 
 	/* Set the associated .desktop file */
-#ifndef PLATFORM_OSX
 	egg_set_desktop_file (DATADIR "/applications/gedit.desktop");
-#endif
 
 	/* Load user preferences */
 	gedit_debug_message (DEBUG_APP, "Init prefs manager");
diff -Nurd -x'*~' gedit-2.24.3.orig/gedit/smclient/Makefile.in gedit-2.24.3/gedit/smclient/Makefile.in
--- gedit-2.24.3.orig/gedit/smclient/Makefile.in	2009-01-10 12:45:17.000000000 -0500
+++ gedit-2.24.3/gedit/smclient/Makefile.in	2009-01-12 02:52:32.000000000 -0500
@@ -275,7 +275,7 @@
 @PLATFORM_OSX_FALSE@@PLATFORM_WIN32_FALSE@platform_defines = -DEGG_SM_CLIENT_BACKEND_XSMP
 @PLATFORM_OSX_TRUE@@PLATFORM_WIN32_FALSE@platform_defines = -xobjective-c
 @PLATFORM_OSX_TRUE@@PLATFORM_WIN32_FALSE@platform_ldflags = -framework Carbon
-@PLATFORM_OSX_FALSE@@PLATFORM_WIN32_FALSE@platform_libs = libeggdesktopfile.la -lSM -lICE
+@PLATFORM_OSX_FALSE@@PLATFORM_WIN32_FALSE@platform_libs = libeggdesktopfile.la
 @PLATFORM_OSX_FALSE@@PLATFORM_WIN32_FALSE@platform_ltlibraries = libeggdesktopfile.la
 INCLUDES = \
 	-DG_LOG_DOMAIN=\""EggSMClient"\" \
