diff -ru openssl-0.9.7c/Makefile openssl-0.9.7c-patched/Makefile
--- openssl-0.9.7c/Makefile	2003-09-30 14:38:13.000000000 +0200
+++ openssl-0.9.7c-patched/Makefile	2004-01-12 00:33:53.000000000 +0100
@@ -303,7 +303,7 @@
 	fi; \
 	( set -x; ${CC} --verbose -dynamiclib -o lib$$i${SHLIB_EXT} \
 		lib$$i.a $$libs -all_load -current_version ${SHLIB_MAJOR}.${SHLIB_MINOR} \
-		-compatibility_version ${SHLIB_MAJOR}.`echo ${SHLIB_MINOR} | cut -d. -f1` \
+		-compatibility_version ${SHLIB_MAJOR}.${SHLIB_MINOR} \
 		-install_name ${INSTALLTOP}/lib/lib$$i${SHLIB_EXT} ) || exit 1; \
 	libs="-l`basename $$i${SHLIB_EXT} .dylib` $$libs"; \
 	echo "" ; \
@@ -834,7 +834,7 @@
 		fi; \
 	fi
 	cp openssl.pc $(INSTALL_PREFIX)$(INSTALLTOP)/lib/pkgconfig
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/lib/pkgconfig
+	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/lib/pkgconfig/openssl.pc
 
 install_docs:
 	@$(PERL) $(TOP)/util/mkdir-p.pl \
diff -ru openssl-0.9.7c/Makefile.org openssl-0.9.7c-patched/Makefile.org
--- openssl-0.9.7c/Makefile.org	2003-08-11 11:37:17.000000000 +0200
+++ openssl-0.9.7c-patched/Makefile.org	2004-01-12 00:33:54.000000000 +0100
@@ -301,7 +301,7 @@
 	fi; \
 	( set -x; ${CC} --verbose -dynamiclib -o lib$$i${SHLIB_EXT} \
 		lib$$i.a $$libs -all_load -current_version ${SHLIB_MAJOR}.${SHLIB_MINOR} \
-		-compatibility_version ${SHLIB_MAJOR}.`echo ${SHLIB_MINOR} | cut -d. -f1` \
+		-compatibility_version ${SHLIB_MAJOR}.${SHLIB_MINOR} \
 		-install_name ${INSTALLTOP}/lib/lib$$i${SHLIB_EXT} ) || exit 1; \
 	libs="-l`basename $$i${SHLIB_EXT} .dylib` $$libs"; \
 	echo "" ; \
@@ -832,7 +832,7 @@
 		fi; \
 	fi
 	cp openssl.pc $(INSTALL_PREFIX)$(INSTALLTOP)/lib/pkgconfig
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/lib/pkgconfig
+	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/lib/pkgconfig/openssl.pc
 
 install_docs:
 	@$(PERL) $(TOP)/util/mkdir-p.pl \
@@ -842,10 +842,7 @@
 		$(INSTALL_PREFIX)$(MANDIR)/man7
 	@pod2man="`cd util; ./pod2mantest $(PERL)`"; \
 	here="`pwd`"; \
-	filecase=; \
-	if [ "$(PLATFORM)" = "DJGPP" -o "$(PLATFORM)" = "Cygwin" ]; then \
-		filecase=-i; \
-	fi; \
+	filecase=-i; \
 	for i in doc/apps/*.pod; do \
 		fn=`basename $$i .pod`; \
 		if [ "$$fn" = "config" ]; then sec=5; else sec=1; fi; \
diff -ru openssl-0.9.7c/Makefile.ssl openssl-0.9.7c-patched/Makefile.ssl
--- openssl-0.9.7c/Makefile.ssl	2003-09-30 14:38:13.000000000 +0200
+++ openssl-0.9.7c-patched/Makefile.ssl	2004-01-12 00:33:54.000000000 +0100
@@ -303,7 +303,7 @@
 	fi; \
 	( set -x; ${CC} --verbose -dynamiclib -o lib$$i${SHLIB_EXT} \
 		lib$$i.a $$libs -all_load -current_version ${SHLIB_MAJOR}.${SHLIB_MINOR} \
-		-compatibility_version ${SHLIB_MAJOR}.`echo ${SHLIB_MINOR} | cut -d. -f1` \
+		-compatibility_version ${SHLIB_MAJOR}.${SHLIB_MINOR} \
 		-install_name ${INSTALLTOP}/lib/lib$$i${SHLIB_EXT} ) || exit 1; \
 	libs="-l`basename $$i${SHLIB_EXT} .dylib` $$libs"; \
 	echo "" ; \
@@ -834,7 +834,7 @@
 		fi; \
 	fi
 	cp openssl.pc $(INSTALL_PREFIX)$(INSTALLTOP)/lib/pkgconfig
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/lib/pkgconfig
+	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/lib/pkgconfig/openssl.pc
 
 install_docs:
 	@$(PERL) $(TOP)/util/mkdir-p.pl \
@@ -844,10 +844,7 @@
 		$(INSTALL_PREFIX)$(MANDIR)/man7
 	@pod2man="`cd util; ./pod2mantest $(PERL)`"; \
 	here="`pwd`"; \
-	filecase=; \
-	if [ "$(PLATFORM)" = "DJGPP" -o "$(PLATFORM)" = "Cygwin" ]; then \
-		filecase=-i; \
-	fi; \
+	filecase=-i; \
 	for i in doc/apps/*.pod; do \
 		fn=`basename $$i .pod`; \
 		if [ "$$fn" = "config" ]; then sec=5; else sec=1; fi; \
diff -ru openssl-0.9.7c/apps/Makefile openssl-0.9.7c-patched/apps/Makefile
--- openssl-0.9.7c/apps/Makefile	2003-08-14 08:54:28.000000000 +0200
+++ openssl-0.9.7c-patched/apps/Makefile	2004-01-12 00:30:09.000000000 +0100
@@ -32,8 +32,8 @@
 
 DLIBCRYPTO=../libcrypto.a
 DLIBSSL=../libssl.a
-LIBCRYPTO=-L.. -lcrypto
-LIBSSL=-L.. -lssl
+LIBCRYPTO=$(DLIBCRYPTO)
+LIBSSL=$(DLIBSSL)
 
 PROGRAM= openssl
 
diff -ru openssl-0.9.7c/apps/Makefile.ssl openssl-0.9.7c-patched/apps/Makefile.ssl
--- openssl-0.9.7c/apps/Makefile.ssl	2003-08-14 08:54:28.000000000 +0200
+++ openssl-0.9.7c-patched/apps/Makefile.ssl	2004-01-12 00:30:09.000000000 +0100
@@ -32,8 +32,8 @@
 
 DLIBCRYPTO=../libcrypto.a
 DLIBSSL=../libssl.a
-LIBCRYPTO=-L.. -lcrypto
-LIBSSL=-L.. -lssl
+LIBCRYPTO=$(DLIBCRYPTO)
+LIBSSL=$(DLIBSSL)
 
 PROGRAM= openssl
 
