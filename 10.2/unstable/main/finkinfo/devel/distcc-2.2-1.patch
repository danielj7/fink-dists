diff -uNbr distcc-2.2/src/dparent.c distcc-2.2-new/src/dparent.c
--- distcc-2.2/src/dparent.c	Mon May  5 02:10:50 2003
+++ distcc-2.2-new/src/dparent.c	Mon May  5 22:52:36 2003
@@ -70,6 +70,7 @@
 #include "exec.h"
 #include "tempfile.h"
 #include "srvnet.h"
+#include "types.h"
 
 #ifndef WAIT_ANY
 #  define WAIT_ANY (-1)
diff -uNbr distcc-2.2/src/ncpus.c distcc-2.2-new/src/ncpus.c
--- distcc-2.2/src/ncpus.c	Fri Mar 21 02:58:48 2003
+++ distcc-2.2-new/src/ncpus.c	Mon May  5 22:50:02 2003
@@ -64,7 +64,7 @@
 }
 
 
-#elif defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__NetBSD__)
+#elif defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__NetBSD__) || defined(__APPLE__)
 
 /* http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=3&manpath=FreeBSD+4.6-stable
    http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&sektion=3&manpath=OpenBSD+Current
