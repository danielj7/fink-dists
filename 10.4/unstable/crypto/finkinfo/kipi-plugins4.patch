diff -Nurd kipi-plugins-0.2.0/CMakeLists.txt kipi-plugins-0.2.0-new/CMakeLists.txt
--- kipi-plugins-0.2.0/CMakeLists.txt	2009-03-17 04:59:48.000000000 -0400
+++ kipi-plugins-0.2.0-new/CMakeLists.txt	2009-04-16 21:45:10.000000000 -0400
@@ -57,11 +57,9 @@
 MACRO_OPTIONAL_FIND_PACKAGE(GObject)    # For ipodexport.
 MACRO_OPTIONAL_FIND_PACKAGE(KdepimLibs) # For Calendar (libkcal).
 
-# LINUX Only.
-IF(NOT WIN32 AND NOT APPLE)
+IF(NOT WIN32)
     MACRO_OPTIONAL_FIND_PACKAGE(Sane)  # For AcquireImages.
-    MACRO_OPTIONAL_FIND_PACKAGE(X11)   # For AdvancedSlideshow and ImageViewer.
-ENDIF(NOT WIN32 AND NOT APPLE)
+ENDIF(NOT WIN32)
 
 IF(NOT WIN32)
     # Check KDcraw version installed to compile fine DngConverter plugin.
@@ -78,15 +76,14 @@
 
 INCLUDE(MacroOptionalDependPackage)
 
-# LINUX Only.
-IF(NOT WIN32 AND NOT APPLE)
+IF(NOT WIN32)
     MACRO_OPTIONAL_DEPEND_PACKAGE(KSane "ksane")
         IF(DEPEND_PACKAGE_KSane)
         MACRO_OPTIONAL_FIND_PACKAGE(KSane)   # For AcquireImages
     ELSE(DEPEND_PACKAGE_KSane)
         SET(KSANE_FOUND FALSE)
     ENDIF(DEPEND_PACKAGE_KSane)
-ENDIF(NOT WIN32 AND NOT APPLE)
+ENDIF(NOT WIN32)
 
 # ==================================================================================================
 # Log messages
@@ -215,7 +212,7 @@
 ENDIF(KDEPIMLIBS_FOUND)
 
 # LINUX Only.
-IF(NOT WIN32 AND NOT APPLE)
+IF(NOT WIN32)
     IF(X11_FOUND AND X11_Xrandr_FOUND)
         MESSAGE(STATUS " libX11 library found................ YES (optional)")
     ELSE(X11_FOUND AND X11_Xrandr_FOUND)
@@ -227,7 +224,7 @@
     ELSE(KSANE_FOUND)
         MESSAGE(STATUS " libksane library found.............. NO  (optional)")
     ENDIF(KSANE_FOUND)
-ENDIF(NOT WIN32 AND NOT APPLE)
+ENDIF(NOT WIN32)
 
 # Optional plugins results ----------------------------------------------------------------------------
 
@@ -247,7 +244,7 @@
     MESSAGE(STATUS " HtmlExport will be compiled......... NO  (optional - Look README file for more details about dependencies)")
 ENDIF(LIBXML2_FOUND AND LIBXSLT_FOUND)
 
-IF(NOT WIN32 AND NOT APPLE)
+IF(NOT WIN32)
 
     IF(X11_FOUND AND X11_Xrandr_FOUND AND OPENGL_FOUND AND OPENGL_GLU_FOUND)
         MESSAGE(STATUS " AdvancedSlideshow will be compiled.. YES (optional)")
@@ -263,7 +260,7 @@
         MESSAGE(STATUS " AcquireImages will be compiled...... NO  (optional - Look README file for more details about dependencies)")
     ENDIF(SANE_FOUND AND KSANE_FOUND)
 
-ELSE(NOT WIN32 AND NOT APPLE)
+ELSE(NOT WIN32)
 
     IF(OPENGL_FOUND AND OPENGL_GLU_FOUND)
         MESSAGE(STATUS " AdvancedSlideshow will be compiled.. YES (optional)")
@@ -273,7 +270,7 @@
         MESSAGE(STATUS " ImageViewer will be compiled........ NO  (optional - Look README file for more details about dependencies)")
     ENDIF(OPENGL_FOUND AND OPENGL_GLU_FOUND)
 
-ENDIF(NOT WIN32 AND NOT APPLE)
+ENDIF(NOT WIN32)
 
 IF(EXPAT_FOUND AND KDCRAW_FOR_DNGCONVERTER)
     MESSAGE(STATUS " DNGConverter will be compiled....... YES (optional)")
@@ -378,7 +375,7 @@
         ADD_SUBDIRECTORY(htmlexport)
     ENDIF(LIBXML2_FOUND AND LIBXSLT_FOUND)
 
-    IF(NOT WIN32 AND NOT APPLE)
+    IF(Q_WS_X11)
 
         # Plugins which depend on OpenGL
         IF(X11_FOUND AND X11_Xrandr_FOUND AND OPENGL_FOUND AND OPENGL_GLU_FOUND)
@@ -392,7 +389,7 @@
             ADD_SUBDIRECTORY(acquireimages)
         ENDIF(SANE_FOUND AND KSANE_FOUND)
 
-    ELSE(NOT WIN32 AND NOT APPLE)
+    ELSE(Q_WS_X11)
 
         # Plugins which depend on OpenGL
         IF(OPENGL_FOUND AND OPENGL_GLU_FOUND)
@@ -403,7 +400,7 @@
         # Under Windows, this plugin use TWAIN interface
         ADD_SUBDIRECTORY(acquireimages)
 
-    ENDIF(NOT WIN32 AND NOT APPLE)
+    ENDIF(Q_WS_X11)
 
     IF(EXPAT_FOUND AND KDCRAW_FOR_DNGCONVERTER)
         IF(CMAKE_USE_PTHREADS_INIT OR CMAKE_USE_WIN32_THREADS_INIT)
diff -Nurd kipi-plugins-0.2.0/acquireimages/CMakeLists.txt kipi-plugins-0.2.0-new/acquireimages/CMakeLists.txt
--- kipi-plugins-0.2.0/acquireimages/CMakeLists.txt	2009-03-17 04:52:18.000000000 -0400
+++ kipi-plugins-0.2.0-new/acquireimages/CMakeLists.txt	2009-04-16 21:45:10.000000000 -0400
@@ -38,7 +38,7 @@
 
 ELSE(WIN32)
 
-    INCLUDE_DIRECTORIES(${KSANE_INCLUDE_DIR})
+    INCLUDE_DIRECTORIES(${KSANE_INCLUDE_DIR} ${JPEG_INCLUDE_DIR} ${PNG_PNG_INCLUDE_DIR} ${TIFF_INCLUDE_DIR})
 
     SET(kipiplugin_acquireimages_PART_SRCS
         plugin_acquireimages.cpp
diff -Nurd kipi-plugins-0.2.0/advancedslideshow/listsounditems.h kipi-plugins-0.2.0-new/advancedslideshow/listsounditems.h
--- kipi-plugins-0.2.0/advancedslideshow/listsounditems.h	2009-03-17 04:52:27.000000000 -0400
+++ kipi-plugins-0.2.0-new/advancedslideshow/listsounditems.h	2009-04-16 21:45:10.000000000 -0400
@@ -33,7 +33,6 @@
 #include <QListWidgetItem>
 
 // Phonon includes
-#include <Phonon/Global>
 #include <Phonon/MediaObject>
 
 // KDE includes.
diff -Nurd kipi-plugins-0.2.0/advancedslideshow/playbackwidget.h kipi-plugins-0.2.0-new/advancedslideshow/playbackwidget.h
--- kipi-plugins-0.2.0/advancedslideshow/playbackwidget.h	2009-03-17 04:52:27.000000000 -0400
+++ kipi-plugins-0.2.0-new/advancedslideshow/playbackwidget.h	2009-04-16 21:45:10.000000000 -0400
@@ -29,7 +29,6 @@
 // Phonon includes
 #include <Phonon/MediaObject>
 #include <Phonon/AudioOutput>
-#include <Phonon/Global>
 #include <Phonon/VolumeSlider>
 
 // KDE includes.
diff -Nurd kipi-plugins-0.2.0/advancedslideshow/slideshowgl.cpp kipi-plugins-0.2.0-new/advancedslideshow/slideshowgl.cpp
--- kipi-plugins-0.2.0/advancedslideshow/slideshowgl.cpp	2009-03-17 04:52:27.000000000 -0400
+++ kipi-plugins-0.2.0-new/advancedslideshow/slideshowgl.cpp	2009-04-16 21:45:29.000000000 -0400
@@ -211,7 +211,7 @@
     glGetIntegerv(GL_MAX_TEXTURE_SIZE, &maxTexVal);
 
     // allow only maximum texture value of 1024. anything bigger and things slow down
-    maxTexVal = qMin(1024, maxTexVal);
+    maxTexVal = qMin((GLint)1024, maxTexVal);
 
     m_width  = QApplication::desktop()->width();
     m_height = QApplication::desktop()->height();
@@ -219,8 +219,8 @@
     m_width  = 1 << (int)ceil(log((float)m_width) / log((float)2)) ;
     m_height = 1 << (int)ceil(log((float)m_height) / log((float)2));
 
-    m_width  = qMin( maxTexVal, m_width );
-    m_height = qMin( maxTexVal, m_height );
+    m_width  = qMin( maxTexVal, (GLint)m_width );
+    m_height = qMin( maxTexVal, (GLint)m_height );
 
     // load the first image
 
diff -Nurd kipi-plugins-0.2.0/dngconverter/CMakeLists.txt kipi-plugins-0.2.0-new/dngconverter/CMakeLists.txt
--- kipi-plugins-0.2.0/dngconverter/CMakeLists.txt	2009-03-17 04:52:57.000000000 -0400
+++ kipi-plugins-0.2.0-new/dngconverter/CMakeLists.txt	2009-04-16 21:45:10.000000000 -0400
@@ -23,6 +23,9 @@
                    )
 ELSE(WIN32)
     IF(APPLE)
+        INCLUDE_DIRECTORIES(
+                        /System/Library/Frameworks/CoreServices.framework/Frameworks/CarbonCore.framework/Headers
+        )
         ADD_DEFINITIONS(
                         # Set MACOS-X rules.
                         -DMAC_ENV=1
diff -Nurd kipi-plugins-0.2.0/dngconverter/dngwriter/extra/dng_sdk/dng_date_time.cpp kipi-plugins-0.2.0-new/dngconverter/dngwriter/extra/dng_sdk/dng_date_time.cpp
--- kipi-plugins-0.2.0/dngconverter/dngwriter/extra/dng_sdk/dng_date_time.cpp	2009-03-17 04:52:55.000000000 -0400
+++ kipi-plugins-0.2.0-new/dngconverter/dngwriter/extra/dng_sdk/dng_date_time.cpp	2009-04-16 21:45:10.000000000 -0400
@@ -24,7 +24,7 @@
 #include <time.h>
 
 #if qMacOS
-#include <CoreServices/CoreServices.h>
+#include <CoreFoundation/CoreFoundation.h>
 #endif
 
 #if qWinOS
diff -Nurd kipi-plugins-0.2.0/dngconverter/dngwriter/extra/dng_sdk/dng_string.cpp kipi-plugins-0.2.0-new/dngconverter/dngwriter/extra/dng_sdk/dng_string.cpp
--- kipi-plugins-0.2.0/dngconverter/dngwriter/extra/dng_sdk/dng_string.cpp	2009-03-17 04:52:55.000000000 -0400
+++ kipi-plugins-0.2.0-new/dngconverter/dngwriter/extra/dng_sdk/dng_string.cpp	2009-04-16 21:45:10.000000000 -0400
@@ -22,7 +22,8 @@
 #include "dng_utils.h"
 
 #if qMacOS
-#include <CoreServices/CoreServices.h>
+#include <CoreFoundation/CoreFoundation.h>
+#include <CarbonCore.h>
 #endif
 
 #if qWinOS
diff -Nurd kipi-plugins-0.2.0/dngconverter/dngwriter/extra/dng_sdk/dng_utils.cpp kipi-plugins-0.2.0-new/dngconverter/dngwriter/extra/dng_sdk/dng_utils.cpp
--- kipi-plugins-0.2.0/dngconverter/dngwriter/extra/dng_sdk/dng_utils.cpp	2009-03-17 04:52:55.000000000 -0400
+++ kipi-plugins-0.2.0-new/dngconverter/dngwriter/extra/dng_sdk/dng_utils.cpp	2009-04-16 21:45:10.000000000 -0400
@@ -18,7 +18,7 @@
 #include "dng_assertions.h"
 
 #if qMacOS
-#include <CoreServices/CoreServices.h>
+#include <CoreFoundation/CoreFoundation.h>
 #endif
 
 #if qWinOS
diff -Nurd kipi-plugins-0.2.0/dngconverter/test/CMakeLists.txt kipi-plugins-0.2.0-new/dngconverter/test/CMakeLists.txt
--- kipi-plugins-0.2.0/dngconverter/test/CMakeLists.txt	2009-03-17 04:52:45.000000000 -0400
+++ kipi-plugins-0.2.0-new/dngconverter/test/CMakeLists.txt	2009-04-16 21:45:10.000000000 -0400
@@ -27,6 +27,9 @@
                       ${EXPAT_LIBRARY}
                       ${CMAKE_THREAD_LIBS_INIT}
                      )
+IF(APPLE)
+TARGET_LINK_LIBRARIES(dngvalidate "-framework CoreFoundation" "-framework Carbon")
+ENDIF(APPLE)
 
 # =======================================================
 # RAW2DNG command line tool
