Info2: <<
Package: octave3.0.2%type_pkg[-atlas]
Type: -atlas (boolean)
Version: 3.0.2
Revision: 2
Distribution: 10.4, 10.5
Maintainer: Alexander Hansen <akh@finkproject.org>
BuildDependsOnly: false
Source: ftp://ftp.octave.org/pub/octave/octave-%v.tar.bz2
Source-MD5: 931e28ab1181018c8079fb8138971ab0
BuildDepends: glpk-dev, hdf5 (>= 1.6.5-1012), readline5, libncurses5, fftw3 (>= 3.1.1-7), libcurl4, sed, pcre, gcc43, suitesparse ( = 3.1.0-1 ), qhull, fink (>= 0.28)
Depends: glpk-shlibs, gnuplot | gnuplot-nox, readline5-shlibs, fftw3-shlibs (>= 3.1.1-7), hdf5-shlibs (>= 1.6.5-1012), ncurses, libncurses5-shlibs, aquaterm, libcurl4-shlibs, pcre-shlibs, gcc43-shlibs, (%type_raw[-atlas] = -atlas) atlas-shlibs (>= 3.8.1-1)
BuildConflicts: coot-dev, broken-gcc, lammpi-dev, fort77
Suggests: octave-docs
Provides: octave
GCC: 4.0
Conflicts: octave ( << 3.0.1-3 ) , octave-atlas  ( << 3.0.1-3 ) , octave%v, octave%v-atlas
Replaces: octave ( << 3.0.1-3 ) , octave-atlas  ( << 3.0.1-3) , octave%v, octave%v-atlas
ConfigureParams: FLIBS=%p/lib/gcc4.3/lib/libgfortran.dylib F77=%p/bin/gfortran --host=%m-apple-darwin --infodir='${prefix}/share/info' --mandir='${prefix}/share/man' --libexecdir='${prefix}/lib' -enable-shared -enable-dl --disable-static --without-mpi --with-hdf5 --with-fftw
CompileScript: <<
 #!/bin/sh -ev
 export CFLAGS='-O3'
 export CXXFLAGS='-O3'
 export FFLAGS='-O3'
 if [ "%type_pkg[-atlas]" == "" ]
	then a='--with-lapack=-Wl,-framework,Accelerate,-dylib_file,/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libLAPACK.dylib:/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libLAPACK.dylib --with-blas=-Wl,-framework,Accelerate,-dylib_file,/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libBLAS.dylib:/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libBLAS.dylib'
	else a='--with-lapack=%p/lib/liblapack.dylib --with-blas=%p/lib/libf77blas.dylib'
 fi
 ./configure %c $a
 make
<<
InstallScript: <<
 #!/bin/sh -ev
 make install prefix=%i
 mkdir -p %i/share/doc/%n
 cp -R examples %i/share/doc/%n
 cd %i/bin
 perl -pi.bak -e 's|%p/bin/sed|/usr/bin/sed|g' mkoctfile-%v
 rm %i/share/octave/ls-R
 rm %i/lib/octave/ls-R
 rm %i/bin/octave %i/bin/mkoctfile %i/bin/octave-config %i/bin/octave-bug
 mv %i/share/octave/site/m/startup/octaverc  %i/share/octave/site/m/startup/octaverc-%v
 for file in %i/share/man/man1/* ; do mv $file $file-%v ; done
 mv %i/share/info/octave.info %i/share/info/octave%v.info
 mv %i/share/info/octave.info-1 %i/share/info/octave%v.info-1	
 mv %i/share/info/octave.info-2 %i/share/info/octave%v.info-2	
 mv %i/share/info/octave.info-3 %i/share/info/octave%v.info-3	
 mv %i/share/info/octave.info-4 %i/share/info/octave%v.info-4	
 mv %i/share/info/octave.info-5 %i/share/info/octave%v.info-5	
 mv %i/share/applications/www.octave.org-octave.desktop %i/share/applications/www.octave.org-octave%v.desktop
<<
PostInstScript: <<
 update-alternatives 	--install %p/bin/octave octave %p/bin/octave-%v 31 \
 						--slave %p/bin/mkoctfile mkoctfile %p/bin/mkoctfile-%v \
 						--slave %p/bin/octave-config octave-config %p/bin/octave-config-%v \
 						--slave %p/bin/octave-bug octave-bug %p/bin/octave-bug-%v \
 						--slave %p/share/octave/site/m/startup/octaverc octaverc %p/share/octave/site/m/startup/octaverc-%v \
 						--slave %p/share/man/man1/mkoctfile.1 mkoctfile.1 %p/share/man/man1/mkoctfile.1-%v \
 						--slave %p/share/man/man1/octave-bug.1 octave-bug.1 %p/share/man/man1/octave-bug.1-%v \
 						--slave %p/share/man/man1/octave.1 octave.1 %p/share/man/man1/octave.1-%v \
 						--slave %p/share/man/man1/octave-config.1 octave-config.1 %p/share/man/man1/octave-config.1-%v \
					    --slave %p/share/info/octave.info octave.info %p/share/info/octave%v.info \
					    --slave %p/share/info/octave.info-1 octave.info-1 %p/share/info/octave%v.info-1 \
					    --slave %p/share/info/octave.info-2 octave.info-2 %p/share/info/octave%v.info-2 \
					    --slave %p/share/info/octave.info-3 octave.info-3 %p/share/info/octave%v.info-3 \
					    --slave %p/share/info/octave.info-4 octave.info-4 %p/share/info/octave%v.info-4 \
					    --slave %p/share/info/octave.info-5 octave.info-5 %p/share/info/octave%v.info-5 \
						--slave %p/share/applications/www.octave.org-octave.desktop www.octave.org-octave.desktop %p/share/applications/www.octave.org-octave%v.desktop
<<
PreRmScript: <<
  if [ $1 != "upgrade" ]; then
    update-alternatives --remove octave %p/bin/octave-%n
  fi
<<
RuntimeVars: <<
 GNUTERM: aqua
<<
InfoDocs: octave%v.info
InfoTest: <<
TestScript: make check || exit 2	
<<
DocFiles: BUGS ChangeLog README ROADMAP SENDING-PATCHES COPYING
Shlibs: <<
!%p/lib/%{Ni}-%v/libcruft.dylib
!%p/lib/%{Ni}-%v/liboctave.dylib
!%p/lib/%{Ni}-%v/liboctinterp.dylib
<<
Description: Matlab-like language for computations
DescDetail: <<
It provides a convenient command line interface for solving linear and 
nonlinear problems numerically, and for performing other numerical 
experiments using a language that is mostly compatible with Matlab.
It may also be used as a batch-oriented language.

Octave has extensive tools for solving common numerical linear algebra
problems, finding the roots of nonlinear equations, integrating ordinary
functions, manipulating polynomials, and integrating ordinary differential
and differential-algebraic equations. It is easily extensible and 
customizable via user-defined functions written in Octave's own language, 
or using dynamically loaded modules written in C++, C, Fortran, 
or other languages.
<<
DescUsage: << 
 To use mkoctfile to build dynamically loadable modules, you will need 
 to install the gcc43, hdf5, readline5 and fftw3 packages.
 Octave cannot Depend on them since they are BuildDependsOnly.
 
 By default the plotting output (via gnuplot) is directed to AquaTerm. 
 This can be overidden in your startup scripts, e.g.
 
 export GNUTERM=x11
 
 in bash
 
 or
 
 setenv GNUTERM x11
 
 in tcsh
<<
DescPort: <<
 Thanks to Per Persson for most (if not all) of the work on the macos X port.
<<
DescPackaging:  <<
Set the GNUTERM environment variable to AquaTerm because autodetection
of DISPLAY seems to cause options to be fed to our gnuplot that it doesn't understand.
AquaTerm seems to be a sensible default, particularly since gnuplot-nox is also a 
legal dependency.
<<
Homepage: http://www.octave.org/
License: GPL
<<
