Package: net-snmp-unified
Version: 5.4
Revision: 1
Maintainer: Benjamin Reed <net-snmp@fink.racoonfink.com>
Depends: <<
	daemonic, 
	%N15-shlibs (>= %v-%r)
<<
BuildDepends: <<
	fink (>= 0.24.12-1),
	gawk,
	expat1,
	system-perl
<<
Conflicts: net-snmp (<< 5.4-1), net-snmp-ssl (<< 5.4-1), ucd-snmp (<< 5.4-1)
Replaces: net-snmp (<< 5.4-1), net-snmp-ssl (<< 5.4-1), ucd-snmp (<< 5.4-1)
Source: mirror:sourceforge:net-snmp/net-snmp-%v.tar.gz
Source-MD5: 46d893281056ff476e597659cb91574d
SetCPPFLAGS: -I%p/lib/system-openssl/include
SetLDFLAGS: -L%p/lib/system-openssl/lib
ConfigureParams: <<
	--with-install-prefix='%d' \
	--enable-ipv6 \
	--with-out-mib-modules=mibII/ipv6 \
	--mandir='${prefix}/share/man' \
	--with-logfile=%p/var/log/snmpd.log \
	--with-persistent-directory=%p/var/%N \
	--with-default-snmp-version="3" \
	--enable-shared \
	--with-openssl=%p/lib/system-openssl \
	--with-mibdirs='$HOME/.snmp/mibs:%p/share/snmp/mibs:/usr/share/snmp/mibs' \
	--with-sys-contact='finkuser@example.com' \
	--with-sys-location=Unknown \
	--without-kmem-usage \
	--without-python-modules \
	--with-perl-modules='PREFIX=%p INSTALLPRIVLIB=%p/lib/perl5 INSTALLARCHLIB=%p/lib/perl5/darwin INSTALLSITELIB=%p/lib/perl5 INSTALLSITEARCH=%p/lib/perl5/darwin INSTALLMAN1DIR=%p/share/man/man1 INSTALLMAN3DIR=%p/share/man/man3 INSTALLSITEMAN1DIR=%p/share/man/man1 INSTALLSITEMAN3DIR=%p/share/man/man3 INSTALLBIN=%p/bin INSTALLSITEBIN=%p/bin INSTALLSCRIPT=%p/bin'
<<
CompileScript: <<
	PERLPROG=/usr/bin/perl ./configure %c
	make
<<
InstallScript: <<
	make install DESTDIR=%d
	install -d -m 755 %i/var/log
<<
DocFiles: AGENT.txt CHANGES COPYING ChangeLog CodingStyle EXAMPLE.conf.def FAQ NEWS PORTING README* TODO
Splitoff: <<
	Package: %N15-shlibs
	Files: lib/libnetsnmp*.15*.dylib
	Shlibs: <<
		%p/lib/libnetsnmp.15.dylib        16.0.0 net-snmp-unified15-shlibs (>= 5.4-1)
		%p/lib/libnetsnmpagent.15.dylib   16.0.0 net-snmp-unified15-shlibs (>= 5.4-1)
		%p/lib/libnetsnmphelpers.15.dylib 16.0.0 net-snmp-unified15-shlibs (>= 5.4-1)
		%p/lib/libnetsnmpmibs.15.dylib    16.0.0 net-snmp-unified15-shlibs (>= 5.4-1)
		%p/lib/libnetsnmptrapd.15.dylib   16.0.0 net-snmp-unified15-shlibs (>= 5.4-1)
	<<
	DocFiles: COPYING
<<
SplitOff2: <<
	Package: %N-dev
	Depends: %N (>= %v-%r)
	Replaces: net-snmp-dev (<< 5.4-1), net-snmp (<< 5.4-1), net-snmp-ssl-dev (<< 5.4-1), net-snmp-ssl (<< 5.4-1)
	Conflicts: net-snmp-dev (<< 5.4-1), net-snmp-ssl-dev (<< 5.4-1)
	Files: include lib/*.a lib/*.dylib bin/net-snmp-config
	DocFiles: COPYING
<<
SplitOff3: <<
	Package: net-snmp
	Description: upgrade package for net-snmp-unified
	Depends: <<
		%N (>= %v-%r),
		fink (>= 0.26.0-1),
		fink-obsolete-packages
	<<
<<
SplitOff4: <<
	Package: net-snmp-ssl
	Description: upgrade package for net-snmp-unified
	Depends: <<
		%N (>= %v-%r),
		fink (>= 0.26.0-1),
		fink-obsolete-packages
	<<
<<
SplitOff7: <<
	Package: net-snmp-dev
	Description: upgrade package for net-snmp-unified-dev
	Depends: <<
		%N-dev (>= %v-%r),
		fink (>= 0.26.0-1),
		fink-obsolete-packages
	<<
<<
SplitOff8: <<
	Package: net-snmp-ssl-dev
	Description: upgrade package for net-snmp-unified-dev
	Depends: <<
		%N-dev (>= %v-%r),
		fink (>= 0.26.0-1),
		fink-obsolete-packages
	<<
<<
PreRmScript: <<
if [ $1 != "upgrade" ]; then
	daemonic disable %N
fi
<<
PostRmScript: <<
if [ $1 = "remove" ]; then
	rm -rf %p/share/snmp
	rm -rf %p/var/%n
fi
<<
DaemonicFile: <<
<service>
<description>An SNMP daemon to respond to SNMP request packets.</description>
<message>snmpd</message>

<daemon name="snmpd">
<executable checkexit="true">%p/sbin/snmpd</executable>

</daemon>

</service>
<<
Description: SNMP tools and libraries
DescDetail: <<
	The net-snmp package, previously known as ucd-snmp, provides tools 
	and libraries relating to SNMP. It provides SNMP libraries, tools 
	to request and set information, an SNMP daemon, among other features.
<<
DescPackaging: <<
Customised install script to put files in correct directories.
Logfile set to PREFIX/var/log/snmpd.log
Persistent directory set to PREFIX/var/net-snmp
Default snmp version set to 3, but can be overridden using the '-v' flag for
the command tools, or alternatively using the 'defVersion' option in the
snmp.conf file.
<<
DescUsage: <<
In order to run net-snmp correctly, the community name needs to be set. The
easiest way to set this is to run the 'snmpconf' program, allowing you to
setup the various net-snmp configuration files.
<<
DescPort: <<
Based on the net-snmp package developed by Justin Hallett and Jeremy Higgs.
<<
License: BSD
Homepage: http://net-snmp.sourceforge.net/
