Package: libircclient
Version: 1.6
Revision: 2
Description: Client IRC protocol library
License: GPL2
Maintainer: Sjors Gielen <fink@sjorsgielen.nl>
Homepage: http://libircclient.sourceforge.net/

# displaces any openssl*-dev of fink's
BuildDepends: system-openssl-dev

# pkg is headers and static lib, nothing runtime
BuildDependsOnly: true

Source: mirror:sourceforge:%n/%v/%n-%v.tar.gz
Source-MD5: eb6a2c4e91862cc10de3b13b198cfa23

PatchScript: <<
  # don't risk finding global lib if local one didn't build somehow
  perl -pi -e 's,-L../src/ -lircclient,../src/libircclient.a,' examples/Makefile.in
<<

GCC: 4.0
CompileScript: <<
  ./configure --enable-ipv6 --enable-openssl
  make
<<

InstallScript: <<
  mkdir -p %i/include %i/lib
  cp include/libircclient.h %i/include
  cp include/libirc_errors.h %i/include
  cp include/libirc_rfcnumeric.h %i/include
  cp include/libirc_events.h %i/include
  cp include/libirc_options.h %i/include

  cp -R src/libircclient.a %i/lib
<<
DocFiles: Changelog LICENSE README THANKS
