Package: sqlite3
Version: 3.2.2
Revision: 11

Description: Embedded SQL database, version 3
DescDetail: <<
SQLite is a C library that implements an embeddable SQL database engine.
Programs that link with the SQLite library can have SQL database access
without running a separate RDBMS process. The distribution comes with a
standalone command-line access program ( sqlite ) that can be used to
administer an SQLite database and which serves as an example of how to
use the SQLite library.
<<

License: Public Domain 
Maintainer: Dave Vasilevsky <vasi@users.sourceforge.net>
Homepage: http://www.sqlite.org/

DocFiles: README VERSION www/copyright-release.html LICENSE

Depends: %N-shlibs (= %v-%r), readline5-shlibs
BuildDepends: readline5, libncurses5, tcltk, tcltk-dev
# Does NOT conflict with package sqlite

# This is just so 'make test' works
Patch: %n.patch
PatchScript: head -n 10 src/sqlite.h.in > LICENSE
ConfigureParams: --with-tcl=%p/lib
CompileScript: <<
	#!/bin/sh -ev
	config_TARGET_READLINE_LIBS='-L%p/lib -lreadline -lncurses' \
		./configure %c
	make
	#make fulltest	# Don't actually do it, it's LONG
<<
InstallScript: <<
	#!/bin/sh -ev
	make install DESTDIR=%d
	perl -i -pe 's,%i,%p,g' %i/lib/tcl8.4/sqlite3/pkgIndex.tcl
<<

SetCPPFLAGS: -I%p/include/readline

Source: http://sqlite.org/sqlite-%v.tar.gz
Source-MD5: 802f19e1f0eba56f3f1be8c6491c8a55

SplitOff: << 
    Package: %N-shlibs
    DocFiles: README VERSION www/copyright-release.html LICENSE
    Shlibs: %p/lib/libsqlite3.0.dylib 9.0.0 %n (>= 3.0.8-1)
    Files:  lib/libsqlite3.0.8.6.dylib lib/libsqlite3.0.dylib
<<
SplitOff2: << 
    Package: %N-dev
    Depends: %N-shlibs (= %v-%r)
    # Does NOT conflict with sqlite-dev, strangely enough
    
    DocFiles: README VERSION www/copyright-release.html LICENSE
    BuildDependsOnly: True
    Files: <<
    	lib/libsqlite3.la
    	lib/libsqlite3.a
    	include/sqlite3.h
    	lib/libsqlite3.dylib
    	lib/pkgconfig/sqlite3.pc
    <<
<<
SplitOff3: <<
	Package: %N-tcl
    Depends: %N (= %v-%r), tcltk
    
    DocFiles: README VERSION www/copyright-release.html LICENSE
    Shlibs: %p/lib/sqlite/libtclsqlite3.0.dylib 9.0.0 %n (>= 3.2.2-11)
    Files: lib/tcl8.4
<<
