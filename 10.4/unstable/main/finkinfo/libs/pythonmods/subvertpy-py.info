Info2: <<
Package: subvertpy-py%type_pkg[python]
Version: 0.7.5
Revision: 1
Type: python (2.5 2.6 2.7)
Description: Python bindings for subversion
DescDetail: <<
    Python bindings for the Subversion version control system that are
    aimed to be complete, fast and feel native to Python programmers.

    Bindings are provided for the working copy, client, delta, remote
    access and repository APIs. A hookable server side implementation of
    the custom Subversion protocol (svn_ra) is also provided.

    subvertpy covers more of the APIs than python-svn. It provides a more
    "Pythonic" API than python-subversion, which wraps the Subversion C API
    pretty much directly. Neither provide a hookable server-side.
<<
Maintainer: Daniel Johnson <daniel@daniel-johnson.org>
License: LGPL2+
Homepage: http://samba.org/~jelmer/subvertpy/

Source: http://samba.org/~jelmer/subvertpy/subvertpy-%v.tar.gz
Source-MD5: 2e84979c7380a396d6beec278f2d6104

Depends: python%type_pkg[python], svn15-shlibs, libapr.0-shlibs
BuildDepends: fink (>= 0.24.12), svn15-dev, libapr.0-dev, libaprutil.0-dev

CompileScript: <<
    SVN_PREFIX=%p %p/bin/python%type_raw[python] setup.py build
<<

# Tests don't react well with python 2.7.1's unittest so use unittest2 instead.
# Works fine with 2.5.5, 2.6.6 and 2.7.0 so may be a bug in 2.7.1.
# But tests fail with py25 and unittest2 so use unittest there. Gah!
InfoTest: <<
    TestDepends: discover-py%type_pkg[python], (%type_pkg[python] != 25) unittest2-py%type_pkg[python]
    TestScript: <<
        #!/bin/bash -ev
        if [ "%type_pkg[python]" != "25" ]; then
            perl -pi -e 's/import unittest/import unittest2 as unittest/' subvertpy/tests/__init__.py
        fi
        export PYTHONPATH=`ls -d %b/build/lib*`/subvertpy
        
        %p/bin/discover-py%type_pkg[python] || exit 2
    <<
<<
        
InstallScript: <<
    %p/bin/python%type_raw[python] setup.py install \
	--root=%d
	/bin/mv %i/bin/subvertpy-fast-export %i/bin/subvertpy-fast-export-py%type_pkg[python]
<<

PostInstScript: <<
	update-alternatives --install %p/bin/subvertpy-fast-export subvertpy-fast-export %p/bin/subvertpy-fast-export-py%type_pkg[python] %type_pkg[python]
<<

PreRmScript: <<
	if [ $1 != "upgrade" ]; then
		update-alternatives --remove subvertpy-fast-export %p/bin/subvertpy-fast-export-py%type_pkg[python]
	fi
<<

DocFiles: AUTHORS COPYING NEWS TODO examples
<<
