diff -ru curl-7.16.1.orig/curl-config.in curl-7.16.1/curl-config.in
--- curl-7.16.1.orig/curl-config.in	2006-05-02 18:48:22.000000000 -0400
+++ curl-7.16.1/curl-config.in	2007-01-29 14:06:21.000000000 -0500
@@ -181,7 +181,7 @@
        	;;
 
     --libs)
-       	echo -L@libdir@ -lcurl @LDFLAGS@ @LIBS@
+       	echo @LDFLAGS@ -L@libdir@ -lcurl @LIBS@
        	;;
 
     *)
diff -ru curl-7.16.1.orig/libcurl.pc.in curl-7.16.1/libcurl.pc.in
--- curl-7.16.1.orig/libcurl.pc.in	2007-01-02 07:14:21.000000000 -0500
+++ curl-7.16.1/libcurl.pc.in	2007-01-29 14:06:21.000000000 -0500
@@ -33,6 +33,6 @@
 URL: http://curl.haxx.se/
 Description: Library to transfer files with ftp, http, etc.
 Version: @VERSION@
-Libs: -L${libdir} -lcurl @LDFLAGS@
-Libs.private: @LIBS@
+Libs: -L${libdir} -lcurl
+Libs.private: @LDFLAGS@ @LIBS@
 Cflags: -I${includedir}
diff -ru curl-7.16.1.orig/tests/libtest/Makefile.am curl-7.16.1/tests/libtest/Makefile.am
--- curl-7.16.1.orig/tests/libtest/Makefile.am	2007-01-29 05:09:06.000000000 -0500
+++ curl-7.16.1/tests/libtest/Makefile.am	2007-01-29 14:09:54.000000000 -0500
@@ -133,11 +133,11 @@
 lib526_CFLAGS = -DLIB526
 lib526_DEPENDENCIES = $(DEPENDENCIES)
 
-lib527_SOURCES = lib526.c $(SUPPORTFILES)
+lib527_SOURCES = lib526.c $(SUPPORTFILES) $(TIMEVAL)
 lib527_CFLAGS = -DLIB527
 lib527_DEPENDENCIES = $(DEPENDENCIES)
 
-lib529_SOURCES = lib525.c $(SUPPORTFILES)
+lib529_SOURCES = lib525.c $(SUPPORTFILES) $(TIMEVAL)
 lib529_CFLAGS = -DLIB529
 lib529_DEPENDENCIES = $(DEPENDENCIES)
 
@@ -145,7 +145,7 @@
 lib530_CFLAGS = -DLIB530
 lib530_DEPENDENCIES = $(DEPENDENCIES)
 
-lib532_SOURCES = lib526.c $(SUPPORTFILES)
+lib532_SOURCES = lib526.c $(SUPPORTFILES) $(TIMEVAL)
 lib532_CFLAGS = -DLIB532
 lib532_DEPENDENCIES = $(DEPENDENCIES)
 
diff -ru curl-7.16.1.orig/tests/libtest/Makefile.in curl-7.16.1/tests/libtest/Makefile.in
--- curl-7.16.1.orig/tests/libtest/Makefile.in	2007-01-29 05:11:37.000000000 -0500
+++ curl-7.16.1/tests/libtest/Makefile.in	2007-01-29 14:10:21.000000000 -0500
@@ -143,21 +143,27 @@
 lib526_OBJECTS = $(am_lib526_OBJECTS)
 lib526_LDADD = $(LDADD)
 am__objects_5 = lib527-first.$(OBJEXT)
-am_lib527_OBJECTS = lib527-lib526.$(OBJEXT) $(am__objects_5)
+am__objects_6 = lib527-timeval.$(OBJEXT)
+am_lib527_OBJECTS = lib527-lib526.$(OBJEXT) $(am__objects_5) \
+	$(am__objects_6)
 lib527_OBJECTS = $(am_lib527_OBJECTS)
 lib527_LDADD = $(LDADD)
-am__objects_6 = lib529-first.$(OBJEXT)
-am_lib529_OBJECTS = lib529-lib525.$(OBJEXT) $(am__objects_6)
+am__objects_7 = lib529-first.$(OBJEXT)
+am__objects_8 = lib529-timeval.$(OBJEXT)
+am_lib529_OBJECTS = lib529-lib525.$(OBJEXT) $(am__objects_7) \
+	$(am__objects_8)
 lib529_OBJECTS = $(am_lib529_OBJECTS)
 lib529_LDADD = $(LDADD)
-am__objects_7 = lib530-first.$(OBJEXT)
-am__objects_8 = lib530-timeval.$(OBJEXT)
-am_lib530_OBJECTS = lib530-lib530.$(OBJEXT) $(am__objects_7) \
-	$(am__objects_8)
+am__objects_9 = lib530-first.$(OBJEXT)
+am__objects_10 = lib530-timeval.$(OBJEXT)
+am_lib530_OBJECTS = lib530-lib530.$(OBJEXT) $(am__objects_9) \
+	$(am__objects_10)
 lib530_OBJECTS = $(am_lib530_OBJECTS)
 lib530_LDADD = $(LDADD)
-am__objects_9 = lib532-first.$(OBJEXT)
-am_lib532_OBJECTS = lib532-lib526.$(OBJEXT) $(am__objects_9)
+am__objects_11 = lib532-first.$(OBJEXT)
+am__objects_12 = lib532-timeval.$(OBJEXT)
+am_lib532_OBJECTS = lib532-lib526.$(OBJEXT) $(am__objects_11) \
+	$(am__objects_12)
 lib532_OBJECTS = $(am_lib532_OBJECTS)
 lib532_LDADD = $(LDADD)
 am_lib533_OBJECTS = lib533.$(OBJEXT) $(am__objects_1) $(am__objects_2)
@@ -457,16 +463,16 @@
 lib526_SOURCES = lib526.c $(SUPPORTFILES) $(TIMEVAL)
 lib526_CFLAGS = -DLIB526
 lib526_DEPENDENCIES = $(DEPENDENCIES)
-lib527_SOURCES = lib526.c $(SUPPORTFILES)
+lib527_SOURCES = lib526.c $(SUPPORTFILES) $(TIMEVAL)
 lib527_CFLAGS = -DLIB527
 lib527_DEPENDENCIES = $(DEPENDENCIES)
-lib529_SOURCES = lib525.c $(SUPPORTFILES)
+lib529_SOURCES = lib525.c $(SUPPORTFILES) $(TIMEVAL)
 lib529_CFLAGS = -DLIB529
 lib529_DEPENDENCIES = $(DEPENDENCIES)
 lib530_SOURCES = lib530.c $(SUPPORTFILES) $(TIMEVAL)
 lib530_CFLAGS = -DLIB530
 lib530_DEPENDENCIES = $(DEPENDENCIES)
-lib532_SOURCES = lib526.c $(SUPPORTFILES)
+lib532_SOURCES = lib526.c $(SUPPORTFILES) $(TIMEVAL)
 lib532_CFLAGS = -DLIB532
 lib532_DEPENDENCIES = $(DEPENDENCIES)
 lib533_SOURCES = lib533.c $(SUPPORTFILES) $(TIMEVAL)
@@ -652,13 +658,16 @@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib526-timeval.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib527-first.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib527-lib526.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib527-timeval.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib529-first.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib529-lib525.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib529-timeval.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib530-first.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib530-lib530.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib530-timeval.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib532-first.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib532-lib526.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib532-timeval.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib533.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib536.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/lib537.Po@am__quote@
@@ -769,6 +778,20 @@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib527_CFLAGS) $(CFLAGS) -c -o lib527-first.obj `if test -f 'first.c'; then $(CYGPATH_W) 'first.c'; else $(CYGPATH_W) '$(srcdir)/first.c'; fi`
 
+lib527-timeval.o: $(top_srcdir)/lib/timeval.c
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib527_CFLAGS) $(CFLAGS) -MT lib527-timeval.o -MD -MP -MF "$(DEPDIR)/lib527-timeval.Tpo" -c -o lib527-timeval.o `test -f '$(top_srcdir)/lib/timeval.c' || echo '$(srcdir)/'`$(top_srcdir)/lib/timeval.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/lib527-timeval.Tpo" "$(DEPDIR)/lib527-timeval.Po"; else rm -f "$(DEPDIR)/lib527-timeval.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='$(top_srcdir)/lib/timeval.c' object='lib527-timeval.o' libtool=no @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib527_CFLAGS) $(CFLAGS) -c -o lib527-timeval.o `test -f '$(top_srcdir)/lib/timeval.c' || echo '$(srcdir)/'`$(top_srcdir)/lib/timeval.c
+
+lib527-timeval.obj: $(top_srcdir)/lib/timeval.c
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib527_CFLAGS) $(CFLAGS) -MT lib527-timeval.obj -MD -MP -MF "$(DEPDIR)/lib527-timeval.Tpo" -c -o lib527-timeval.obj `if test -f '$(top_srcdir)/lib/timeval.c'; then $(CYGPATH_W) '$(top_srcdir)/lib/timeval.c'; else $(CYGPATH_W) '$(srcdir)/$(top_srcdir)/lib/timeval.c'; fi`; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/lib527-timeval.Tpo" "$(DEPDIR)/lib527-timeval.Po"; else rm -f "$(DEPDIR)/lib527-timeval.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='$(top_srcdir)/lib/timeval.c' object='lib527-timeval.obj' libtool=no @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib527_CFLAGS) $(CFLAGS) -c -o lib527-timeval.obj `if test -f '$(top_srcdir)/lib/timeval.c'; then $(CYGPATH_W) '$(top_srcdir)/lib/timeval.c'; else $(CYGPATH_W) '$(srcdir)/$(top_srcdir)/lib/timeval.c'; fi`
+
 lib529-lib525.o: lib525.c
 @am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib529_CFLAGS) $(CFLAGS) -MT lib529-lib525.o -MD -MP -MF "$(DEPDIR)/lib529-lib525.Tpo" -c -o lib529-lib525.o `test -f 'lib525.c' || echo '$(srcdir)/'`lib525.c; \
 @am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/lib529-lib525.Tpo" "$(DEPDIR)/lib529-lib525.Po"; else rm -f "$(DEPDIR)/lib529-lib525.Tpo"; exit 1; fi
@@ -797,6 +820,20 @@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib529_CFLAGS) $(CFLAGS) -c -o lib529-first.obj `if test -f 'first.c'; then $(CYGPATH_W) 'first.c'; else $(CYGPATH_W) '$(srcdir)/first.c'; fi`
 
+lib529-timeval.o: $(top_srcdir)/lib/timeval.c
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib529_CFLAGS) $(CFLAGS) -MT lib529-timeval.o -MD -MP -MF "$(DEPDIR)/lib529-timeval.Tpo" -c -o lib529-timeval.o `test -f '$(top_srcdir)/lib/timeval.c' || echo '$(srcdir)/'`$(top_srcdir)/lib/timeval.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/lib529-timeval.Tpo" "$(DEPDIR)/lib529-timeval.Po"; else rm -f "$(DEPDIR)/lib529-timeval.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='$(top_srcdir)/lib/timeval.c' object='lib529-timeval.o' libtool=no @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib529_CFLAGS) $(CFLAGS) -c -o lib529-timeval.o `test -f '$(top_srcdir)/lib/timeval.c' || echo '$(srcdir)/'`$(top_srcdir)/lib/timeval.c
+
+lib529-timeval.obj: $(top_srcdir)/lib/timeval.c
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib529_CFLAGS) $(CFLAGS) -MT lib529-timeval.obj -MD -MP -MF "$(DEPDIR)/lib529-timeval.Tpo" -c -o lib529-timeval.obj `if test -f '$(top_srcdir)/lib/timeval.c'; then $(CYGPATH_W) '$(top_srcdir)/lib/timeval.c'; else $(CYGPATH_W) '$(srcdir)/$(top_srcdir)/lib/timeval.c'; fi`; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/lib529-timeval.Tpo" "$(DEPDIR)/lib529-timeval.Po"; else rm -f "$(DEPDIR)/lib529-timeval.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='$(top_srcdir)/lib/timeval.c' object='lib529-timeval.obj' libtool=no @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib529_CFLAGS) $(CFLAGS) -c -o lib529-timeval.obj `if test -f '$(top_srcdir)/lib/timeval.c'; then $(CYGPATH_W) '$(top_srcdir)/lib/timeval.c'; else $(CYGPATH_W) '$(srcdir)/$(top_srcdir)/lib/timeval.c'; fi`
+
 lib530-lib530.o: lib530.c
 @am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib530_CFLAGS) $(CFLAGS) -MT lib530-lib530.o -MD -MP -MF "$(DEPDIR)/lib530-lib530.Tpo" -c -o lib530-lib530.o `test -f 'lib530.c' || echo '$(srcdir)/'`lib530.c; \
 @am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/lib530-lib530.Tpo" "$(DEPDIR)/lib530-lib530.Po"; else rm -f "$(DEPDIR)/lib530-lib530.Tpo"; exit 1; fi
@@ -867,6 +904,20 @@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib532_CFLAGS) $(CFLAGS) -c -o lib532-first.obj `if test -f 'first.c'; then $(CYGPATH_W) 'first.c'; else $(CYGPATH_W) '$(srcdir)/first.c'; fi`
 
+lib532-timeval.o: $(top_srcdir)/lib/timeval.c
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib532_CFLAGS) $(CFLAGS) -MT lib532-timeval.o -MD -MP -MF "$(DEPDIR)/lib532-timeval.Tpo" -c -o lib532-timeval.o `test -f '$(top_srcdir)/lib/timeval.c' || echo '$(srcdir)/'`$(top_srcdir)/lib/timeval.c; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/lib532-timeval.Tpo" "$(DEPDIR)/lib532-timeval.Po"; else rm -f "$(DEPDIR)/lib532-timeval.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='$(top_srcdir)/lib/timeval.c' object='lib532-timeval.o' libtool=no @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib532_CFLAGS) $(CFLAGS) -c -o lib532-timeval.o `test -f '$(top_srcdir)/lib/timeval.c' || echo '$(srcdir)/'`$(top_srcdir)/lib/timeval.c
+
+lib532-timeval.obj: $(top_srcdir)/lib/timeval.c
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib532_CFLAGS) $(CFLAGS) -MT lib532-timeval.obj -MD -MP -MF "$(DEPDIR)/lib532-timeval.Tpo" -c -o lib532-timeval.obj `if test -f '$(top_srcdir)/lib/timeval.c'; then $(CYGPATH_W) '$(top_srcdir)/lib/timeval.c'; else $(CYGPATH_W) '$(srcdir)/$(top_srcdir)/lib/timeval.c'; fi`; \
+@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/lib532-timeval.Tpo" "$(DEPDIR)/lib532-timeval.Po"; else rm -f "$(DEPDIR)/lib532-timeval.Tpo"; exit 1; fi
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='$(top_srcdir)/lib/timeval.c' object='lib532-timeval.obj' libtool=no @AMDEPBACKSLASH@
+@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib532_CFLAGS) $(CFLAGS) -c -o lib532-timeval.obj `if test -f '$(top_srcdir)/lib/timeval.c'; then $(CYGPATH_W) '$(top_srcdir)/lib/timeval.c'; else $(CYGPATH_W) '$(srcdir)/$(top_srcdir)/lib/timeval.c'; fi`
+
 mostlyclean-libtool:
 	-rm -f *.lo
 
