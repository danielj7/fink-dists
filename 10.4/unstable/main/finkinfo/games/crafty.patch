diff -ru crafty-22.8-orig/Makefile crafty-22.8/Makefile
--- crafty-22.8-orig/Makefile	2009-01-03 00:59:40.000000000 +0100
+++ crafty-22.8/Makefile	2009-01-03 01:07:43.000000000 +0100
@@ -100,9 +100,9 @@
 darwin:
 	$(MAKE) target=FreeBSD \
 		CC=gcc CXX=g++ \
-		CFLAGS='$(CFLAGS) -Wall -pipe -O3' \
-		CXFLAGS=$(CFLAGS) \
-		LDFLAGS=$(LDFLAGS) \
+		CFLAGS='$(CFLAGS) $(ARCH) $(CPUS) -Wall -pipe -O3' \
+		CXFLAGS='$(CFLAGS) $(ARCH) $(CPUS)' \
+		LDFLAGS='$(LDFLAGS) $(ARCH)' \
 		LIBS='-lpthread -lstdc++' \
 		opt='$(opt)' \
 		crafty-make
Only in crafty-22.8: Makefile.orig
Only in crafty-22.8: Makefile.rej
diff -ru crafty-22.8-orig/lock.h crafty-22.8/lock.h
--- crafty-22.8-orig/lock.h	2009-01-03 00:59:40.000000000 +0100
+++ crafty-22.8/lock.h	2009-01-03 01:02:16.000000000 +0100
@@ -49,7 +49,7 @@
  *                                                                             *
  *******************************************************************************
  */
-#    if defined(POWERPC)
+#    if defined(__APPLE__)
                         /* OS X */
 #      include <libkern/OSAtomic.h>
 #      define lock_t				OSSpinLock
Only in crafty-22.8: lock.h.orig
Only in crafty-22.8: lock.h.rej
diff -ru crafty-22.8-orig/option.c crafty-22.8/option.c
--- crafty-22.8-orig/option.c	2009-01-03 00:59:40.000000000 +0100
+++ crafty-22.8/option.c	2009-01-03 00:59:59.000000000 +0100
@@ -1116,7 +1116,8 @@
     char *readstat = (char *) -1;
     int lines = 0;
 
-    helpfile = fopen("crafty.hlp", "r");
+    sprintf(log_filename, "%s/crafty.hlp", book_path);
+    helpfile = fopen(log_filename, "r");
     if (!helpfile) {
       printf("ERROR.  Unable to open \"crafty.hlp\" -- help unavailable\n");
       return (1);
Only in crafty-22.8: option.c.orig
Only in crafty-22.8: utility.c.orig
Only in crafty-22.8: utility.c.rej
