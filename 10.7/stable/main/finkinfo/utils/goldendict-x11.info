Info2: <<
### Keep in sync with -mac variant as closely as possible
Package: goldendict-x11
Version: 1.0.1
Revision: 1
Description: Dictionary lookup program
Type: qt4 (x11) 
License: GPL
Maintainer: None <fink-devel@lists.sourceforge.net>
Depends: <<
	libhunspell-shlibs,
	libiconv,
	libogg-shlibs,
	libpng15-shlibs,
	libvorbis0-shlibs,
	phonon-%type_raw[qt4]-shlibs,
	qt4-base-%type_raw[qt4]-qtcore-shlibs,
	qt4-base-%type_raw[qt4]-qtgui-shlibs,
	qt4-base-%type_raw[qt4]-qtnetwork-shlibs,
	qt4-base-%type_raw[qt4]-qtxml-shlibs,
	qtwebkit-%type_raw[qt4]-shlibs,
	( %type_raw[qt4] = x11) x11-shlibs
<<
BuildDepends: <<
	libhunspell,
	libiconv-dev,
	libogg,
	libpng15,
	libvorbis0,
	system-openssl-dev,
	phonon-%type_raw[qt4],
	qt4-base-%type_raw[qt4],
	( %type_raw[qt4] = x11) x11-dev
<<
Source: mirror:sourceforge:goldendict/goldendict-%v-src.tar.bz2
Source-MD5: d56bb854936015104029d1f0b98b61bb
NoSourceDirectory: true
### Patch is only good for 1.0.1+git that has .app bundle knowledge
#PatchFile: goldendict.patch
#PatchFile-MD5: cae2e5f1c6a0aa3376a9972654239e17
PatchScript: <<
#	sed 's|@FINKPREFIX@|%p|g' < %{PatchFile} | patch -p1
	### Truly remove all included mac libraries to prevent any linkage
	rm -rf maclibs
<<
CompileScript: <<
	#!/bin/sh -ev
	export PATH=%p/lib/qt4-%type_raw[qt4]/bin:$PATH
	qmake PREFIX=%p
	### qmake is stoopid and uses /usr/local anyway
	perl -pi -e 's|/usr/local|%p|g' Makefile
	make
<<
InstallScript: <<
	#!/bin/sh -ev
	if [ "%type_raw[qt4]" == "x11" ]; then
		make install INSTALL_ROOT=%d PREFIX=%p
	fi
<<
#AppBundles: GoldenDict.app
DocFiles: CREDITS.txt LICENSE.txt
Homepage: http://goldendict.org/
DescDetail: <<
A feature-rich dictionary lookup program.

Scans multiple sources (Wikipedia, Urban Dictionary, forvo.com,
Hunspell-based systems, Babylon files, etc.) for the definition
and/or information on the user query.
<<
DescUsage: <<
Executable is located in 
	%p/bin/goldendict
<<
DescPackaging: <<
	Originally (v1.0.1) packaged by Hanspeter Niederstrasser
<<
<<
