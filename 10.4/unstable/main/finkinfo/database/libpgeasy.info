Package: libpgeasy
Version: 3.0.4
Revision: 1021
Description: An easy-to-use C interface to PostgreSQL
License: BSD
Maintainer: Benjamin Reed <libpgeasy@fink.racoonfink.com>

Depends: %N-shlibs (= %v-%r)
BuildDepends: postgresql82-dev, system-openssl-dev
Replaces: postgresql73-dev, postgresql74-dev, postgresql80-dev (>= 8.0.6-1026), postgresql81-dev
GCC: 4.0

Source: ftp://gborg.postgresql.org/pub/pgeasy/stable/%n-%v.tar.gz
Source-MD5: 5aaf078d069c8878588cd2bc7c3a5bc5

ConfigureParams: --with-pqinclude=%p/include/postgresql --with-pqlib=%p/lib
CompileScript: <<
#!/bin/sh -ev

	export lt_cv_sys_max_cmd_len=65536
	export CPPFLAGS="-I%p/lib/system-openssl/include -I%p/include/postgresql -I%p/include -DHAVE_OPTRESET -fno-common"
	export LDFLAGS="-L%p/lib/system-openssl/lib -L%p/lib"

	./configure %c
	make
<<

InstallScript: <<
#!/bin/sh -ev

	make -j1 install DESTDIR="%d"
	install -d -m 755 %i/share/doc/%N
	mv docs/*.html examples %i/share/doc/%N/
	find %i/share/doc/%N -type d -name CVS -exec rm -rf {} \; || :
<<
DocFiles: CHANGES README
SplitOff: <<
	Package: %N-shlibs
	Description: Shared libraries for the PostgreSQL easy interface
	Depends: postgresql82-shlibs
	Files: lib/libpgeasy.*.dylib
	Shlibs: %p/lib/libpgeasy.3.dylib 4.0.0 %n (>= 3.0.4-1)
<<

Homepage: http://gborg.postgresql.org/project/pgeasy/
DescDetail: <<
Pgeasy is a PostgreSQL API that is a cleaner interface to the libpq
library, more like an SQL 4GL interface.
<<

