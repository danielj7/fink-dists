Info2: <<
Package: py-py%type_pkg[python]
Version: 1.3.3
Revision: 1
Distribution: (%type_pkg[python] = 24) 10.4, (%type_pkg[python] = 24) 10.5
Type: python (2.4 2.5 2.6 2.7 3.1)
Description: Rapid testing and development utils
DescDetail: <<
	py.test is a command line tool to collect, run and report about
	automated tests. It runs well on Linux, Windows and OSX and on Python
	2.4 through to 3.1 versions. It is used in many projects, ranging from
	running 10 thousands of tests to a few inlined tests on a command line
	script. As of version 1.2 you can also generate a no-dependency
	py.test-equivalent standalone script that you can distribute along with
	your application.
<<
Maintainer: Daniel Johnson <daniel@daniel-johnson.org>
License: BSD
Homepage: http://pylib.org/

Source: http://pypi.python.org/packages/source/p/py/py-%v.tar.gz
Source-MD5: bf0dbc3ce4c18ead263cb5679e5164b4

Depends: python%type_pkg[python]
BuildDepends: fink (>= 0.24.12), setuptools-py%type_pkg[python]

CompileScript: %p/bin/python%type_raw[python] setup.py build

InstallScript: <<
	#!/bin/bash -ev
	%p/bin/python%type_raw[python] setup.py install --root=%d
	rm %i/bin/py.test %i/bin/py.which
	binfiles="py.cleanup py.convert_unittest py.countloc py.lookup py.svnwcrevert"
	for binfile in $binfiles ; do
		mv %i/bin/$binfile %i/bin/$binfile-%type_raw[python]
	done
<<

PostInstScript: <<
	binfiles="py.cleanup py.convert_unittest py.countloc py.lookup py.svnwcrevert py.test py.which"
	for binfile in $binfiles ; do
		update-alternatives --install %p/bin/$binfile $binfile %p/bin/$binfile-%type_raw[python] %type_pkg[python]
	done
<<

PreRmScript: <<
	if [ $1 != "upgrade" ]; then
		binfiles="py.cleanup py.convert_unittest py.countloc py.lookup py.svnwcrevert py.test py.which"
		for binfile in $binfiles ; do
			update-alternatives --remove $binfile %p/bin/$binfile-%type_raw[python]
		done
	fi
<<

DocFiles: CHANGELOG LICENSE PKG-INFO README.txt doc
<<
