diff -uNr kdesdk-3.4.0/kbugbuster/Makefile.am kdesdk-3.4.0-new/kbugbuster/Makefile.am
--- kdesdk-3.4.0/kbugbuster/Makefile.am	Fri Jul 16 04:00:41 2004
+++ kdesdk-3.4.0-new/kbugbuster/Makefile.am	Sun Apr 17 00:21:26 2005
@@ -6,12 +6,14 @@
 
 SUBDIRS = backend gui pics $(KRESOURCES_SUBDIR)
 
-bin_PROGRAMS = kbugbuster
+kdeinit_LTLIBRARIES = kbugbuster.la
+bin_PROGRAMS = 
+lib_LTLIBRARIES =
 
-kbugbuster_SOURCES = main.cpp
-kbugbuster_LDADD   = -lkutils gui/libkbbmainwindow.la \
+kbugbuster_la_SOURCES = main.cpp
+kbugbuster_la_LIBADD  = -lkutils gui/libkbbmainwindow.la \
                      backend/libkbbbackend.la $(LIB_KHTML) $(LIB_KIO) 
-kbugbuster_LDFLAGS = $(all_libraries) $(KDE_RPATH)
+kbugbuster_la_LDFLAGS = $(all_libraries) $(KDE_PLUGIN) -module
 
 xdg_apps_DATA = kbugbuster.desktop
 
diff -uNr kdesdk-3.4.0/kbugbuster/main.cpp kdesdk-3.4.0-new/kbugbuster/main.cpp
--- kdesdk-3.4.0/kbugbuster/main.cpp	Mon Jun 21 14:57:56 2004
+++ kdesdk-3.4.0-new/kbugbuster/main.cpp	Sun Apr 17 00:21:26 2005
@@ -42,7 +42,7 @@
   KCmdLineLastOption
 };
 
-int main(int argc, char *argv[])
+extern "C" int kdemain(int argc, char *argv[])
 {
     KAboutData aboutData( "kbugbuster", I18N_NOOP( "KBugBuster" ),
         VERSION, description, KAboutData::License_GPL,
