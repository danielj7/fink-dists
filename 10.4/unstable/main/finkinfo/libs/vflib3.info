Package: vflib3
Version: 3.6.14
Revision: 4
Source: http://www-masu.ist.osaka-u.ac.jp/~kakugawa/download/TypeHack/VFlib3-%v.tar.gz
Source-MD5: f95090401d79ca987bfcd1f08d77454f
BuildDepends: t1lib5-nox, freetype, libgettext3-dev, gettext-bin, gettext-tools, libkpathsea4, x11-dev
Depends: t1lib5-nox-shlibs, tetex-base, libgettext3-shlibs, freetype-shlibs | freetype-hinting-shlibs, libkpathsea4-shlibs
UpdateConfigGuess: true
UpdateLibtool: true
PatchScript: <<
#!/bin/sh -ev
  sed 's|@FINKPREFIX@|%p|g' < %a/%n.patch | patch -p1
  grep -lr /usr/local . | xargs perl -pi.bak -e 's|/usr/local|%p|g'
  perl -pi.bak -e 's/Glocal/extern/g' src/texfonts.h 
  mv INSTALL INSTALL.txt
  perl -pi.bak -e 's|install-info\ |/usr/bin/install-info\ |g' doc/Makefile.in
  perl -pi.bak -e 's|makedefault\:\ default|makedefault\:\ all|;' Makefile.in
  perl -pi.bak -e 's|VFCFLAGS=|VFCFLAGS=\@LDFLAGS\@\ |;' make-sub.in
  sed -i.bak -e 's,`$,XYZ`,' -e "s,XYZ,'," t1lib/mkt1enc.sh

  # make sure we link against local just-built lib, not one that's in %p/lib
# perl -pi -e 's/hardcode_direct=yes/hardcode_direct=no/g' configure
  perl -pi -e 's,(\$\(CC\).*\.o) \$\(VFLIB\),\1 .libs/libVFlib3.dylib,' src/Makefile.in
 <<

DocFiles: ANNOUNCE* CHANGES COPYING* DISTRIB.txt INSTALL.txt
InfoDocs: VFlib-36.info VFlib-36.info-1  VFlib-36.info-2  VFlib-36.info-3 VFlib-36.info-4 VFlib-36.info-5
NoSetCXXFLAGS: true
SetCFLAGS: -Wno-long-long -std=gnu99 -I%p/include/freetype1 -I%p/include -fno-common
SetCPPFLAGS: -I%p/include/freetype1
ConfigureParams: --mandir='${prefix}/share/man' --infodir='${prefix}/share/info' --enable-static --enable-shared --with-freetype --with-freetype-includedir=%p/include/freetype1/freetype --with-t1lib --with-kpathsea --with-texmf-root=%p --with-kpathsea-includedir=%p/include --with-t1lib-includedir=%p/include
InstallScript: <<
#!/bin/sh -ev
  %{default_script}
  sed -i.bak -e '/texinfmt.el/a \
    This file documents VFlib3.' %i/share/info/*
  find %i -name '*.bak' -exec rm \{\} \;
  chmod a-x %i/lib/*
  chmod a+x %i/share/vflib/3.6.14/t1lib/mkt1enc.sh
<<
Shlibs: %p/lib/libVFlib3.5.dylib 10.0.0 %N (>= 3.6.14-1)
Description: Versatile Font Library, runtime libs
DescDetail: <<
VFlib is a font library written in C language with several functions
to obtain bitmaps of fonts.  Unique feature of VFlib is that fonts
in different formats are accessed by unified interface.

VFlib supports the following font formats:
   TeX fonts:       PK, GF, VF, TFM
   Omega TeX fonts: OFM (level 0), OVF
   X Window fonts:  PCF, BDF
   Other fonts:     TrueType, Type 1, HBF, Syotai Club, JG, ekanji

This package contains the shared library and configuration files 
needed to run programs using VFlib3.
<<
Splitoff: <<
  Package: %N-dev
  Depends: %N (= %v-%r)
  Replaces: %N (<< 3.6.14-1)
  BuildDependsOnly: true
  Files: include bin/VFlib3-config lib/libVFlib3.{a,la,dylib}
  Description: Versatile Font Library, development files
  DescDetail: <<
  VFlib is a font library written in C language with several functions
  to obtain bitmaps of fonts.  Unique feature of VFlib is that fonts
  in different formats are accessed by unified interface.

  VFlib supports the following font formats:
     TeX fonts:       PK, GF, VF, TFM
     Omega TeX fonts: OFM (level 0), OVF
     X Window fonts:  PCF, BDF
     Other fonts:     TrueType, Type 1, HBF, Syotai Club, JG, ekanji

  This package contains the development files needed to run programs
  using VFlib3.
  <<
<<
Splitoff2: <<
  Package: %N-bin
  Depends: %N (>= %v-%r), x11-shlibs
  Files: bin
  Description: Versatile Font Library, binary apps
  DescDetail: <<
  These are the binary applications included with vflib.
  VFlib is a font library written in C language with several functions
  to obtain bitmaps of fonts.  Unique feature of VFlib is that fonts
  in different formats are accessed by unified interface.

  VFlib supports the following font formats:
     TeX fonts:       PK, GF, VF, TFM
     Omega TeX fonts: OFM (level 0), OVF
     X Window fonts:  PCF, BDF
     Other fonts:     TrueType, Type 1, HBF, Syotai Club, JG, ekanji

  This package contains the application files included with VFlib3.
  <<
  License: GPL
<<
License: LGPL
Maintainer: Chris Zubrzycki <beren12@users.sourceforge.net>
Homepage: http://www-masu.ist.osaka-u.ac.jp/~kakugawa/VFlib/
