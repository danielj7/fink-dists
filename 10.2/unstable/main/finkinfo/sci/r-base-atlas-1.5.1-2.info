Package: r-base-atlas
Version: 1.5.1
Revision: 2
Maintainer: Jeffrey Whitaker <jsw@cdc.noaa.gov>
Depends: f2c (>= 20020123-3), tcltk, readline-shlibs (>= 4.3-5), zlib, libjpeg-shlibs, libpng-shlibs, dlcompat, texinfo (>= 4.1-3), atlas
BuildDepends: readline, libjpeg, libpng, tcltk-dev
Source:  http://cran.r-project.org/src/base/R-%v.tgz
SourceDirectory: R-%v
PatchScript: sed 's|@PREFIX@|%p|g' < %a/%f.patch | patch -p1
ConfigureParams: --without-gnome --enable-R-shlib --mandir='${prefix}/share/man' --with-tcl-config=%p/lib/tclConfig.sh --with-tk-config=%p/lib/tkConfig.sh -C
Conflicts: r-base
Replaces: r-base
Provides: r-base
SourceDirectory: R-%v
CompileScript: (export F2C=%p/bin/f2c; ./configure %c; make)
InstallScript: <<
 make install prefix=%i
 mv -f %i/bin/R %i/bin/R.orig
 rm -f %i/lib/R/bin/R
 sed -e "s|R_HOME_DIR=%i/lib/R|R_HOME_DIR=%p/lib/R|" < %i/bin/R.orig > %i/lib/R/bin/R 
 sed -e "s|R_HOME_DIR=%i/lib/R|R_HOME_DIR=%p/lib/R|" < %i/bin/R.orig > %i/bin/R 
 chmod 755 %i/lib/R/bin/R %i/bin/R
 rm -f %i/bin/R.orig
<<
Description: Environment for statistical computing with atlas.
DescDetail: <<
R is similar to S, which was developed at Bell Laboratories
by John Chambers et al. It provides a wide variety of statistical and
graphical techniques (linear and nonlinear modelling, statistical
tests, time series analysis, classification, clustering, ...).
R is designed as a true computer language with control-flow
constructions for iteration and alternation, and it allows users to
add additional functionality by defining new functions. For
computationally intensive tasks, C and Fortran code can be linked and
called at run time.

This version links optimized blas and lapack routines provided by
the atlas package.
<<
DescPort: <<
 uses f2c to compile fortran bits. 

 R_HOME_DIR variable in wrapper script must be re-set to installation
 directory after make install.
 
 uses fake config.cache to trick configure into not using tex.

 configure patched so it won't look in /usr/local for headers and libs.

 Makeconf.in patched so R will look for libs in %p/lib when installing
 extensions.

 patch to launch default browser when help.start() called.

 Patched configure to use "-bundle -flat_namespace -undefined suppress"
 instead of "-bundle -bundle_loader", and "-dynamiclib -flat_namespace
 -undefined suppress -install name" instead of just "-dynamiclib". 
 With this patch, the R python extension module (Rpy) works.
<<
License: GPL
Homepage: http://cran.R-project.org/
