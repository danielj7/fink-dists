diff -ruN postfix-2.1.4.orig/conf/main.cf postfix-2.1.4/conf/main.cf
--- postfix-2.1.4.orig/conf/main.cf	Sun Jun  6 17:53:58 2004
+++ postfix-2.1.4/conf/main.cf	Sat Sep 11 21:45:44 2004
@@ -629,3 +629,18 @@
 # readme_directory: The location of the Postfix README files.
 #
 readme_directory =
+
+# THE FOLLOWING DEFAULTS ARE SET BY APPLE
+#
+# bind to localhost only
+#
+inet_interfaces = localhost
+
+# turn off relaying for local subnet
+#
+mynetworks_style = host
+
+# mydomain_fallback: optional domain to use if mydomain is not set and
+# myhostname is not fully qualified.  It is ignored if neither are true.
+#
+mydomain_fallback = localhost
diff -ruN postfix-2.1.4.orig/conf/post-install postfix-2.1.4/conf/post-install
--- postfix-2.1.4.orig/conf/post-install	Wed Apr 21 21:05:34 2004
+++ postfix-2.1.4/conf/post-install	Sat Sep 11 21:45:44 2004
@@ -185,7 +185,7 @@
 
 umask 022
 
-PATH=/bin:/usr/bin:/usr/sbin:/usr/etc:/sbin:/etc:/usr/contrib/bin:/usr/gnu/bin:/usr/ucb:/usr/bsd
+PATH=@FINKPREFIX@/bin:@FINKPREFIX@/sbin:/bin:/usr/bin:/usr/sbin:/usr/etc:/sbin:/etc:/usr/contrib/bin:/usr/gnu/bin:/usr/ucb:/usr/bsd
 SHELL=/bin/sh
 IFS=" 	
 "
diff -ruN postfix-2.1.4.orig/makedefs postfix-2.1.4/makedefs
--- postfix-2.1.4.orig/makedefs	Wed Apr 14 14:59:43 2004
+++ postfix-2.1.4/makedefs	Sat Sep 11 21:45:44 2004
@@ -268,7 +268,7 @@
 			  SYSLIBS=-flat_namespace
 			  ;;
 		       *) AWK=awk
-			  SYSLIBS=-flat_namespace
+			  #SYSLIBS=-flat_namespace
 			  CCARGS="$CCARGS -DBIND_8_COMPAT -DNO_NETINFO"
 			  ;;
 		esac
diff -ruN postfix-2.1.4.orig/mta-switch postfix-2.1.4/mta-switch
--- postfix-2.1.4.orig/mta-switch	Wed Dec 31 19:00:00 1969
+++ postfix-2.1.4/mta-switch	Sat Sep 11 21:45:45 2004
@@ -0,0 +1,128 @@
+#!/bin/sh
+
+# Moves /usr/sbin/sendmail out of the way for Fink Postfix install
+
+PREFIX="@FINKPREFIX@"
+
+function sendmailPointsToPostfix () {
+	if [ -L /usr/sbin/sendmail -a "`/bin/ls -l /usr/sbin/sendmail | sed -e 's|.* -> \(.*\)$|\1|'`x" == "${PREFIX}/sbin/sendmailx" ] ; then
+		return 0
+	else
+		return 1
+	fi
+}
+
+case "$1" in 
+	install|setup|enable|activate|start|postfix|fink)
+		echo -n 'Checking if we need to move /usr/sbin/sendmail out of the way... '
+		
+		if sendmailPointsToPostfix ; then
+			echo 'no.'
+			echo 'Fink Postfix is already in place.'
+		else
+			echo 'yes.'
+			
+			if [ -f /usr/sbin/sendmail.old ] ; then
+				echo -n '/usr/sbin/sendmail.old already exists. Would you like to overwrite it [yN]? '
+				
+				read ANS
+				case "$ANS" in
+					y*|Y*)	rm -f /usr/sbin/sendmail.old || exit 1 ;;
+					*)		echo '/usr/sbin/sendmail.old in the way. Failed.' ; exit 1 ;;
+				esac
+			fi
+			
+			echo
+			echo 'Backing up the old sendmail to /usr/sbin/sendmail.old.'
+			mv /usr/sbin/sendmail /usr/sbin/sendmail.old || exit 1
+			echo "Putting a link to Fink Postfix's sendmail in its place."
+			ln -s "${PREFIX}/sbin/sendmail" /usr/sbin/sendmail || exit 1
+			echo 'Succeeded.'
+			echo
+			
+			if [ "x$2" == "x-n" ] ; then
+				echo 'Leaving /etc/hostconfig intact.'
+				exit;
+			fi
+			
+			echo 'Now we will take a crack at /etc/hostconfig.'
+			if grep '^[[:space:]]*MAILSERVER=-\(YES\|AUTOMATIC\)-' /etc/hostconfig > /dev/null ; then
+				echo "Backing up /etc/hostconfig to /etc/hostconfig.old."
+				echo 'Turning off the mail server in /etc/hosconfig.'
+				perl -pi.old -e's,MAILSERVER=-(YES|AUTOMATIC)-,MAILSERVER=-NO-,' /etc/hostconfig || exit 1
+				echo 'Succeeded.'
+			else
+				echo '/etc/hostconfig already has the mail server disabled.'
+			fi
+		fi
+		;;
+	
+	stop|remove|uninstall|delete|rm|disable|sendmail|apple)
+		echo -n 'Checking if /usr/sbin/sendmail points to Fink Postfix... '
+		
+		if sendmailPointsToPostfix ; then
+			echo 'yes.'
+			
+			if [ ! -f /usr/sbin/sendmail.old ] ; then
+				echo '/usr/sbin/sendmail.old does not exist; cannot restore sendmail.'
+				exit 1;
+			fi
+			
+			echo
+			echo 'Replacing /usr/sbin/sendmail with sendmail.old'
+			mv /usr/sbin/sendmail.old /usr/sbin/sendmail || exit 1
+			echo 'Succeeded.'
+			echo
+			
+			if [ "x$2" == "x-n" ] ; then
+				echo 'Leaving /etc/hostconfig intact.'
+				exit;
+			fi
+			
+			echo 'Now we will take a crack at /etc/hostconfig.'
+			if grep '^[[:space:]]*MAILSERVER=-\(YES\|AUTOMATIC\)-' /etc/hostconfig > /dev/null ; then
+				echo 'Mail server is already enabled in /etc/hostconfig.'
+			else
+				echo "Backing up /etc/hostconfig to /etc/hostconfig.old."
+				cp -p /etc/hostconfig /etc/hostconfig.old || exit 1
+				
+				if ! grep '^[[:space:]]*MAILSERVER=' /etc/hostconfig > /dev/null ; then
+					echo '/etc/hostconfig does not include a MAILSERVER= line.'
+					echo -n 'Would you like to add one[Yn]? '
+					
+					ANS='?';
+					while [ $ANS == '?' ] ; do
+						read ANS
+						case "$ANS" in
+							y*|Y*)
+								echo 'MAILSERVER=-YES-' >> /etc/hostconfig || exit 1
+							;;
+							
+							n*|N*)
+								echo 'Leaving /etc/hostconfig as it is, removing backup.'
+								rm /etc/hostconfig.old || exit 1
+							;;
+							
+							*)
+								ANS='?'
+							;;
+						esac
+					done
+				else
+					echo 'Turning on the mail server in /etc/hosconfig.'
+					perl -pi.old -e's,MAILSERVER=-NO-,MAILSERVER=-YES-,' /etc/hostconfig || exit 1
+					echo 'Succeeded.'
+				fi
+			fi
+		else
+			echo 'no.'
+			echo 'Not making any changes.'
+		fi
+		;;
+	
+	*)	echo "mta-switch -- Switches between Fink's and Apple's Postfix."
+		echo 'usage: mta-switch {fink|apple} [-n]'
+		echo '    -n turns off modifcation of /etc/hostconfig'
+		exit 1
+		;;
+esac
+
diff -ruN postfix-2.1.4.orig/src/util/sys_defs.h postfix-2.1.4/src/util/sys_defs.h
--- postfix-2.1.4.orig/src/util/sys_defs.h	Mon Jun 14 14:13:40 2004
+++ postfix-2.1.4/src/util/sys_defs.h	Sat Sep 11 21:45:45 2004
@@ -124,9 +124,9 @@
 #define HAS_DB
 #define HAS_SA_LEN
 #define DEF_DB_TYPE	"hash"
-#define ALIAS_DB_MAP	"hash:/etc/aliases"
+#define ALIAS_DB_MAP	"hash:@FINKPREFIX@/etc/postfix/aliases"
 #define GETTIMEOFDAY(t) gettimeofday(t,(struct timezone *) 0)
-#define ROOT_PATH	"/bin:/usr/bin:/sbin:/usr/sbin"
+#define ROOT_PATH	"@FINKPREFIX@/bin:@FINKPREFIX@/sbin:/bin:/usr/bin:/sbin:/usr/sbin"
 #define USE_STATFS
 #define STATFS_IN_SYS_MOUNT_H
 #define HAS_POSIX_REGEXP
