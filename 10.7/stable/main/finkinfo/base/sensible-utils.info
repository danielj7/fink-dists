Package: sensible-utils
Version: 0.0.7
Revision: 1
Essential: true
Maintainer: Fink Core Group <fink-core@lists.sourceforge.net>
BuildDepends: fink (>= 0.24.12-1), po4a
Replaces: debianutils (<= 2.32.3)
Source: mirror:debian:pool/main/s/%n/%n_%v.tar.gz
Source-MD5: 9a208cceb0e9c5cc1d2aa4d53d7d2baa
SourceDirectory: %n-%v
PatchScript: <<
cd po4a && po4a --no-backups po4a.conf
perl -pi -e 's,/usr,%p,g' debian/mime
perl -pi -e 's,/usr,%p,g' sensible-browser
<<
ConfigureParams: --mandir=%p/share/man
CompileScript: <<
SENSIBLE_UTILS_VERSION="%v" ./configure %c
make
<<
InstallScript: <<
#!/bin/sh -ev

install -d -m 0755 %d/DEBIAN \
	           %i/bin \
	           %i/share/man/man1 \
	           %i/lib/mime/packages \
	           %i/share/doc/%n
make install DESTDIR=%d INSTALL_PROGRAM="install -m 0755"

ln -s sensible-editor.1 %i/share/man/man1/sensible-pager.1
ln -s sensible-editor.1 %i/share/man/man1/sensible-browser.1
ln -s sensible-editor.1 %i/share/man/fr/man1/sensible-pager.1
ln -s sensible-editor.1 %i/share/man/fr/man1/sensible-browser.1
ln -s sensible-editor.1 %i/share/man/pl/man1/sensible-pager.1
ln -s sensible-editor.1 %i/share/man/pl/man1/sensible-browser.1
ln -s sensible-editor.1 %i/share/man/es/man1/sensible-pager.1
ln -s sensible-editor.1 %i/share/man/es/man1/sensible-browser.1
ln -s sensible-editor.1 %i/share/man/de/man1/sensible-pager.1
ln -s sensible-editor.1 %i/share/man/de/man1/sensible-browser.1
ln -s sensible-editor.1 %i/share/man/ja/man1/sensible-pager.1
ln -s sensible-editor.1 %i/share/man/ja/man1/sensible-browser.1
ln -s sensible-editor.1 %i/share/man/it/man1/sensible-pager.1
ln -s sensible-editor.1 %i/share/man/it/man1/sensible-browser.1
install -m 0644 debian/mime %i/lib/mime/packages/sensible-utils
<<
PostInstScript: <<
set -e

case "$1" in
    (configure)
    if which update-mime >/dev/null;
    then
	    update-mime
    fi
    ;;
    (abort-upgrade|abort-remove|abort-deconfigure)

    ;;
    (*)
        echo "postinst called with unknown argument \`$1'" >&2
        exit 1
    ;;
esac
<<
PostRmScript: <<
set -e

case "$1" in
    (remove|disappear)
    if which update-mime >/dev/null;
    then
            update-mime
    fi
        ;;
    (upgrade|failed-upgrade|purge|abort-install|abort-upgrade)
        ;;
    (*)
        echo "prerm called with unknown argument \`$1'" >&2
        exit 1
    ;;
esac
<<
DocFiles: debian/changelog debian/copyright
Description: Utilities for sensible alternative selection
DescDetail: <<
This package provides a number of small utilities which are used by programs
to sensibly select and spawn an appropriate browser, editor, or pager.
.
The specific utilities included are: sensible-browser sensible-editor
sensible-pager
<<
Homepage: http://packages.debian.org/unstable/sensible-utils
License: GPL
