diff -uNr gnokii-0.6.20/configure gnokii-0.6.20-new/configure
--- gnokii-0.6.20/configure	2007-10-27 10:22:21.000000000 -0400
+++ gnokii-0.6.20-new/configure	2007-10-27 14:11:55.000000000 -0400
@@ -28439,7 +28439,7 @@
 _ACEOF
 
 		USE_BLUETOOTH="yes"
-		LIBS="$LIBS $PTHREAD_LIBS -framework CoreFoundation -framework IOBluetooth -framework Foundation"
+		LIBS="$LIBS $PTHREAD_LIBS -Wl,-framework,CoreFoundation -Wl,-framework,IOBluetooth -Wl,-framework,Foundation"
 	fi
 fi
 
diff -uNr gnokii-0.6.20/gnokii/gnokii-utils.c gnokii-0.6.20-new/gnokii/gnokii-utils.c
--- gnokii-0.6.20/gnokii/gnokii-utils.c	2007-10-27 10:22:01.000000000 -0400
+++ gnokii-0.6.20-new/gnokii/gnokii-utils.c	2007-10-27 14:12:08.000000000 -0400
@@ -43,6 +43,7 @@
 
 #include <stdio.h>
 #include <signal.h>
+#include <sys/stat.h>
 
 #include "gnokii-app.h"
 #include "gnokii.h"
diff -uNr gnokii-0.6.20/xgnokii/xgnokii_data.c gnokii-0.6.20-new/xgnokii/xgnokii_data.c
--- gnokii-0.6.20/xgnokii/xgnokii_data.c	2007-10-27 10:22:02.000000000 -0400
+++ gnokii-0.6.20-new/xgnokii/xgnokii_data.c	2007-10-27 14:20:19.000000000 -0400
@@ -65,7 +65,7 @@
 }
 
 
-inline void GUI_ShowData(void)
+void GUI_ShowData(void)
 {
 	if (!phoneMonitor.supported & PM_DATA)
 		return;
diff -uNr gnokii-0.6.20/xgnokii/xgnokii_data.h gnokii-0.6.20-new/xgnokii/xgnokii_data.h
--- gnokii-0.6.20/xgnokii/xgnokii_data.h	2007-10-27 10:22:02.000000000 -0400
+++ gnokii-0.6.20-new/xgnokii/xgnokii_data.h	2007-10-27 14:20:19.000000000 -0400
@@ -31,7 +31,7 @@
 #define XGNOKII_DATA_H
 
 void GUI_CreateDataWindow(void);
-inline void GUI_ShowData(void);
+extern void GUI_ShowData(void);
 inline void GUI_HideData(void);
 
 #endif
diff -uNr gnokii-0.6.20/xgnokii/xgnokii_lowlevel.h gnokii-0.6.20-new/xgnokii/xgnokii_lowlevel.h
--- gnokii-0.6.20/xgnokii/xgnokii_lowlevel.h	2007-10-27 10:22:02.000000000 -0400
+++ gnokii-0.6.20-new/xgnokii/xgnokii_lowlevel.h	2007-10-27 14:11:55.000000000 -0400
@@ -230,6 +230,6 @@
 extern void GUI_InsertEvent(PhoneEvent * event);
 extern gn_error GUI_InitSMSFolders(void);
 extern int isSMSactivated;
-struct gn_statemachine *statemachine;
+extern struct gn_statemachine *statemachine;
 
 #endif
