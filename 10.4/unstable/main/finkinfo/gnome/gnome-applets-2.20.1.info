Package: gnome-applets
Version: 2.20.1
Revision: 3
Depends: <<
	%N-shlibs (= %v-%r),
	atk1-shlibs (>= 1.20.0-1),
	audiofile-shlibs (>= 0.2.5-1),
	cairo-shlibs (>= 1.6-1),
	dbus-shlibs (>= 1.0-1),
	esound-shlibs (>= 0.2.38-1),
	expat1-shlibs,
	fontconfig2-shlibs (>= 2.4.1-1),
	freetype219-shlibs (>= 2.3.5-1),
	gail18-shlibs (>= 1.20.0-1),
	gconf2 (>= 2.20.0-1),
	gconf2-shlibs (>= 2.20.0-1),
	glib2-shlibs (>= 2.14.0-1),
	glitz-shlibs,
	gnome-desktop4-shlibs (>= 2.20.3-1),
	gnome-keyring-shlibs (>= 0.8.1-1),
	gnome-panel-shlibs (>= 2.20.0-1),
	gnome-python2-py25,
	gnome-vfs2-unified-shlibs (>= 1:2.20.0-1),
	gst-plugins-base-0.10-shlibs,
	gstreamer-0.10-shlibs,
	gtk+2 (>= 2.12.0-1),
	gtk+2-shlibs (>= 2.12.0-1),
	gucharmap6-shlibs,
	libart2-shlibs (>= 2.3.16-1),
	libavahi-client3-shlibs,
	libavahi-common3-shlibs,
	libavahi-glib1-shlibs,
	libbonobo2-shlibs (>= 2.20.0-1),
	libbonoboui2-shlibs(>= 2.20.0-1),
	libgettext3-shlibs,
	libglade2-shlibs (>= 2.6.2-1),
	libgnome2-shlibs (>= 2.20.0-1),
	libgnomecanvas2-shlibs (>= 2.20.0-1),
	libgnomekbd2-shlibs (>= 2.20.0-1),
	libgnomeui2-shlibs (>= 2.20.0-1),
	libgtop2.0.7-shlibs (>= 2.20.0-1),
	libiconv,
	libjpeg-shlibs,
	libpng3-shlibs,
	libwnck1.22-shlibs (>= 2.20.0-1),
	libxklavier12-shlibs,
	libxml2-shlibs (>= 2.6.30-1),
	orbit2-shlibs (>= 2.14.10-1),
	pango1-xft2-ft219-shlibs (>= 1.18.4-4),
	pixman-shlibs (>= 0.10.0-1),
	popt-shlibs,
	pygobject2-py25,
	pygtk2-gtk-py25,
	python25,
	rarian-compat,
	startup-notification-shlibs (>= 0.9-1),
	x11
<<
BuildDepends: <<
	atk1 (>= 1.20.0-1),
	avahi-dev,
	audiofile (>= 0.2.5-1),
	cairo (>= 1.6-1),
	dbus-dev (>= 1.0-1),
	docbook-utils,
	esound (>= 0.2.38-1),
	expat1,
	fontconfig2-dev (>= 2.4.1-1),
	freetype219 (>= 2.3.5-1),
	gail18-dev (>= 1.20.0-1),
	gconf2-dev (>= 2.20.0-1),
	gettext-bin,
	gettext-tools,
	glib2-dev (>= 2.14.0-1),
	glitz,
	gnome-desktop4-dev (>= 2.20.3-1),
	gnome-doc-utils (>= 0.12.0-1),
	gnome-icon-theme (>= 2.20.0-1),
	gnome-keyring-dev (>= 0.8.1-1),
	gnome-panel-dev (>= 2.20.0-1),
	gnome-python2-py25-dev,
	gnome-vfs2-unified-dev (>= 1:2.20.0-1),
	gst-plugins-base-0.10-dev,
	gstreamer-0.10-dev,
	gucharmap6-dev,
	gtk+2-dev (>= 2.12.0-1),
	gtk-doc (>= 1.8-1),
	intltool (>= 0.36.0-1),
	libart2 (>= 2.3.16-1),
	libavahi-glib1-dev,
	libbonobo2-dev (>= 2.20.0-1),
	libbonoboui2-dev (>= 2.20.0-1),
	libgettext3-dev,
	libglade2 (>= 2.6.2-1),
	libgnome2-dev (>= 2.20.0-1),
	libgnomecanvas2-dev (>= 2.20.0-1),
	libgnomekbd2-dev (>= 2.20.0-1),
	libgnomeui2-dev (>= 2.20.0-1),
	libgtop2.0.7-dev (>= 2.20.0-1),
	libiconv-dev,
	libjpeg,
	libpng3,
	libwnck1.22 (>= 2.20.0-1),
	libxklavier12,
	libxml2 (>= 2.6.30-1),
	libxslt-bin,
	orbit2-dev (>= 2.14.10-1),
	pango1-xft2-ft219-dev (>= 1.18.4-4),
	pixman (>= 0.10.0-1),
	pkgconfig (>= 0.21-1),
	popt,
	pygobject2-py25-dev,
	pygtk2-gtk-py25-dev,
	startup-notification-dev (>= 0.9-1),
	x11-dev,
	xft2-dev
<<
Source: mirror:gnome:sources/%n/2.20/%n-%v.tar.bz2
Source-MD5: e49402e7323bdd9595dc5cbfdba6ba5b
PatchScript: <<
#!/bin/sh -ev
	# recode ./some/path/ChangeLog as ChangeLogs/ChangeLog.some.path
	mkdir ChangeLogs
	for cl in `find . -name ChangeLog` ; do
		cp $cl ChangeLogs/`echo $cl | sed 's/^\.\(.*\)\/\(ChangeLog\)/\2\1/;s/\//./g'`
	done

	# recode ./some/path/README as READMEs/README.some.path
	mkdir READMEs
	for cl in `find . -name README` ; do
		cp $cl READMEs/`echo $cl | sed 's/^\.\(.*\)\/\(README\)/\2\1/;s/\//./g'`
	done

	pushd invest-applet/invest
		perl -pi -e 's|/usr/bin/env\s+python|%p/bin/python2.5|' chart.py invest-applet.py invest-chart
	popd

	perl -pi -e 's/(LIBNOTIFY_REQUIRED)\s*=.*/\1=99999/' configure
<<
NoSetCPPFLAGS: true
SetCPPFLAGS: -I%p/lib/pango-ft219/include/pango-1.0 -I%p/lib/pango-ft219/include -I%p/lib/freetype219/include/freetype2 -I%p/lib/freetype219/include -I%p/lib/fontconfig2/include -I%p/include
NoSetLDFLAGS: true
SetLDFLAGS: -L%p/lib/pango-ft219/lib -L%p/lib/freetype219/lib -L%p/lib/fontconfig2/lib
SetLIBS: -L%p/lib
SetCFLAGS: -Os
SetCXXFLAGS: -Os
ConfigureParams: --disable-schemas-install --disable-scrollkeeper --libexecdir=%p/lib/%n --mandir=%p/share/man --disable-dependency-tracking PKG_CONFIG_PATH="%p/lib/pango-ft219/lib/pkgconfig:%p/lib/fontconfig2/lib/pkgconfig:%p/lib/freetype219/lib/pkgconfig:$PKG_CONFIG_PATH" FREETYPE_CONFIG=%p/lib/freetype219/bin/freetype-config --without-hal
CompileScript: <<
	PYTHON=%p/bin/python2.5 ./configure %c
	make
<<
InstallScript: <<
	make -j1 install DESTDIR="%d"
	rm -rf %i/include
	rm -rf %i/lib/libgweather.{a,la,dylib}
	rm -rf %i/lib/pkgconfig
<<
DocFiles: AUTHORS COPYING* ChangeLogs/* NEWS READMEs/*

ConfFiles: <<
	%p/etc/gconf/schemas/charpick.schemas
	%p/etc/gconf/schemas/drivemount.schemas
	%p/etc/gconf/schemas/geyes.schemas
	%p/etc/gconf/schemas/gweather.schemas
	%p/etc/gconf/schemas/mixer.schemas
	%p/etc/gconf/schemas/multiload.schemas
	%p/etc/gconf/schemas/stickynotes.schemas
<<
PostInstScript: <<
	if [ configure = "$1" ]; then
		scrollkeeper-update
		export GCONF_CONFIG_SOURCE=`gconftool-2 --get-default-source`
		for s in charpick drivemount geyes gweather mixer multiload stickynotes; do
			gconftool-2 --makefile-install-rule %p/etc/gconf/schemas/$s.schemas >/dev/null
		done
		%p/bin/gtk-update-icon-cache -f -t %p/share/icons/hicolor
	fi
<<
PostRmScript: <<
	if [ upgrade != "$1" ]; then
		scrollkeeper-update
		%p/bin/gtk-update-icon-cache -f -t %p/share/icons/hicolor
	fi
<<

SplitOff: <<
	Package: %N-shlibs
	Replaces: %N (<< %v-%r)
	Depends: <<
		atk1-shlibs (>= 1.20.0-1),
		cairo-shlibs (>= 1.6-1),
		dbus-shlibs (>= 1.0-1),
		expat1-shlibs,
		fontconfig2-shlibs (>= 2.4.1-1),
		freetype219-shlibs (>= 2.3.5-1),
		gconf2-shlibs (>= 2.20.0-1),
		glib2-shlibs (>= 2.14.0-1),
		glitz-shlibs,
		gnome-vfs2-unified-shlibs (>= 1:2.20.0-1),
		gtk+2-shlibs (>= 2.12.0-1),
		libavahi-client3-shlibs,
		libavahi-common3-shlibs,
		libavahi-glib1-shlibs,
		libgettext3-shlibs,
		libiconv,
		libpng3-shlibs,
		libxml2-shlibs (>= 2.6.30-1),
		orbit2-shlibs (>= 2.14.10-1),
		pango1-xft2-ft219-shlibs (>= 1.18.4-4),
		pixman-shlibs (>= 0.10.0-1),
		x11
	<<
	Files: lib/libgweather.0*.dylib share/locale
	Shlibs: %p/lib/libgweather.0.dylib 1.0.0 %n (>= 2.20.0-1)
	DocFiles: AUTHORS COPYING* ChangeLogs/* NEWS READMEs/*
<<
#SplitOff2: <<
#	Package: %N-dev
#	Replaces: %N (<< %v-%r)
#	Depends: %N (= %v-%r)
#	BuildDependsOnly: true
#	Files: <<
#	<<
#	DocFiles: AUTHORS COPYING* ChangeLogs/* NEWS READMEs/*
#<<

DescPackaging: <<
	Make sure we get the correct python interp.

	Don't bother checking for HAL because it's only used for
	battstat, which is disabled on this platform.

	Force libnotify detection to fail so that the build is sane if
	fink ever gets that library
<<
Description: The Gnome Applets
DescDetail: <<
GNOME (GNU Network Object Model Environment) is a user-friendly
set of applications and desktop tools to be used in conjunction with a
window manager for the X Window System.  GNOME is similar in purpose and
scope to CDE and KDE, but GNOME is based completely on Open Source
software.  The gnome-applets package provides Panel applets which
enhance your GNOME experience.

You should install the gnome-applets package if you would like embed small
utilities in the GNOME panel.
<<
License: GPL/GFDL
Maintainer: The Gnome Core Team <fink-gnome-core@lists.sourceforge.net>
Homepage: http://www.gnome.org/
