Package: geomview
Version: 1.8.1
Revision: 5
GCC: 3.1
BuildDepends: libjpeg, lesstif (>= 0.93.18-2), xforms (>= 0.9999-3)
Depends: x11, xforms-bin, ghostscript | ghostscript6, lesstif-shlibs, libgl
Source: mirror:sourceforge:%n/%n-%v.tar.gz
Source-MD5: 1cb0e07a6552e9fe122491af70171536
UpdateConfigGuess: True
Patch: %f.patch
SetCPPFLAGS: -no-cpp-precomp -Dunix -D__FreeBSD__
SetLDFLAGS: -force_flat_namespace
ConfigureParams: --with-opengl=/usr/X11R6 --bindir='${prefix}/bin/geomview'  --datadir='${prefix}/share' --infodir='${prefix}/share/info' --mandir='${prefix}/share/man'
CompileScript: <<
 ./configure %c
 touch include/alloca.h
 make geomdatadir=%p/share moduledir=%p/bin/geomview
<<
InstallScript: <<
 make install prefix=%i geomdatadir=%i/share moduledir=%i/bin/geomview
 mkdir -p %i/etc/profile.d
 echo "set path = ( %p/bin/geomview \$path )" >  %i/etc/profile.d/geomview.csh
 echo "PATH=%p/bin/geomview:\$PATH" > %i/etc/profile.d/geomview.sh
 echo "export PATH" >> %i/etc/profile.d/geomview.sh
 chmod 755 %i/etc/profile.d/geomview.*
<<
InfoDocs: geomview
DocFiles: AUTHORS COPYING ChangeLog INSTALL.Geomview NEWS README
License: LGPL
Description: Interactive 3D viewing program
DescPort: <<
 Had to patch the code in one place, replacing ulong by u_long.
 The other patch, the -Dunix -D__FreeBSD__, and the touch include/alloca.h,
  are all dirty hacks to get configure and Makefiles to do the right thing.
 Also, geomdatadir had to be reset (like datadir) but there is no configure
 option to do it.  Similarly, moduledir had to be reset (like bindir).
<<
DescPackaging: <<
 Due to a conflict between the binary "animate" and a binary of the same
 name in the Imagemagick package, we store binaries in %p/bin/geomview (must
 reset both bindir and moduledir) and add that to the path.
<<
Maintainer: Dave Morrison <dmrrsn@users.sourceforge.net>
Homepage: http://www.geomview.org
