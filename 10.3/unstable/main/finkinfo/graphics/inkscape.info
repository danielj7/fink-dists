Package: inkscape
Version: 0.37
Revision: 11
Maintainer: Peter O'Gorman <peter@pogma.com> 
Depends: pango1-shlibs, gtk+2-shlibs, libart2-shlibs, libxml2-shlibs, libpng3-shlibs, popt-shlibs, atk1-shlibs, libsigc++12-shlibs
BuildDepends: atk1, pkgconfig, pango1-dev, gtk+2-dev, libart2, libxml2, libpng3, popt, gettext-dev, gettext-bin, libiconv-dev, libsigc++12
Source: http://www.inkscape.org/inkscape-0.37.tar.gz
Source-MD5: a53355cd2c2d6b838e75a089afb14d3e
Patch: %n.patch
ConfigureParams: --mandir=%i/share/man --with-xinerama --with-xft --disable-dependency-tracking
NoSetLDFlags: true
NoSetCppFlags: true
SetCPPFlags: -no-cpp-precomp
CompileScript: <<
#!/bin/sh -x
DYLD_LIBRARY_PATH=/usr/X11R6/lib:%p/lib
LIBRARY_PATH=/usr/X11R6/lib:%p/lib
CPATH=%p/include
LDFLAGS="-L/usr/X11R6/lib"
PATH="/usr/X11R6/bin:"$PATH
export DYLD_LIBRARY_PATH
export LIBRARY_PATH
export CPATH
export LDFLAGS
export PATH
if [ -f /usr/X11R6/lib/libfontconfig.dylib ]; then
export LIBS="-lfontconfig "$LIBS
fi
export LIBS="-L%p/lib -lintl "$LIBS
./configure %c
find . -name Makefile -exec perl -pi.bak -e 's#-[LlI](%p/lib|%p/include|%p/include/freetype2|m|pthread|c)\s# #g' {} \;
perl -pi.bak -e 's#-L%p/lib# #' libtool
make
<<
DocFiles: AUTHORS COPYING ChangeLog NEWS README
Description: SVG application
DescPort: <<
ensure that /usr/X11R6/lib/libfreetype is used
patched src/libnrtype/nr-type-ft2.cpp so that an invalid font file does not crash the app
<<
Homepage: http://www.inkscape.org/
License: GPL
