Info2: <<
Package: clearsilver-py%type_pkg[python]
Version: 0.9.12
Revision: 6
Type: python(2.2 2.3)
Maintainer: Jeremy Higgs <fink@higgs-family.net>
Depends: <<
python%type_pkg[python]-shlibs | python%type_pkg[python]-nox-shlibs,
system-perl
<<
BuildDepends: <<
python%type_pkg[python] | python%type_pkg[python]-nox
<<
Conflicts: clearsilver-py22, clearsilver-py23
Replaces: clearsilver-py22, clearsilver-py23
Source: http://www.clearsilver.net/downloads/clearsilver-%v.tar.gz
Source-MD5: 7a086e3349c290e4aa8d96c95a72da1b
PatchScript: sed -e 's|@PREFIX@|%p|g' -e 's|@INSTALLDIR@|%d|g' -e 's|@VERS@|%type_raw[python]|g' < %a/clearsilver-py.patch | patch -p1
UpdatePOD: true
ConfigureParams: --prefix=%p --with-python=%p/bin/python%type_raw[python] --with-apache=%p --disable-ruby --disable-csharp
InstallScript: <<
  #!/bin/sh
  plvers=`fink dumpinfo -f version system-perl 2>/dev/null | sed 's,^version: ,,'`
  make install DESTDIR=%d \
    INSTALLPRIVLIB=%p/lib/perl5/$plvers \
    INSTALLARCHLIB=%p/lib/perl5/$plvers/darwin \
    INSTALLSITELIB=%p/lib/perl5/$plvers \
    INSTALLSITEARCH=%p/lib/perl5/$plvers/darwin \
    INSTALLBIN=%p/bin \
    INSTALLSITEBIN=%p/bin \
    INSTALLSCRIPT=%p/bin

  mkdir -p %i/share/man/man3
  mv %d/man/man3/ClearSilver.3pm %i/share/man/man3/
  rm -rf %d/man

  ranlib %i/lib/*.a
<<
DocFiles: CS_LICENSE LICENSE README README.python
Description: Language-neutral HTML template system
DescDetail: <<
Clearsilver is a fast, powerful, and language-neutral HTML template system. 
In both static content sites and dynamic HTML applications, it provides a 
separation between presentation code and application logic which makes working
with your project easier.
<<
DescPackaging: <<
* Patches scripts/document.py to use the Fink-installed version of Python
* Ruby support is disabled.
* CSharp support is disabled, as it reportedly has problems with Mono.
* Ranlib run on the libraries to prevent issues when re-compiling.
* Custom installation paths to install Perl-related files into the correct
directories.
<<
License: BSD
Homepage: http://www.clearsilver.net/
<<
