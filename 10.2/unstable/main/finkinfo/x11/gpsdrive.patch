--- gpsdrive-1.32/src/Makefile.in.orig	2003-04-04 18:18:11.000000000 -0800
+++ gpsdrive-1.32/src/Makefile.in	2003-04-04 18:18:40.000000000 -0800
@@ -135,9 +135,9 @@
 noinst_LIBRARIES = libgpsd.a
 lib_LTLIBRARIES = libfly.la libnautic.la
 libfly_la_SOURCES = fly.c
-libfly_la_LDFLAGS = -version-info 2:0:0
+libfly_la_LDFLAGS = -module -avoid-version
 libnautic_la_SOURCES = nautic.c
-libnautic_la_LDFLAGS = -version-info 2:0:0
+libnautic_la_LDFLAGS = -module -avoid-version
 libgpsd_a_SOURCES = netlib.c nmea_parse.c serial.c  tm.c em.c  \
 	gps.h version.h 
 
--- gpsdrive-1.32/configure.orig	2003-04-04 18:36:12.000000000 -0800
+++ gpsdrive-1.32/configure	2003-04-04 18:36:17.000000000 -0800
@@ -5302,7 +5302,7 @@
     # FIXME: Relying on posixy $() will cause problems for
     #        cross-compilation, but unfortunately the echo tests do not
     #        yet detect zsh echo's removal of \ escapes.
-    archive_cmds='$nonopt $(test "x$module" = xyes && echo -bundle || echo -dynamiclib) $allow_undefined_flag -o $lib $libobjs $deplibs$linker_flags -install_name $rpath/$soname $verstring'
+    archive_cmds='$nonopt $(test x$module = xyes && echo -bundle || echo -dynamiclib) $allow_undefined_flag -o $lib $libobjs $deplibs$linker_flags $(test .$module != .yes && echo -install_name $rpath/$soname $verstring)'
     # We need to add '_' to the symbols in $export_symbols first
     #archive_expsym_cmds="$archive_cmds"' && strip -s $export_symbols'
     hardcode_direct=yes
--- gpsdrive-1.32/src/gpsdrive.c.orig	2003-04-04 18:59:44.000000000 -0800
+++ gpsdrive-1.32/src/gpsdrive.c	2003-04-04 19:18:47.000000000 -0800
@@ -8294,7 +8294,7 @@
 
   if (usesql)
     {
-      handle = dlopen ("libmysqlclient.so", RTLD_LAZY);
+      handle = dlopen ("@PREFIX@/lib/libmysqlclient.dylib", RTLD_LAZY);
       if (!handle)
       handle = dlopen ("libmysqlclient.so.10", RTLD_LAZY);
       if (!handle)
@@ -8314,14 +8314,14 @@
 
       if (handle)
 	{
-	  dl_mysql_error = dlsym (handle, "mysql_error");
+	  dl_mysql_error = dlsym (handle, "_mysql_error");
 	  if ((error = dlerror ()) != NULL)
 	    {
 	      fprintf (stderr, "%s\n", error);
 	      usesql = FALSE;
 	    }
 
-	  dl_mysql_init = dlsym (handle, "mysql_init");
+	  dl_mysql_init = dlsym (handle, "_mysql_init");
 	  if ((error = dlerror ()) != NULL)
 	    {
 	      fprintf (stderr, "%s\n", error);
@@ -8329,7 +8329,7 @@
 	    }
 
 
-	  dl_mysql_real_connect = dlsym (handle, "mysql_real_connect");
+	  dl_mysql_real_connect = dlsym (handle, "_mysql_real_connect");
 	  if ((error = dlerror ()) != NULL)
 	    {
 	      fprintf (stderr, "%s\n", error);
@@ -8337,7 +8337,7 @@
 	    }
 
 
-	  dl_mysql_close = dlsym (handle, "mysql_close");
+	  dl_mysql_close = dlsym (handle, "_mysql_close");
 	  if ((error = dlerror ()) != NULL)
 	    {
 	      fprintf (stderr, "%s\n", error);
@@ -8345,7 +8345,7 @@
 	    }
 
 
-	  dl_mysql_query = dlsym (handle, "mysql_query");
+	  dl_mysql_query = dlsym (handle, "_mysql_query");
 	  if ((error = dlerror ()) != NULL)
 	    {
 	      fprintf (stderr, "%s\n", error);
@@ -8353,7 +8353,7 @@
 	    }
 
 
-	  dl_mysql_affected_rows = dlsym (handle, "mysql_affected_rows");
+	  dl_mysql_affected_rows = dlsym (handle, "_mysql_affected_rows");
 	  if ((error = dlerror ()) != NULL)
 	    {
 	      fprintf (stderr, "%s\n", error);
@@ -8361,7 +8361,7 @@
 	    }
 
 
-	  dl_mysql_store_result = dlsym (handle, "mysql_store_result");
+	  dl_mysql_store_result = dlsym (handle, "_mysql_store_result");
 	  if ((error = dlerror ()) != NULL)
 	    {
 	      fprintf (stderr, "%s\n", error);
@@ -8369,7 +8369,7 @@
 	    }
 
 
-	  dl_mysql_fetch_row = dlsym (handle, "mysql_fetch_row");
+	  dl_mysql_fetch_row = dlsym (handle, "_mysql_fetch_row");
 	  if ((error = dlerror ()) != NULL)
 	    {
 	      fprintf (stderr, "%s\n", error);
@@ -8377,7 +8377,7 @@
 	    }
 
 
-	  dl_mysql_free_result = dlsym (handle, "mysql_free_result");
+	  dl_mysql_free_result = dlsym (handle, "_mysql_free_result");
 	  if ((error = dlerror ()) != NULL)
 	    {
 	      fprintf (stderr, "%s\n", error);
@@ -8385,7 +8385,7 @@
 	    }
 
 
-	  dl_mysql_eof = dlsym (handle, "mysql_eof");
+	  dl_mysql_eof = dlsym (handle, "_mysql_eof");
 	  if ((error = dlerror ()) != NULL)
 	    {
 	      fprintf (stderr, "%s\n", error);
diff -r -u gpsdrive-1.32/src/gpsdrive.c gpsdrive-1.32.1/src/gpsdrive.c
--- gpsdrive-1.32/src/gpsdrive.c	2003-01-26 13:27:46.000000000 -0700
+++ gpsdrive-1.32.1/src/gpsdrive.c	2003-04-26 12:59:29.000000000 -0600
@@ -5738,7 +5738,7 @@

   if (!expedia)
     sprintf (writebuff,
-	     "GET http://%s/myblastd/MakeMap.d?&CT=%s%%3A%s%%3A%s&IC=&W=1280&H=1024&LB= HTTP/1.0\r\nUser-Agent: Wget/1.6\r\nHost: %s\r\nAccept: */*\r\nConnection: Keep-Alive\r\n\r\n",
+	     "GET http://%s/gif?&CT=%s:%s:%s&IC=&W=1280&H=1024&FAM=myblast&LB=HTTP/1.0\r\nUser-Agent: Wget/1.6\r\nHost: %s\r\nAccept: */*\r\nConnection:Keep-Alive\r\n\r\n",
 	     WEBSERVER, lat, longi, sc, hostname);
   else
     {
diff -r -u gpsdrive-1.32/src/gpsdrive.h gpsdrive-1.32.1/src/gpsdrive.h
--- gpsdrive-1.32/src/gpsdrive.h	2003-01-15 09:56:43.000000000 -0700
+++ gpsdrive-1.32.1/src/gpsdrive.h	2003-04-20 14:50:20.000000000 -0600
@@ -113,7 +113,7 @@
 #ifdef LOCALTEST
 #define WEBSERVER "wuffi.ganter.at"
 #else
-#define WEBSERVER "www.mapblast.com"
+#define WEBSERVER "www.vicinity.com"
 #endif
 #define WEBSERVER2 "msrvmaps.mappoint.net"

