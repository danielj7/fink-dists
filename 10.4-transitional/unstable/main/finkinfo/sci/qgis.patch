Index: providers/postgres/qgspostgresprovider.cpp
===================================================================
RCS file: /cvsroot/qgis/qgis/providers/postgres/qgspostgresprovider.cpp,v
retrieving revision 1.31.2.7
diff -u -a -r1.31.2.7 qgspostgresprovider.cpp
--- providers/postgres/qgspostgresprovider.cpp	10 Dec 2004 03:54:23 -0000	1.31.2.7
+++ providers/postgres/qgspostgresprovider.cpp	12 Feb 2005 04:25:48 -0000
@@ -603,13 +603,13 @@
 #endif
   if(useIntersect){
     declare += " where intersects(" + geometryColumn;
-    declare += ", GeometryFromText('BOX3D(" + rect->stringRep();
+    declare += ", setsrid('BOX3D(" + rect->stringRep();
     declare += ")'::box3d,";
     declare += srid;
     declare += "))";
   }else{
     declare += " where " + geometryColumn;
-    declare += " && GeometryFromText('BOX3D(" + rect->stringRep();
+    declare += " && setsrid('BOX3D(" + rect->stringRep();
     declare += ")'::box3d,";
     declare += srid;
     declare += ")";
