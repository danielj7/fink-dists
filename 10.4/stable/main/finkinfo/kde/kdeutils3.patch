
--- kdeutils-3.5.4/klaptopdaemon/Makefile.am	2006-01-19 11:49:18.000000000 -0500
+++ kdeutils-3.5.4-new/klaptopdaemon/Makefile.am	2006-08-01 23:42:11.000000000 -0400
@@ -21,7 +21,7 @@
 kcm_laptop_la_SOURCES = battery.cpp main.cpp pcmcia.cpp power.cpp warning.cpp \
 	acpi.cpp sony.cpp profile.cpp buttons.cpp apm.cpp  
 kcm_laptop_la_LDFLAGS  = $(all_libraries) $(KDE_PLUGIN) -module
-kcm_laptop_la_LIBADD = $(LIB_KFILE) $(LIB_KDEUI) libkcmlaptop.la
+kcm_laptop_la_LIBADD = $(LIB_KFILE) $(LIB_KDEUI) libkcmlaptop.la $(LIBZ)
 kcm_laptop_la_COMPILE_FIRST = crcresult.h
 
 AM_CPPFLAGS = $(all_includes)
--- kdeutils-3.5.4/ksim/monitors/snmp/configure.in.in	2006-07-22 04:12:20.000000000 -0400
+++ kdeutils-3.5.4-new/ksim/monitors/snmp/configure.in.in	2006-08-01 23:42:11.000000000 -0400
@@ -37,4 +37,4 @@
   fi
 fi
 
-AM_CONDITIONAL(include_ksim_monitors_snmp, test "x$enable_snmp" = xyes)
+AM_CONDITIONAL(include_ksim_monitors_snmp, /usr/bin/false)
--- kdeutils-3.5.4/superkaramba/configure.in.in	2006-01-20 01:49:18.000000000 -0500
+++ kdeutils-3.5.4-new/superkaramba/configure.in.in	2006-08-01 23:42:11.000000000 -0400
@@ -75,3 +75,5 @@
 if test -z "$PYTHONINC" ; then
         DO_NOT_COMPILE="$DO_NOT_COMPILE superkaramba"
 fi
+
+AC_CHECK_HEADERS(netinet/in.h sys/sockio.h)
--- kdeutils-3.5.4/superkaramba/src/Makefile.am	2006-01-19 11:49:35.000000000 -0500
+++ kdeutils-3.5.4-new/superkaramba/src/Makefile.am	2006-08-01 23:42:11.000000000 -0400
@@ -40,7 +40,7 @@
 
 # kde_cfg_DATA = superkaramba.kcfg
 
-superkaramba_LDFLAGS = -Wl,-export-dynamic  $(KDE_RPATH) $(all_libraries) $(PYTHONLIB) $(XMMS_LDFLAGS)
+superkaramba_LDFLAGS = $(KDE_RPATH) $(all_libraries) $(PYTHONLIB) $(XMMS_LDFLAGS)
 #superkaramba_LDADD = -lkio $(LIB_KDEUI) $(XMMS_LDADD) $(LIBPYTHON) $(LIBKVM) $(MY_LIBKNEWSTUFF)
 superkaramba_LDADD = -lkio $(LIB_KDEUI) $(XMMS_LIBS) $(LIBPYTHON) $(LIBKVM) $(MY_LIBKNEWSTUFF)
 
--- kdeutils-3.5.4/superkaramba/src/misc_python.cpp	2006-03-17 05:13:37.000000000 -0500
+++ kdeutils-3.5.4-new/superkaramba/src/misc_python.cpp	2006-08-01 23:42:11.000000000 -0400
@@ -617,10 +617,10 @@
 #include <sys/ioctl.h>
 #include <net/if.h>
 #include <arpa/inet.h>
-#ifdef __FreeBSD__
+#ifdef HAVE_NETINET_IN_H
 #include <netinet/in.h>
 #endif
-#if defined(Q_OS_SOLARIS)
+#ifdef HAVE_SYS_SOCKIO_H
 #include <sys/sockio.h>
 #endif
 /* now a method we need to expose to Python */
--- kdeutils-3.5.6/ksim/monitors/lm_sensors/Makefile.am	2005-10-10 10:59:12.000000000 -0400
+++ kdeutils-3.5.6-new/ksim/monitors/lm_sensors/Makefile.am	2007-01-17 17:35:29.000000000 -0500
@@ -1,9 +1,9 @@
 kde_module_LTLIBRARIES = ksim_sensors.la
 
 if include_nv
-NVCTRL_LIB= NVCtrl.la
-NVCtrl_la_SOURCES = NVCtrl.c
-NVCtrl_la_LDFLAGS = -module $(all_libraries) $(KDE_PLUGIN)
+NVCTRL_LIB=libNVCtrl.la
+libNVCtrl_la_SOURCES = NVCtrl.c
+libNVCtrl_la_LDFLAGS = $(all_libraries) $(KDE_RPATH)
 endif
 
 noinst_LTLIBRARIES = $(NVCTRL_LIB)
