Package: oidentd
Version: 2.0.4
Revision: 2
###
Depends: daemonic
###
Source: mirror:sourceforge:ojnk/%n-%v.tar.gz
Source-MD5: 3b3b1468c57a727b0992753b183e4751
###
PatchScript: sed -e s,@FINKPREFIX@,%p,g %a/%f.patch | patch -p1
###
ConfigureParams: --disable-ipv6 --disable-masq --mandir=%i/share/man --infodir=%p/share/info --libexecdir=%p/lib
###
InstallScript: <<
  make install prefix=%i
  mkdir -p %i/etc
  cp fink/oidentd.conf %i/etc
  chmod 664 %i/etc/oidentd.conf
<<
###
PostInstScript: <<
  # update init script if necessary
  daemonic update %n
<<
PreRmScript: <<
  # clean up
  [ -f %p/var/run/%n.pid ] && kill `cat %p/var/run/%n.pid`
  if [ $1 != "upgrade" ]; then
    daemonic remove %n
  fi
<<
###
DocFiles: AUTHORS COPYING* ChangeLog* INSTALL NEWS README TODO
ConfFiles: %p/etc/oidentd.conf
###
DaemonicName: oidentd
DaemonicFile: <<
  <service>
    <description>oIdent Daemon</description>
    <message>oIdent Daemon</message>

    <daemon name="oidentd">
      <executable background="yes">%p/sbin/oidentd</executable>
      <parameters>-u nobody -g nogroup</parameters>
      <!-- the daemon will background itself, but may take a while
           to start up to the point where it does so -->
      <pidfile>%p/var/run/oidentd.pid</pidfile>
    </daemon>

  </service>
<<
###
Description: Identd with IP masq/NAT support and able to specify responses
DescDetail: <<
oidentd is an RFC 1413 compliant ident daemon which runs on Linux, FreeBSD,
NetBSD, Darwin, OpenBSD, and Solaris. It can handle IP masqueraded/NAT
connections on Linux, FreeBSD, NetBSD, and OpenBSD, and it has a flexible
mechanism for specifying ident responses. Users can be granted permission
to specify their own ident responses. Responses can be specified according
to host and port pairs. 
<<
###
License: GPL
Maintainer: Justin F. Hallett <thesin@users.sourceforge.net>
Homepage: http://dev.ojnk.net/
