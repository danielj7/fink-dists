Package: dhcp
Version: 3.1.0
Revision: 1
Architecture: i386
Maintainer: Michael Richmond <marichmon@users.sourceforge.net>
Source: ftp://ftp.isc.org/isc/%n/%n-%v.tar.gz
Source-MD5: 27d179a3c3fbef576566b456a1168246
License: OSI-Approved
Homepage: http://www.isc.org/products/DHCP/

BuildDepends: fink (>= 0.24.12)
Depends: daemonic

PatchFile: %n.patch
PatchFile-MD5: b775a18f0d78dc95812a59460f2b6976
PatchScript: sed "s|@FINK@|%p|g" < %{PatchFile} | patch -p1

CompileScript: <<
  ./configure
  make
<<

InstallScript: <<
  make install DESTDIR=%d

  mkdir -p %i/var/db/
  mkdir -p %i/etc/

  touch %i/var/db/dhcpd.leases

  cp %b/server/dhcpd.conf %i/etc
<<

ConfFiles: %p/etc/dhcpd.conf %p/var/db/dhcpd.leases

DocFiles: LICENSE README RELNOTES doc/*.txt doc/IANA-arp-parameters doc/api+protocol

DaemonicFile: <<
<service>
        <description>
                DHCP Server
        </description>
        <message>
                Starting DHCP Server
        </message>
        <daemon name="dhcp">
                <executable checkexit="true">%p/sbin/dhcpd -q -cf %p/etc/dhcpd.conf -lf %p/var/db/dhcpd.leases</executable>
        </daemon>
</service>
<<

DaemonicName: dhcp

Description: Server/Client by the ISC

DescDetail: <<
The ISC Dynamic Host Configuration Protocol Distribution provides a freely
redistributable reference implementation of all aspects of the DHCP protocol,
through a suite of DHCP tools:

 - A DHCP server
 - A DHCP client
 - A DHCP relay agent

These tools all use a modular APIB which is designed to be sufficiently general
that it can easily be made to work on POSIX-compliant operating systems and
also non-POSIX systems like Windows NT and MacOS.

The DHCP server, client and relay agent are provided both as reference
implementations of the protocol and as working, fully-featured sample
implementations. Both the client and the server provide functionality that,
while not strictly required by the protocol, is very useful in practice. The
DHCP server also makes allowances for non-compliant clients which one might
still like to support.
<<

DescUsage: <<
Run 'sudo daemonic install dhcp' to launch at startup.
Run 'sudo daemonic enable dhcp' to launch immediately.
<<

DescPackaging: <<
Modifies site.conf to put everything in the right places and to use a
flat namespace when linking.
<<

DescPort: <<
Compiles perfectly on Darwin
<<
