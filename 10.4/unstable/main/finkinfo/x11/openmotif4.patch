--- openmotif-2.3.0.orig/Makefile.in	2007-08-09 03:27:57.000000000 -0400
+++ openmotif-2.3.0/Makefile.in	2008-04-25 22:31:30.000000000 -0400
@@ -249,8 +249,7 @@
              include \
              tools \
              clients \
-             doc \
-             demos
+             doc
 
 AUTOMAKE_OPTIONS = 1.4
 all: all-recursive
--- openmotif-2.3.0.orig/tools/wml/Makefile.in	2007-08-09 03:27:56.000000000 -0400
+++ openmotif-2.3.0/tools/wml/Makefile.in	2008-04-25 22:34:46.000000000 -0400
@@ -270,7 +270,7 @@
 wmluiltok_SOURCES = wmluiltok.l
 wmluiltok_LDADD = @LEXLIB@
 wml_SOURCES = wml.c
-wml_LDADD = -L. -lwml
+wml_LDADD = libwml.a
 wmldbcreate_LDADD = ../../lib/Xm/libXm.la
 INCLUDES = -I../../lib -I$(srcdir)/../../lib -I$(srcdir)/../../include ${X_CFLAGS} 
 noinst_LIBRARIES = libwml.a
--- openmotif-2.3.0/configure.org	2008-07-03 09:55:51.000000000 -0400
+++ openmotif-2.3.0/configure	2008-07-03 10:01:04.000000000 -0400
@@ -21391,9 +21391,9 @@
   lt_save_CFLAGS="$CFLAGS"
 lt_save_CPPFLAGS="$CPPFLAGS"
 lt_save_LIBS="$LIBS"
-LIBS="$X_LIBS -lXt $X_PRE_LIBS -lX11 $X_EXTRA_LIBS $LIBS"
-CFLAGS="$X_CFLAGS $CFLAGS"
-CPPFLAGS="$X_CFLAGS $CPPFLAGS"
+LIBS="$LIBS $X_LIBS -lXt $X_PRE_LIBS -lX11 $X_EXTRA_LIBS"
+CFLAGS="$CFLAGS $X_CFLAGS"
+CPPFLAGS="$CPPFLAGS $X_CFLAGS"
 if test "$cross_compiling" = yes; then
   lt_cv_xthreads=dunno
 else
@@ -21777,8 +21777,8 @@
 
 save_LIBS="$LIBS"
 save_CFLAGS="$CFLAGS"
-LIBS="$X_LIBS $LIBS"
-CFLAGS="$X_CFLAGS $CFLAGS"
+LIBS="$LIBS $X_LIBS"
+CFLAGS="$CFLAGS $X_CFLAGS"
 
 for ac_header in X11/Xmu/Editres.h
 do
--- openmotif-2.3.0/lib/Mrm/Makefile.in.orig	2007-08-09 03:27:54.000000000 -0400
+++ openmotif-2.3.0/lib/Mrm/Makefile.in	2008-07-03 13:16:15.000000000 -0400
@@ -76,10 +76,10 @@
 depcomp = $(SHELL) $(top_srcdir)/depcomp
 am__depfiles_maybe = depfiles
 COMPILE = $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) \
-	$(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
+	$(CPPFLAGS) $(AM_CFLAGS)
 LTCOMPILE = $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) \
 	$(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) \
-	$(AM_CFLAGS) $(CFLAGS)
+	$(AM_CFLAGS)
 CCLD = $(CC)
 LINK = $(LIBTOOL) --tag=CC --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(AM_LDFLAGS) $(LDFLAGS) -o $@
@@ -238,7 +238,7 @@
 MAINTAINERCLEANFILES = Makefile.in
 CLEANFILES = $(BUILT_SOURCES)
 EXTRA_DIST = Mrm.msg Imakefile
-INCLUDES = -I$(srcdir)/.. -I.. -I../Xm ${X_CFLAGS}
+INCLUDES = -I$(srcdir)/.. -I.. -I../Xm ${CFLAGS} ${X_CFLAGS}
 mrmdir = $(includedir)/Mrm
 libMrm_la_LIBADD = ../Xm/libXm.la ${X_LIBS} -lXt ${X_PRE_LIBS} -lX11 ${X_EXTRA_LIBS}
 lib_LTLIBRARIES = libMrm.la
@@ -315,7 +315,7 @@
 	  rm -f "$${dir}/so_locations"; \
 	done
 libMrm.la: $(libMrm_la_OBJECTS) $(libMrm_la_DEPENDENCIES) 
-	$(LINK) -rpath $(libdir) $(libMrm_la_LDFLAGS) $(libMrm_la_OBJECTS) $(libMrm_la_LIBADD) $(LIBS)
+	$(LINK) -rpath $(libdir) $(libMrm_la_LDFLAGS) $(libMrm_la_OBJECTS) $(LIBS) $(libMrm_la_LIBADD)
 
 mostlyclean-compile:
 	-rm -f *.$(OBJEXT)
--- openmotif-2.3.0/lib/Xm/Makefile.in.orig	2007-08-09 03:27:55.000000000 -0400
+++ openmotif-2.3.0/lib/Xm/Makefile.in	2008-07-03 13:18:03.000000000 -0400
@@ -163,10 +163,10 @@
 depcomp = $(SHELL) $(top_srcdir)/depcomp
 am__depfiles_maybe = depfiles
 COMPILE = $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) \
-	$(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
+	$(CPPFLAGS) $(AM_CFLAGS)
 LTCOMPILE = $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) \
 	$(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) \
-	$(AM_CFLAGS) $(CFLAGS)
+	$(AM_CFLAGS)
 CCLD = $(CC)
 LINK = $(LIBTOOL) --tag=CC --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(AM_LDFLAGS) $(LDFLAGS) -o $@
@@ -350,7 +350,7 @@
 INCLUDES = -I.. -I$(srcdir)/.. -DXMBINDDIR_FALLBACK=\"@XMBINDDIR_FALLBACK@\" \
            -DINCDIR=\"@INCDIR@\" \
            -DLIBDIR=\"@LIBDIR@\" \
-           ${X_CFLAGS}
+           ${CFLAGS} ${X_CFLAGS}
 
 xmdir = $(includedir)/Xm
 lib_LTLIBRARIES = libXm.la
@@ -675,7 +675,7 @@
 	  rm -f "$${dir}/so_locations"; \
 	done
 libXm.la: $(libXm_la_OBJECTS) $(libXm_la_DEPENDENCIES) 
-	$(LINK) -rpath $(libdir) $(libXm_la_LDFLAGS) $(libXm_la_OBJECTS) $(libXm_la_LIBADD) $(LIBS)
+	$(LINK) -rpath $(libdir) $(libXm_la_LDFLAGS) $(libXm_la_OBJECTS) $(LIBS) $(libXm_la_LIBADD)
 
 mostlyclean-compile:
 	-rm -f *.$(OBJEXT)
--- openmotif-2.3.0/clients/mwm/Makefile.in.orig	2007-08-09 03:27:20.000000000 -0400
+++ openmotif-2.3.0/clients/mwm/Makefile.in	2008-07-03 13:19:27.000000000 -0400
@@ -75,10 +75,10 @@
 depcomp = $(SHELL) $(top_srcdir)/depcomp
 am__depfiles_maybe = depfiles
 COMPILE = $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) \
-	$(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
+	$(CPPFLAGS) $(AM_CFLAGS)
 LTCOMPILE = $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) \
 	$(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) \
-	$(AM_CFLAGS) $(CFLAGS)
+	$(AM_CFLAGS)
 CCLD = $(CC)
 LINK = $(LIBTOOL) --tag=CC --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(AM_LDFLAGS) $(LDFLAGS) -o $@
@@ -258,7 +258,7 @@
            -DCDE_INSTALLATION_TOP=\"@CDE_INSTALLATION_TOP@\" \
            -DCDE_CONFIGURATION_TOP=\"@CDE_CONFIGURATION_TOP@\" \
            -DBITMAPDIR=\"@INCDIR@/bitmaps\" \
-           -I$(srcdir)/../../lib ${X_CFLAGS}
+           -I$(srcdir)/../../lib ${CFLAGS} ${X_CFLAGS}
 
 SRCS1 = WmCDInfo.c	WmCDecor.c	WmCEvent.c\
 	WmCPlace.c	WmColormap.c	WmError.c\
@@ -375,7 +375,7 @@
 	done
 mwm$(EXEEXT): $(mwm_OBJECTS) $(mwm_DEPENDENCIES) 
 	@rm -f mwm$(EXEEXT)
-	$(LINK) $(mwm_LDFLAGS) $(mwm_OBJECTS) $(mwm_LDADD) $(LIBS)
+	$(LINK) $(mwm_LDFLAGS) $(mwm_OBJECTS) $(LIBS) $(mwm_LDADD) 
 
 mostlyclean-compile:
 	-rm -f *.$(OBJEXT)
--- openmotif-2.3.0/clients/uil/Makefile.in.orig	2007-08-09 03:27:21.000000000 -0400
+++ openmotif-2.3.0/clients/uil/Makefile.in	2008-07-03 13:23:21.000000000 -0400
@@ -94,10 +94,10 @@
 depcomp = $(SHELL) $(top_srcdir)/depcomp
 am__depfiles_maybe = depfiles
 COMPILE = $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) \
-	$(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
+	$(CPPFLAGS) $(AM_CFLAGS)
 LTCOMPILE = $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) \
 	$(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) \
-	$(AM_CFLAGS) $(CFLAGS)
+	$(AM_CFLAGS)
 CCLD = $(CC)
 LINK = $(LIBTOOL) --tag=CC --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(AM_LDFLAGS) $(LDFLAGS) -o $@
@@ -265,7 +265,7 @@
            -I$(srcdir)/../../tools/wml \
            -I../../include \
            -I../../lib \
-           -I../../tools/wml ${X_CFLAGS}
+           -I../../tools/wml ${CFLAGS} ${X_CFLAGS}
 
 BUILT_SOURCES = UilParser.c UilLexPars.c UilDBDef.h
 CLEANFILES = UilParser.c UilLexPars.c UilDBDef.h
--- openmotif-2.3.0/clients/xmbind/Makefile.in.orig	2007-08-09 03:27:21.000000000 -0400
+++ openmotif-2.3.0/clients/xmbind/Makefile.in	2008-07-03 13:25:18.000000000 -0400
@@ -61,10 +61,10 @@
 depcomp = $(SHELL) $(top_srcdir)/depcomp
 am__depfiles_maybe = depfiles
 COMPILE = $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) \
-	$(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
+	$(CPPFLAGS) $(AM_CFLAGS)
 LTCOMPILE = $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) \
 	$(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) \
-	$(AM_CFLAGS) $(CFLAGS)
+	$(AM_CFLAGS)
 CCLD = $(CC)
 LINK = $(LIBTOOL) --tag=CC --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(AM_LDFLAGS) $(LDFLAGS) -o $@
@@ -220,7 +220,7 @@
 target_vendor = @target_vendor@
 MAINTAINERCLEANFILES = Makefile.in
 LDADD = ../../lib/Xm/libXm.la
-INCLUDES = -I$(srcdir)/../../lib ${X_CFLAGS}
+INCLUDES = -I$(srcdir)/../../lib ${CFLAGS} ${X_FLAGS}
 all: all-am
 
 .SUFFIXES:
--- openmotif-2.3.0/tools/wml/Makefile.in.orig	2008-07-03 13:13:39.000000000 -0400
+++ openmotif-2.3.0/tools/wml/Makefile.in	2008-07-03 13:27:42.000000000 -0400
@@ -77,10 +77,10 @@
 depcomp = $(SHELL) $(top_srcdir)/depcomp
 am__depfiles_maybe = depfiles
 COMPILE = $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) \
-	$(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
+	$(CPPFLAGS) $(AM_CFLAGS)
 LTCOMPILE = $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) \
 	$(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) \
-	$(AM_CFLAGS) $(CFLAGS)
+	$(AM_CFLAGS)
 CCLD = $(CC)
 LINK = $(LIBTOOL) --tag=CC --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(AM_LDFLAGS) $(LDFLAGS) -o $@
@@ -272,7 +272,7 @@
 wml_SOURCES = wml.c
 wml_LDADD = libwml.a
 wmldbcreate_LDADD = ../../lib/Xm/libXm.la
-INCLUDES = -I../../lib -I$(srcdir)/../../lib -I$(srcdir)/../../include ${X_CFLAGS} 
+INCLUDES = -I../../lib -I$(srcdir)/../../lib -I$(srcdir)/../../include ${CFLAGS} ${X_CFLAGS} 
 noinst_LIBRARIES = libwml.a
 libwml_a_SOURCES = wmlparse.y wml.c wmloutkey.c wmlouth.c wmloutmm.c wmloutp1.c wmlresolve.c wmlsynbld.c wmlutils.c
 all: all-am
@@ -377,18 +377,18 @@
 @am__fastdepCC_FALSE@	$(LTCOMPILE) -c -o $@ $<
 
 wmldbcreate.o: $(srcdir)/wmldbcreate.c
-@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT wmldbcreate.o -MD -MP -MF "$(DEPDIR)/wmldbcreate.Tpo" -c -o wmldbcreate.o `test -f '$(srcdir)/wmldbcreate.c' || echo '$(srcdir)/'`$(srcdir)/wmldbcreate.c; \
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) -MT wmldbcreate.o -MD -MP -MF "$(DEPDIR)/wmldbcreate.Tpo" -c -o wmldbcreate.o `test -f '$(srcdir)/wmldbcreate.c' || echo '$(srcdir)/'`$(srcdir)/wmldbcreate.c; \
 @am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/wmldbcreate.Tpo" "$(DEPDIR)/wmldbcreate.Po"; else rm -f "$(DEPDIR)/wmldbcreate.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='$(srcdir)/wmldbcreate.c' object='wmldbcreate.o' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o wmldbcreate.o `test -f '$(srcdir)/wmldbcreate.c' || echo '$(srcdir)/'`$(srcdir)/wmldbcreate.c
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) -c -o wmldbcreate.o `test -f '$(srcdir)/wmldbcreate.c' || echo '$(srcdir)/'`$(srcdir)/wmldbcreate.c
 
 wmldbcreate.obj: $(srcdir)/wmldbcreate.c
-@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT wmldbcreate.obj -MD -MP -MF "$(DEPDIR)/wmldbcreate.Tpo" -c -o wmldbcreate.obj `if test -f '$(srcdir)/wmldbcreate.c'; then $(CYGPATH_W) '$(srcdir)/wmldbcreate.c'; else $(CYGPATH_W) '$(srcdir)/$(srcdir)/wmldbcreate.c'; fi`; \
+@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) -MT wmldbcreate.obj -MD -MP -MF "$(DEPDIR)/wmldbcreate.Tpo" -c -o wmldbcreate.obj `if test -f '$(srcdir)/wmldbcreate.c'; then $(CYGPATH_W) '$(srcdir)/wmldbcreate.c'; else $(CYGPATH_W) '$(srcdir)/$(srcdir)/wmldbcreate.c'; fi`; \
 @am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/wmldbcreate.Tpo" "$(DEPDIR)/wmldbcreate.Po"; else rm -f "$(DEPDIR)/wmldbcreate.Tpo"; exit 1; fi
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='$(srcdir)/wmldbcreate.c' object='wmldbcreate.obj' libtool=no @AMDEPBACKSLASH@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o wmldbcreate.obj `if test -f '$(srcdir)/wmldbcreate.c'; then $(CYGPATH_W) '$(srcdir)/wmldbcreate.c'; else $(CYGPATH_W) '$(srcdir)/$(srcdir)/wmldbcreate.c'; fi`
+@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) -c -o wmldbcreate.obj `if test -f '$(srcdir)/wmldbcreate.c'; then $(CYGPATH_W) '$(srcdir)/wmldbcreate.c'; else $(CYGPATH_W) '$(srcdir)/$(srcdir)/wmldbcreate.c'; fi`
 
 .l.c:
 	$(LEXCOMPILE) $<
--- openmotif-2.3.0/config/util/Makefile.in.orig	2008-07-03 13:30:45.000000000 -0400
+++ openmotif-2.3.0/config/util/Makefile.in	2008-07-03 13:32:02.000000000 -0400
@@ -58,10 +58,10 @@
 depcomp = $(SHELL) $(top_srcdir)/depcomp
 am__depfiles_maybe = depfiles
 COMPILE = $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) \
-	$(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
+	$(CPPFLAGS) $(AM_CFLAGS) 
 LTCOMPILE = $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) \
 	$(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) \
-	$(AM_CFLAGS) $(CFLAGS)
+	$(AM_CFLAGS) 
 CCLD = $(CC)
 LINK = $(LIBTOOL) --tag=CC --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(AM_LDFLAGS) $(LDFLAGS) -o $@
@@ -223,7 +223,7 @@
 	     mkdirhier.man mkdirhier.sh mkshadow syminst.sh x11mf.sh \
 	     xmkmf.cpp xmkmf.man Makefile.ini
 
-INCLUDES = ${X_CFLAGS}
+INCLUDES = ${CFLAGS} ${X_CFLAGS}
 all: all-am
 
 .SUFFIXES:
