--- root.orig/Makefile	Fri Jul  9 05:32:58 2004
+++ root.new/Makefile	Fri Aug 13 15:04:52 2004
@@ -43,7 +43,7 @@
 ##### Modules to build #####
 
 MODULES       = build cint metautils utils base cont meta net zip clib matrix \
-                newdelete hist tree freetype graf g3d gpad gui minuit \
+                newdelete hist tree graf g3d gpad gui minuit \
                 histpainter treeplayer treeviewer proof physics postscript \
                 rint html eg geom geompainter vmc fumili mlp gedold ged quadp \
                 guibuilder
@@ -72,6 +72,9 @@
 SYSTEMDO      = $(UNIXDO)
 endif
 endif
+endif
+ifneq ($(ARCH),macosx)
+MODULES      += freetype
 endif
 ifneq ($(OPENGLINCDIR),)
 ifneq ($(OPENGLULIB),)
--- root.orig/config/root-config.in	Mon Sep 20 07:09:19 2004
+++ root.new/config/root-config.in	Sat Sep 25 23:28:42 2004
@@ -258,7 +258,7 @@
    auxcflags=`[ -d ${finkdir}/include ] && echo -I${finkdir}/include`
    auxlibs="-lm `[ -d ${finkdir}/lib ] && echo -L${finkdir}/lib` -ldl"
    # cannot find the one linked to libGraf if relocated after built
-   rootlibs="$rootlibs -lfreetype"
+   rootlibs="$rootlibs -L/usr/X11R6/lib -lfreetype"
    if [ $macosx_minor -le 3 ]; then
       forcelibs=$rootulibs
       forceglibs=$rootuglibs
--- root.orig/config/Makefile.macosx	Thu Dec 16 10:54:39 2004
+++ root.new/config/Makefile.macosx	Fri Dec 17 12:04:40 2004
@@ -24,9 +24,11 @@
 CC            = gcc
 CXXFLAGS      = -pipe -W -Wall -Wno-long-double -Woverloaded-virtual \
                 -fsigned-char -fno-common \
-                -I/usr/X11R6/include $(EXTRA_CXXFLAGS) $(FINK_CXXFLAGS)
+                -I/usr/X11R6/include -I/usr/X11R6/include/freetype2 \
+		$(EXTRA_CXXFLAGS) $(FINK_CXXFLAGS)
 CFLAGS        = -pipe -W -Wall -Wno-long-double -fsigned-char -fno-common \
-                -I/usr/X11R6/include $(EXTRA_CFLAGS) $(FINK_CFLAGS)
+                -I/usr/X11R6/include -I/usr/X11R6/include/freetype2 \
+		$(EXTRA_CFLAGS) $(FINK_CFLAGS)
 CINTCXXFLAGS  = -pipe -W -Wall -Wno-long-double -Woverloaded-virtual \
                 -fsigned-char -fno-common \
                 -DG__REGEXP $(EXTRA_CXXFLAGS) $(FINK_CXXFLAGS) \
@@ -64,7 +66,7 @@
 
 # System libraries:
 SYSLIBS       = -lm $(EXTRA_LDFLAGS) $(FINK_LDFLAGS) $(OSTHREADLIBDIR) \
-                $(OSTHREADLIB) -ldl
+                $(OSTHREADLIB) -ldl -L/usr/X11R6/lib -lfreetype
 XLIBS         = $(XPMLIBDIR) $(XPMLIB) $(X11LIBDIR) -lX11
 CILIBS        = -lm $(EXTRA_LDFLAGS) $(FINK_LDFLAGS) -ldl
 
