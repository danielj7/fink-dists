Package: lilypond
Version: 1.8.1
Revision: 3
Maintainer: Matthias Neeracher <neeracher@mac.com>
GCC: 3.1
BuildDepends: db41, readline (>= 4.3-5), gdbm, gmp, expat, guile16-dev, tcltk, tcltk-dev, dlcompat-dev, tetex-dev | system-tetex, flex, gettext-dev, gettext-bin
Depends: db41-shlibs, python23 | python23-nox, guile16, gmp-shlibs, expat-shlibs, tetex-base
Conflicts: lilypond-unstable
Replaces: lilypond-unstable
Source: http://www.lilypond.org/ftp/v1.8/%n-%v.tar.gz
Source-MD5: 324cb3be8a454599737dd4b668879de2
Source2: mirror:debian:debian/pool/main/l/%n/%n_%v-1_i386.deb
Source2-MD5: f635ae2a47b0a7709b4e23d140551056
Patch: %n.patch
SetCPPFLAGS: -no-cpp-precomp
SetCXX: c++
ConfigureParams: --infodir='$(prefix)/share/info' --mandir='$(prefix)/share/man'
CompileScript: <<
ar x ../lilypond_%v-1_i386.deb data.tar.gz
tar zxf data.tar.gz ./usr/share/lilypond/%v/fonts/type1
tar zxf data.tar.gz ./etc/texmf/dvips/
mv ./etc/texmf/dvips ./usr/share/lilypond/%v
PREFIX=%p ./lexer-gcc-3.1.sh
GUILE_CONFIG=guile-1.6-config ./configure %c
ulimit -S -s 8192; gnumake 
<<
InstallScript: <<
gnumake prefix=%i install
ditto -V ./usr %i
cp buildscripts/out/clean-fonts %i/share/lilypond/%v/clean-fonts
mkdir -p %i/etc/profile.d
cp buildscripts/out/lilypond-profile %i/etc/profile.d/lilypond.sh
cp buildscripts/out/lilypond-login %i/etc/profile.d/lilypond.csh
mkdir -p %i/etc/texmf.local/tex
ln -s %p/share/lilypond/%v/tex %i/etc/texmf.local/tex/lilypond
mkdir -p %i/etc/texmf.local/fonts/source/public
ln -s %p/share/lilypond/%v/fonts/source %i/etc/texmf.local/fonts/source/public/lilypond
mkdir -p %i/etc/texmf.local/fonts/afm/public
ln -s %p/share/lilypond/%v/fonts/afm %i/etc/texmf.local/fonts/afm/public/lilypond
mkdir -p %i/etc/texmf.local/fonts/tfm/public
ln -s %p/share/lilypond/%v/fonts/tfm %i/etc/texmf.local/fonts/tfm/public/lilypond
mkdir -p %i/etc/texmf.local/fonts/type1/public
ln -s %p/share/lilypond/%v/fonts/type1 %i/etc/texmf.local/fonts/type1/public/lilypond
mkdir -p %i/etc/texmf.local/dvips
ln -s %p/share/lilypond/%v/dvips %i/etc/texmf.local/dvips/lilypond
mkdir -p input %i/share/doc/%n
cp -R input %i/share/doc/%n/input
<<
PostInstScript: <<
if [ -f %p/bin/mktexlsr ]; then mktexlsr %p/etc/texmf.local; fi
%p/share/lilypond/%v/clean-fonts
echo @@@
echo @@@ Installation Complete.
echo @@@
echo @@@ Start a NEW shell to get the correct lilypond environment settings.
echo @@@
<<
PostRmScript: if [ -f %p/bin/mktexlsr ]; then mktexlsr %p/etc/texmf.local; fi
DocFiles: COPYING README.txt
InfoDocs: lilypond.info lilypond-internals.info
Description: GNU Music Typesetter
DescDetail: <<
LilyPond prints beautiful sheet music. It produces music notation from
a description file. It excels at typesetting classical music, but you
can also print pop-songs.

LilyPond input is plain text. So, you can use your favorite text
editor to enter it, you can put it in mail or embed it in an article
like this:

\key c \minor r8 c16 b c8 g as c16 b c8 d | g,4

Or you can use it to print music from other programs, using one of the
numerous input filters.

LilyPond output looks beautiful. The font and the layout algorithms
were inspired by engraved music, so you can expect that same clear and
elegant look from your LilyPond output. And if anything is not to your
liking, you can tweak almost everything.
<<
License: GPL
Homepage: http://www.lilypond.org
