diff -uNr gettext-0.18.1.1/gettext-runtime/libasprintf/Makefile.in gettext-0.18.1.1-new/gettext-runtime/libasprintf/Makefile.in
--- gettext-0.18.1.1/gettext-runtime/libasprintf/Makefile.in	2007-11-06 18:35:22.000000000 -0500
+++ gettext-0.18.1.1-new/gettext-runtime/libasprintf/Makefile.in	2007-12-06 16:31:05.000000000 -0500
@@ -394,7 +394,7 @@
 # How to build libasprintf.
 # With libtool 1.5.14, on some platforms, like BeOS, "libtool --tag=CXX" fails
 # to create a shared library, however "libtool --tag=CC" succeeds.
-libasprintf_la_LDFLAGS = @LTNOUNDEF@
+libasprintf_la_LDFLAGS = @LTNOUNDEF@ -static
 libgnu_la_SOURCES = dummy.c
 libgnu_la_LIBADD = $(gl_LTLIBOBJS) @LTALLOCA@
 libgnu_la_DEPENDENCIES = $(gl_LTLIBOBJS) @LTALLOCA@
diff -uNr gettext-0.18.1.1/gettext-tools/configure gettext-0.18.1.1-new/gettext-tools/configure
--- gettext-0.18.1.1/gettext-tools/configure 2010-06-06 13:12:20.000000000 -0700
+++ gettext-0.18.1.1-new/gettext-tools/configure 2010-08-13 23:24:09.000000000 -0700
@@ -40606,7 +40606,9 @@
 #include <stdlib.h>
 #include <string.h> /* for strcpy */
 /* The stpncpy prototype is missing in <string.h> on AIX 4.  */
+#ifndef stpncpy
 extern char *stpncpy (char *dest, const char *src, size_t n);
+#endif
 int main () {
   const char *src = "Hello";
   char dest[10];
diff -uNr gettext-0.18.1.1/gettext-tools/src/Makefile.in gettext-0.18.1.1-new/gettext-tools/src/Makefile.in
--- gettext-0.18.1.1/gettext-tools/src/Makefile.in	2012-08-31 20:21:15.000000000 -0400
+++ gettext-0.18.1.1-new/gettext-tools/src/Makefile.in	2012-08-31 20:22:03.000000000 -0400
@@ -2039,6 +2045,10 @@
 	$(AM_V_CC) @AM_BACKSLASH@
 	$(LTCOMPILE) -c -o $@ $<
 
+format-sh.lo: format-sh.c
+	$(AM_V_CC) @AM_BACKSLASH@
+	$(LTCOMPILE) -O0 -c -o $@ $<
+
 gettextsrc-exports.lo: ../woe32dll/gettextsrc-exports.c
 	$(AM_V_CC) @AM_BACKSLASH@
 	$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o gettextsrc-exports.lo `test -f '../woe32dll/gettextsrc-exports.c' || echo '$(srcdir)/'`../woe32dll/gettextsrc-exports.c
@@ -2357,11 +2357,11 @@
 
 xgettext-xgettext.o: xgettext.c
 	$(AM_V_CC) @AM_BACKSLASH@
-	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(xgettext_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o xgettext-xgettext.o `test -f 'xgettext.c' || echo '$(srcdir)/'`xgettext.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(xgettext_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -O0 -c -o xgettext-xgettext.o `test -f 'xgettext.c' || echo '$(srcdir)/'`xgettext.c
 
 xgettext-xgettext.obj: xgettext.c
 	$(AM_V_CC) @AM_BACKSLASH@
-	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(xgettext_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o xgettext-xgettext.obj `if test -f 'xgettext.c'; then $(CYGPATH_W) 'xgettext.c'; else $(CYGPATH_W) '$(srcdir)/xgettext.c'; fi`
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(xgettext_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -O0 -c -o xgettext-xgettext.obj `if test -f 'xgettext.c'; then $(CYGPATH_W) 'xgettext.c'; else $(CYGPATH_W) '$(srcdir)/xgettext.c'; fi`
 
 xgettext-x-c.o: x-c.c
 	$(AM_V_CC) @AM_BACKSLASH@
