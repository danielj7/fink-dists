Package: gmetadom0
Version: 0.2.6
Revision: 1

Source: mirror:sourceforge:gmetadom/gmetadom-%v.tar.gz
Source-MD5: 7bfb5d9c6f20ffa5e790b63d1f8cb481

BuildDepends: <<
	fink (>= 0.24.12-1),
	glib2-dev (>= 2.18.0-1),
	libgdome0 (>= 0.8.1-5),
	libgettext3-dev,
	libiconv-dev,
	libxml2 (>= 2.6.32-1),
	libxslt-bin,
	pkgconfig (>= 0.23)
<<
Depends: %N-shlibs (= %v-%r)
GCC: 4.0

BuildDependsOnly: true

SetCPPFLAGS: -Wall
SetCXXFLAGS: -Wall
ConfigureParams: --mandir=%p/share/man --disable-dependency-tracking --with-modules=gdome_cpp_smart
PatchFile: %n.patch
PatchFile-MD5: 91c1c33297ee7e1e9c8f2fbe8fa641f4
CompileScript: <<
	OCAMLC=no OCAMLOPT=no HAVE_OCAMLDEP=no HAVE_OCAMLFIND=no ./configure %c
	make
<<
InstallScript: <<
  make install DESTDIR=%d
<<
DocFiles: AUTHORS COPYING ChangeLog HISTORY LICENSE

SplitOff: <<
  Package: %N-shlibs
  Depends: <<
		glib2-shlibs (>= 2.18.0-1),
		libgettext3-shlibs,
		libiconv,
		libgdome0-shlibs (>= 0.8.1-5),
		libxml2-shlibs (>= 2.6.32-1)
  <<
  Files: lib/libgmetadom_gdome_cpp_smart.0.*dylib
  DocFiles: AUTHORS COPYING ChangeLog HISTORY LICENSE NEWS README
  Shlibs: %p/lib/libgmetadom_gdome_cpp_smart.0.dylib 3.0.0 %n (>= 0.2.3-1)
<<

DescPort: <<
  The g++ linker already passes -lstdc++ to ld, so don't also pass it
  explicitly.

  Make sure all local -I come before global ones.
<<
DescPackaging: <<
	Disable ocaml stuff because I don't use it but keep seeing
	reports that ocaml version-updates break things.
<<

Description: C++ bindings for DOM level2 library
Homepage: http://gmetadom.sourceforge.net
License: LGPL
Maintainer: Daniel Macks <dmacks@netspace.org>
