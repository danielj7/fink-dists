Info2: <<
Package: grass60%type_pkg[-nopgsql]%type_pkg[-nogdal]
Type: -nopgsql (boolean), -nogdal (boolean)
Version: 6.0.0
Revision: 2
Description: Powerful GIS software
License: GPL
Homepage: http://grass.itc.it
Maintainer: BABA Yoshihiko <babayoshihiko@mac.com>
DescDetail: <<
Very Powerful Geographical Information System with CLI and GUI.
<<
DescUsage: Just type 'grass60' at the command prompt inside an X environment.

# Dependencies.
# Dependencies.
Depends: <<
	%N-shlibs (>=%v-%r), 
	fftw-shlibs | fftw-mpi-shlibs | fftw-absoft-shlibs, 
	(%type_raw[-nogdal] = .) gdal-shlibs | (%type_raw[-nogdal] = .) gdal-ssl-shlibs | (%type_raw[-nogdal] = .) gdal-grass-shlibs | (%type_raw[-nogdal] = .) gdal-nopgsql-shlibs | (%type_raw[-nogdal] = .) gdal-nopgsql-grass-shlibs, 
	proj, gettext, libjpeg-shlibs, libpng3-shlibs, libtiff-shlibs, lesstif-shlibs, 
	(%type_raw[-nopgsql] = .) postgresql80-shlibs (>= 8.0.2-13) | (%type_raw[-nopgsql] = .) postgresql80-ssl-shlibs (>= 8.0.2-13), 
	tcltk (>= 8.4.1-1), 
	unixodbc2-nox-shlibs | unixodbc2-shlibs, 
	x11-shlibs
<<
BuildDepends: <<
	libiconv-dev, readline (>= 4.3-5) | readline5, 
	fftw | fftw-mpi | fftw-absoft, 
	(%type_raw[-nogdal] = .) gdal-dev | (%type_raw[-nogdal] = .) gdal-ssl-dev, 
	libjpeg, libpng3, libtiff, lesstif, 
	(%type_raw[-nopgsql] = .) postgresql80-dev (>= 8.0.2-13) | (%type_raw[-nopgsql] = .) postgresql80-ssl-dev (>= 8.0.2-13), 
	tcltk-dev (>= 8.4.1-1), 
	unixodbc2-nox | unixodbc2, 
	x11, x11-dev
<<

Suggests: g77, r-base
Conflicts: grass, grass5.7, grass60, grass60-nopgsql, grass60-ssl
Replaces: grass, grass5.7, grass60, grass60-nopgsql, grass60-ssl

# Unpack Phase.
Source: mirror:custom:grass-%v.tar.gz
CustomMirror: <<
 afr-ZA: http://grass.ru.ac.za/grass60/source/
 asi-JP: http://wgrass.media.osaka-cu.ac.jp/grassh/grass60/source/
 asi-TH: http://www.hpcc.nectec.or.th/grass/grass60/source/
 asi-TW: http://grass.cis.sinica.edu.tw/grass60/source/
 eur-DE: http://www.geog.uni-hannover.de/grass/grass60/source/
 eur-IT: http://grass.itc.it/grass60/source/
 eur-UK: http://www.fieldinstruments.co.uk/grass/grass60/source/
 nam-US: http://grass.ibiblio.org/grass60/source/
<<
Source-MD5: acfa05ada219cd15c9db1a5d5320e008

# Patch Phase.

# Compile Phase.
GCC: 3.3
SetCPPFLAGS: -I%p/include/grass60
SetLDFLAGS: -L%p/lib/grass60
ConfigureParams: --bindir=%p/grass/bin --bindir=%i/bin --with-includes='%p/include /usr/X11R6/include' --with-cxx --with-readline --with-dbm --with-odbc (%type_raw[-nopgsql] = -nopgsql) --without-postgres (%type_raw[-nopgsql] = .) --with-postgres (%type_raw[-nopgsql] = .) --with-postgres-includes=%p/include/postgresql --with-glw --with-freetype --with-freetype-includes=/usr/X11R6/include/freetype2 --with-freetype-libs=/usr/X11R6/lib --with-motif --with-glw-includes=/usr/X11R6/include --with-nls --with-proj --with-proj-includes=%p/include --with-proj-libs=%p/lib (%type_raw[-nogdal] = .) --with-gdal=%p/bin/gdal-config (%type_raw[-nogdal] = -nogdal) --without-gdal 
CompileScript: <<
	./configure %c
	make
	echo "Compile Skipped"
<<

# Install Phase.
InstallScript: <<
#!/bin/sh -xe
  
  # Installing grass60
  make install prefix=%i/share
  mv %i/share/grass-%v/bin grass-6.0
  mv grass-6.0 %i/bin
  
  # Moving Shared Libraries
  mv %i/share/grass-%v/lib grass-6.0
  mkdir -p %i/lib
  mv grass-6.0 %i/lib
  
  # Moving Headers
  mv %i/share/grass-%v/include grass-6.0
  mkdir -p %i/include
  mv grass-6.0 %i/include
  
  # Moving conf files
  mv %i/share/grass-%v/etc grass-6.0
  mkdir -p %i/etc
  mv grass-6.0 %i/etc
  
  # Moving HTML docs
  mkdir %i/share/doc
  mv %i/share/grass-%v/docs %i/share/doc/grass-6.0
  
  # Stripping the last digit
  mv %i/share/grass-%v %i/share/grass-6.0
<<
DocFiles: AUTHORS CHANGES COPYING GPL.TXT INSTALL README REQUIREMENTS.html SUBMITTING TODO

# Additional Phase.
SplitOff: <<
  Package: %N-dev
  Description: GRASS Development Headers
  Depends: %N (>= %v-%r)
  BuildDependsOnly: true
  Conflicts: grass60-dev, grass60-nopgsql-dev, grass60-nogdal-dev, grass60-nopgsql-nogdal-dev
  Replaces: grass60-dev, grass60-nopgsql-dev, grass60-nogdal-dev, grass60-nopgsql-nogdal-dev
  Files: <<
    include/grass-6.0
    lib/grass-6.0/libgrass_D.dylib
    lib/grass-6.0/libgrass_I.dylib
    lib/grass-6.0/libgrass_Iortho.dylib
    lib/grass-6.0/libgrass_bitmap.dylib
    lib/grass-6.0/libgrass_btree.dylib
    lib/grass-6.0/libgrass_cdhc.dylib
    lib/grass-6.0/libgrass_datetime.dylib
    lib/grass-6.0/libgrass_dbmibase.dylib
    lib/grass-6.0/libgrass_dbmiclient.dylib
    lib/grass-6.0/libgrass_dbmidriver.dylib
    lib/grass-6.0/libgrass_dbstubs.dylib
    lib/grass-6.0/libgrass_dgl.dylib
    lib/grass-6.0/libgrass_dig2.dylib
    lib/grass-6.0/libgrass_display.dylib
    lib/grass-6.0/libgrass_dspf.dylib
    lib/grass-6.0/libgrass_edit.dylib
    lib/grass-6.0/libgrass_form.dylib
    lib/grass-6.0/libgrass_g3d.dylib
    lib/grass-6.0/libgrass_gis.dylib
    lib/grass-6.0/libgrass_gmath.dylib
    lib/grass-6.0/libgrass_gproj.dylib
    lib/grass-6.0/libgrass_image.dylib
    lib/grass-6.0/libgrass_interpdata.dylib
    lib/grass-6.0/libgrass_interpfl.dylib
    lib/grass-6.0/libgrass_ismap.a
    lib/grass-6.0/libgrass_linkm.dylib
    lib/grass-6.0/libgrass_manage.a
    lib/grass-6.0/libgrass_ogsf.dylib
    lib/grass-6.0/libgrass_qtree.dylib
    lib/grass-6.0/libgrass_raster.dylib
    lib/grass-6.0/libgrass_rowio.dylib
    lib/grass-6.0/libgrass_rtree.dylib
    lib/grass-6.0/libgrass_segment.dylib
    lib/grass-6.0/libgrass_shape.dylib
    lib/grass-6.0/libgrass_sites.dylib
    lib/grass-6.0/libgrass_sqlp.dylib
    lib/grass-6.0/libgrass_symb.dylib
    lib/grass-6.0/libgrass_trans.dylib
    lib/grass-6.0/libgrass_vask.dylib
    lib/grass-6.0/libgrass_vect.dylib
  <<
  DocFiles: COPYING GPL.TXT 
<<
SplitOff2: <<
  Package: %N-shlibs
  Description: GRASS Shared Libraries
  Depends: <<
	fftw-shlibs | fftw-mpi-shlibs | fftw-absoft-shlibs, 
	(%type_raw[-nogdal] = .) gdal-shlibs | (%type_raw[-nogdal] = .) gdal-ssl-shlibs | (%type_raw[-nogdal] = .) gdal-grass-shlibs | (%type_raw[-nogdal] = .) gdal-nopgsql-shlibs | (%type_raw[-nogdal] = .) gdal-nopgsql-grass-shlibs, 
	proj, gettext, libjpeg-shlibs, libpng3-shlibs, libtiff-shlibs, lesstif-shlibs, 
	(%type_raw[-nopgsql] = .) postgresql80-shlibs (>= 8.0.2-13) | (%type_raw[-nopgsql] = .) postgresql80-ssl-shlibs (>= 8.0.2-13), 
	unixodbc2-nox-shlibs | unixodbc2-shlibs, 
	x11-shlibs
  <<
  Conflicts: grass60-shlibs, grass60-nopgsql-shlibs, grass60-nogdal-shlibs, grass60-nopgsql-nogdal-shlibs
  Replaces: grass60-shlibs, grass60-nopgsql-shlibs, grass60-nogdal-shlibs, grass60-nopgsql-nogdal-shlibs
  Files: lib/grass-6.0/libgrass_*.6.0.0.dylib
  Shlibs: <<
	       %p/lib/grass60/libgrass_D.6.0.0.dylib            0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_I.6.0.0.dylib            0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_bitmap.6.0.0.dylib       0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_btree.6.0.0.dylib        0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_cdhc.6.0.0.dylib         0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_datetime.6.0.0.dylib     0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_dbmibase.6.0.0.dylib     0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_dbmiclient.6.0.0.dylib   0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_dbmidriver.6.0.0.dylib   0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_dbstubs.6.0.0.dylib      0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_dgl.6.0.0.dylib          0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_dig2.6.0.0.dylib         0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_display.6.0.0.dylib      0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_dspf.6.0.0.dylib         0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_edit.6.0.0.dylib         0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_form.6.0.0.dylib         0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_g3d.6.0.0.dylib          0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_gis.6.0.0.dylib          0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_gmath.6.0.0.dylib        0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_gproj.6.0.0.dylib        0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_image.6.0.0.dylib        0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_interpdata.6.0.0.dylib   0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_interpfl.6.0.0.dylib     0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_linkm.6.0.0.dylib        0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_ogsf.6.0.0.dylib         0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_qtree.6.0.0.dylib        0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_raster.6.0.0.dylib       0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_rowio.6.0.0.dylib        0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_rtree.6.0.0.dylib        0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_segment.6.0.0.dylib      0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_shape.6.0.0.dylib        0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_sites.6.0.0.dylib        0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_sqlp.6.0.0.dylib         0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_symb.6.0.0.dylib         0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_trans.6.0.0.dylib        0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_vask.6.0.0.dylib         0.0.0 grass60 (>=6.0.0-1)
           %p/lib/grass60/libgrass_vect.6.0.0.dylib         0.0.0 grass60 (>=6.0.0-1)
  <<
  DocFiles: COPYING GPL.TXT
<<

DescPort: <<
LAPACK and BLAS supports are disabled because no module uses them in version 6.0.0.
If we want them, replace all '-lblas' with '-framework vecLib' and replace all 
'-llapack' with '-framework vecLib' to use MacOSX's native LAPACK/BLAS.
<<

# End of Info2
<<
