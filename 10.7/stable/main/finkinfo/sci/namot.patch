diff -Nurd -x'*~' namot-2.2.0-pre4.orig/src/Makefile.am namot-2.2.0-pre4/src/Makefile.am
--- namot-2.2.0-pre4.orig/src/Makefile.am	2002-12-31 03:14:49.000000000 -0500
+++ namot-2.2.0-pre4/src/Makefile.am	2013-07-10 13:07:00.000000000 -0400
@@ -44,6 +44,6 @@
 		scriptinter.h snapshot.h vectors.h singlestrand.h \
 		amberff.h mc.h read_amber7.h
 _pynamot_la_CFLAGS = $(AM_CFLAGS) $(PYINCLUDE)
-_pynamot_la_LDFLAGS = -module
+_pynamot_la_LDFLAGS = -module -avoid-version
 libexec_SCRIPTS = pynamot.py
 endif
diff -Nurd -x'*~' namot-2.2.0-pre4.orig/src/graphics.c namot-2.2.0-pre4/src/graphics.c
--- namot-2.2.0-pre4.orig/src/graphics.c	2002-10-12 20:18:15.000000000 -0400
+++ namot-2.2.0-pre4/src/graphics.c	2013-07-10 12:16:09.000000000 -0400
@@ -1331,7 +1331,7 @@
 PackPNGRows(
     ) {
     int ctr1=0,ctr2=0;
-    char *srcptr=NULL;
+    unsigned char *srcptr=NULL;
     png_byte **row_pointers;
     long pos=0;
     void *Imageptr;
diff -Nurd -x'*~' namot-2.2.0-pre4.orig/src/pngwriter.c namot-2.2.0-pre4/src/pngwriter.c
--- namot-2.2.0-pre4.orig/src/pngwriter.c	2002-08-22 15:31:09.000000000 -0400
+++ namot-2.2.0-pre4/src/pngwriter.c	2013-07-10 12:48:19.000000000 -0400
@@ -1,3 +1,4 @@
+#include <string.h>
 #include "general.h"
 #include "x.h"
 
diff -Nurd -x'*~' namot-2.2.0-pre4.orig/src/x.h namot-2.2.0-pre4/src/x.h
--- namot-2.2.0-pre4.orig/src/x.h	2002-06-14 18:53:18.000000000 -0400
+++ namot-2.2.0-pre4/src/x.h	2013-07-10 12:16:09.000000000 -0400
@@ -17,8 +17,9 @@
  */
 
 #define Long 	long
+#ifndef HAVE_PNG_H
 #define Byte	unsigned char
-
+#endif
 extern void InitX();
 
 #ifdef GRAPHICS
