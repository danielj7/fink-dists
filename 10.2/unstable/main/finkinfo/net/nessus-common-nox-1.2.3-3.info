Package: nessus-common-nox
Version: 1.2.3
Revision: 3
###
Depends: daemonic, dlcompat, libpoll-shlibs, libnasl-shlibs, libnessus-shlibs | libnessus-ssl-shlibs
BuildDepends: libpoll, libnasl, libnessus | libnessus-ssl
Suggests: nessus-plugins
Replaces: nessus-common, nessus-core, nessus-core-nox
Conflicts: nessus-common, nessus-core, nessus-core-nox
###
Source: ftp://ftp.nessus.org/pub/nessus/nessus-%v/src/nessus-core-%v.tar.gz
Source-MD5: fa1187cc27b8d116f6a2fa575e5dda29
SourceDirectory: nessus-core
###
Patch: %f.patch
###
ConfigureParams: --without-x --mandir=%i/share/man --infodir=%p/share/info --libexecdir=%p/lib
InstallScript: <<
  make install prefix=%i
  mv %i/include/nessus/includes.h %i/include/nessus/includes-core.h
<<
###
DocFiles: CHANGES INSTALL README* TODO UPGRADE* VERSION
###
PostInstScript: <<
  update-alternatives --install %p/include/nessus/includes.h includes.h %p/include/nessus/includes-core.h 60
<<
PreRmScript: <<
if [ $1 != "upgrade" ]; then
  update-alternatives --remove includes.h %p/include/nessus/includes-core.h
fi
<<
###
DaemonicName: nessusd
DaemonicFile: <<
<service>
<description>Nessus Remote Security Scanner</description>
<message>Nessus Remote Security Scanner</message>

<daemon name="nessusd">
<executable background="yes">%p/sbin/nessusd</executable>
<!-- the daemon will background itself, but may take a while
     to start up to the point where it does so -->
<pidfile>%p/var/nessus/nessus.pid</pidfile>
</daemon>

</service>
<<
###
Description: Core package for Nessus (No X11)
DescDetail: <<
Nessus is a remote security scanner for Linux, BSD, Solaris, and other
Unices. It is multi-threaded and plug-in-based, has a GTK interface, and
performs over 500 remote security checks. It allows for reports to be
generated in HTML, XML, LaTeX, and ASCII text, and suggests solutions for
security problems.
<<
###
License: GPL
Maintainer: Justin F. Hallett <thesin@users.sourceforge.net>
Homepage: http://www.nessus.org/
