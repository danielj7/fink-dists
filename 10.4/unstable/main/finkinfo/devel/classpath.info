Package: classpath
Version: 0.97.1
Revision: 2
Description: Essential libraries for Java
License: GPL
Maintainer: Trevor Harmon <trevor@vocaro.com>

Depends: libiconv, system-java (>= 1.5)
BuildDepends: libiconv-dev, ecj (>= 3.2.2), system-java-dev (>= 1.4), fink (>= 0.28)
# classpath includes header files and a dylib, but it's not BuildDependsOnly
BuildDependsOnly: false

ConfigureParams: --disable-dependency-tracking --disable-gtk-peer --disable-gconf-peer --disable-plugin --enable-jni --infodir=%p/share/info --with-ecj-jar=%p/share/java/ecj/ecj.jar --with-vm=java

InstallScript: make install DESTDIR=%d

Source: mirror:gnu:%n/%n-%v.tar.gz
Source-MD5: 35e81f0e0055a8b8a7a879077cf2b3c6

# classpath includes some dylibs, but these are used by classpath itself and are
# not intended to be shared. Therefore, a -shlibs SplitOff isn't necessary.
Shlibs: <<
	!%p/lib/%n/libjavaio.0.dylib
	!%p/lib/%n/libjavalang.0.dylib
	!%p/lib/%n/libjavalangmanagement.0.dylib
	!%p/lib/%n/libjavalangreflect.0.dylib
	!%p/lib/%n/libjavanet.0.dylib
	!%p/lib/%n/libjavanio.0.dylib
	!%p/lib/%n/libjavautil.0.dylib
<<

DocFiles: AUTHORS BUGS COPYING ChangeLog HACKING INSTALL LICENSE NEWS README THANKYOU TODO
InfoDocs: cp-hacking.info cp-vmintegration.info cp-tools.info

Homepage: http://www.gnu.org/software/classpath/classpath.html

DescDetail: <<
GNU Classpath, Essential Libraries for Java, is a GNU project to create free
core class libraries for use with virtual machines and compilers for the Java
programming language.
<<

DescPackaging: <<
The ConfigureParams field disables all of the GTK/GNOME stuff, which doesn't
seem to work with Fink. It also sets the infodir parameter to prevent classpath
from installing files into the deprecated %p/info directory. Note that to get
this to work, the DESTDIR parameter also has to be set in the InstallScript.

This is a one-time build, so the disable-dependency-tracking parameter is added
to speed up compilation.

The package does not build with "fink rebuild -m --build-as-nobody" due to a
prompt regarding the cpio command. Otherwise, build-as-nobody works fine.
<<
