diff -Naur pango-1.0.4.old/Makefile.in pango-1.0.4.new/Makefile.in
--- pango-1.0.4.old/Makefile.in	Thu Aug  1 21:23:50 2002
+++ pango-1.0.4.new/Makefile.in	Thu Nov  7 22:11:34 2002
@@ -116,7 +116,7 @@
 YACC = @YACC@
 ms_librarian = @ms_librarian@
 
-SUBDIRS = pango modules examples docs tools tests
+SUBDIRS = pango modules docs tools
 
 EXTRA_DIST = \
 	pango.spec.in	\
diff -Naur pango-1.0.4.old/configure pango-1.0.4.new/configure
--- pango-1.0.4.old/configure	Thu Aug  1 20:55:34 2002
+++ pango-1.0.4.new/configure	Thu Nov  7 22:11:34 2002
@@ -5521,7 +5521,7 @@
     # FIXME: Relying on posixy $() will cause problems for
     #        cross-compilation, but unfortunately the echo tests do not
     #        yet detect zsh echo's removal of \ escapes.
-    archive_cmds='$nonopt $(test "x$module" = xyes && echo -bundle || echo -dynamiclib) $allow_undefined_flag -o $lib $libobjs $deplibs$linker_flags -install_name $rpath/$soname $verstring'
+    archive_cmds='$nonopt $(test x$module = xyes && echo -bundle || echo -dynamiclib) $allow_undefined_flag -o $lib $libobjs $deplibs$linker_flags $(test .$module != .yes && echo -install_name $rpath/$soname $tmp_verstring)'
     # We need to add '_' to the symbols in $export_symbols first
     #archive_expsym_cmds="$archive_cmds"' && strip -s $export_symbols'
     hardcode_direct=yes
@@ -9352,7 +9352,7 @@
 
   if $have_freetype ; then
     pango_save_cppflags="$CPPFLAGS"
-    CPPFLAGS="$CPPFLAGS $FREETYPE_CFLAGS"
+    CPPFLAGS="$FREETYPE_CFLAGS $CPPFLAGS"
 
     echo "$as_me:$LINENO: checking For sufficiently new FreeType (at least 2.0.1)" >&5
 echo $ECHO_N "checking For sufficiently new FreeType (at least 2.0.1)... $ECHO_C" >&6
@@ -9422,7 +9422,7 @@
 
 ## see which freetype we have, 2.0.3 vs. 2.0.4
 pango_save_cppflags="$CPPFLAGS"
-CPPFLAGS="$CPPFLAGS $FREETYPE_CFLAGS"
+CPPFLAGS="$FREETYPE_CFLAGS $CPPFLAGS"
 if test "${ac_cv_header_freetype_internal_tterrors_h+set}" = set; then
   echo "$as_me:$LINENO: checking for freetype/internal/tterrors.h" >&5
 echo $ECHO_N "checking for freetype/internal/tterrors.h... $ECHO_C" >&6
diff -Naur pango-1.0.4.old/ltmain.sh pango-1.0.4.new/ltmain.sh
--- pango-1.0.4.old/ltmain.sh	Mon Jun 24 05:18:00 2002
+++ pango-1.0.4.new/ltmain.sh	Thu Nov  7 22:11:35 2002
@@ -2952,7 +2952,17 @@
 	if test -n "$export_symbols" && test -n "$archive_expsym_cmds"; then
 	  eval cmds=\"$archive_expsym_cmds\"
 	else
+	  if test "x$verstring" = "x0.0"; then
+	    tmp_verstring=
+	  else
+	    tmp_verstring="$verstring"
+	  fi
+	  save_deplibs="$deplibs"
+	  for conv in $convenience; do
+	    deplibs="${deplibs%$conv*} ${deplibs#*$conv}"
+	  done
 	  eval cmds=\"$archive_cmds\"
+	  deplibs="$save_deplibs"
 	fi
 	save_ifs="$IFS"; IFS='~'
 	for cmd in $cmds; do
@@ -4006,10 +4016,10 @@
 
 # Directory that this library needs to be installed in:
 libdir='$install_libdir'"
-	  if test "$installed" = no && test "$need_relink" = yes; then
-	    $echo >> $output "\
-relink_command=\"$relink_command\""
-	  fi
+#	  if test "$installed" = no && test "$need_relink" = yes; then
+#	    $echo >> $output "\
+#relink_command=\"$relink_command\""
+#	  fi
 	done
       fi
 
diff -Naur pango-1.0.4.old/modules/Makefile.in pango-1.0.4.new/modules/Makefile.in
--- pango-1.0.4.old/modules/Makefile.in	Thu Aug  1 21:23:56 2002
+++ pango-1.0.4.new/modules/Makefile.in	Thu Nov  7 22:11:35 2002
@@ -334,9 +334,11 @@
 
 
 install-data-local:
-	$(mkinstalldirs) $(DESTDIR)$(sysconfdir)/pango && 	\
-	$(top_builddir)/pango/pango-querymodules 		\
-		> $(DESTDIR)$(sysconfdir)/pango/pango.modules
+	$(mkinstalldirs) $(DESTDIR)$(sysconfdir)/pango && 		\
+	$(top_builddir)/pango/pango-querymodules			\
+	  $(DESTDIR)$(libdir)/pango/$(PANGO_MODULE_VERSION)/modules/*	\
+	  | sed -e 's|^$(DESTDIR)||g'					\
+	  > $(DESTDIR)$(sysconfdir)/pango/pango.modules 2>/dev/null
 
 included-modules:
 	@for d in $(SUBDIRS) ; do \
diff -Naur pango-1.0.4.old/pango/Makefile.in pango-1.0.4.new/pango/Makefile.in
--- pango-1.0.4.old/pango/Makefile.in	Thu Aug  1 21:23:52 2002
+++ pango-1.0.4.new/pango/Makefile.in	Thu Nov  7 22:11:35 2002
@@ -249,7 +249,7 @@
 
 
 libpangoxft_1_0_la_LDFLAGS = -version-info $(LT_VERSION_INFO)
-libpangoxft_1_0_la_LIBADD = opentype/libpango-ot.la libpango-$(PANGO_API_VERSION).la $(INCLUDED_XFT_MODULES) $(XFT_LIBS) 
+libpangoxft_1_0_la_LIBADD = $(XFT_LIBS) opentype/libpango-ot.la libpango-$(PANGO_API_VERSION).la $(INCLUDED_XFT_MODULES)
 libpangoxft_1_0_la_DEPENDENCIES = $(INCLUDED_XFT_MODULES) libpango-$(PANGO_API_VERSION).la
 
 libpangoft2_1_0_la_SOURCES = \
diff -Naur pango-1.0.4.old/pango/pangoft2.c pango-1.0.4.new/pango/pangoft2.c
--- pango-1.0.4.old/pango/pangoft2.c	Tue Jul 23 13:01:26 2002
+++ pango-1.0.4.new/pango/pangoft2.c	Thu Nov  7 22:11:35 2002
@@ -120,7 +120,7 @@
   return ft2font;
 }
 
-gboolean
+static gboolean
 set_unicode_charmap (FT_Face face)
 {
   int charmap;
diff -Naur pango-1.0.4.old/pango/pangoxft-font.c pango-1.0.4.new/pango/pangoxft-font.c
--- pango-1.0.4.old/pango/pangoxft-font.c	Wed Jul 10 19:18:35 2002
+++ pango-1.0.4.new/pango/pangoxft-font.c	Thu Nov  7 22:12:59 2002
@@ -544,7 +544,7 @@
   face = pango_xft_font_get_face (font);
 
   coverage = pango_coverage_new ();
-#ifdef HAVE_FT_GET_FIRST_CHAR
+#if 0 /* #ifdef HAVE_FT_GET_FIRST_CHAR */
   {
     FT_UInt gindex;
     FT_ULong charcode;
@@ -677,7 +677,7 @@
   return (PangoEngineShape *)pango_map_get_engine (shape_map, ch);
 }
 
-gboolean
+static gboolean
 set_unicode_charmap (FT_Face face)
 {
   int charmap;
