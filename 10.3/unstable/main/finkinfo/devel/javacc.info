Package: javacc
Version: 3.2
Revision: 2
BuildDepends: ant (>= 1.6.1-1), system-java13-dev
Depends: system-java13 | system-java14 | system-java15
CustomMirror: <<
  nam-US: http://ranger.befunk.com/fink
  nam-US: http://astrange.ithinksw.net/ranger-fink
  nam-CA: http://www.southofheaven.net/befunk
<<
Source: mirror:custom:%n-%v.tar.gz
Source-MD5: bc0fe5d325e24f2e7c95e5c962813354
SourceDirectory: %n-%v
CompileScript: <<
#!/bin/sh

  JAVAVER=`find /System/Library/Frameworks/JavaVM.framework/Versions -name include 2>/dev/null | perl -p -e 's,.*Versions/(.*?)/.*,$1,g' | grep -E '^1.3' | tail -1`
  export JAVA_HOME=/System/Library/Frameworks/JavaVM.framework/Versions/$JAVAVER/Home
  ant binary-distribution
<<
JarFiles: dist/%n-%v/bin/lib/*.jar
InstallScript: <<
#!/bin/sh

  JAVAVER=`find /System/Library/Frameworks/JavaVM.framework/Versions -name include 2>/dev/null | perl -p -e 's,.*Versions/(.*?)/.*,$1,g' | grep -E '^1.3' | tail -1`
  export JAVA_HOME=/System/Library/Frameworks/JavaVM.framework/Versions/$JAVAVER/Home

  install -d -m 755 %i/bin

  for class in javacc jjdoc jjtree; do
    cat <<END >%i/bin/$class
#!/bin/sh

source %p/bin/init.sh
/Library/Java/Home/bin/java $class "\$@"
END
  done

  chmod 755 %i/bin/*
  install -d -m 755 %i/share/doc/%n
  mv dist/%n-%v/doc/* %i/share/doc/%n/
  mv dist/%n-%v/examples %i/share/doc/%n/

<<
DocFiles: LICENSE README
Homepage: http://javacc.dev.java.net/
Maintainer: Benjamin Reed <ranger@befunk.com>
Description: Java Parser Generator
DescDetail: <<
Java Compiler Compiler [tm] (JavaCC [tm]) is the most popular parser
generator for use with Java [tm] applications.  A parser generator is
a tool that reads a grammar specification and converts it to a Java
program that can recognize matches to the grammar.  In addition to
the parser generator itself, JavaCC provides other standard
capabilities related to parser generation such as tree building (via
a tool called JJTree included with JavaCC), actions, debugging, etc.
<<
License: BSD
