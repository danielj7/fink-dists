diff -Nurd amarok-2.1/src/App.cpp amarok-2.1-new/src/App.cpp
--- amarok-2.1/src/App.cpp	2009-05-29 15:04:05.000000000 -0400
+++ amarok-2.1-new/src/App.cpp	2009-06-04 11:28:00.000000000 -0400
@@ -83,7 +83,7 @@
 
 int App::mainThreadId = 0;
 
-#ifdef Q_WS_MAC
+#if defined(Q_OS_MAC) || defined(Q_OS_DARWIN)
 #include <CoreFoundation/CoreFoundation.h>
 extern void setupEventHandler_mac(long);
 #endif
