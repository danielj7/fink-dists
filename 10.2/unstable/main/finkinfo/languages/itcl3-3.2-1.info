Package: itcl3
Version: 3.2
Revision: 1
Source: ftp://ftp.tcl.tk/pub/tcl/itcl/itcl%v.tar.gz
Source-MD5: b41ed909969eaa5f0a06ab698393760f
Source2: ftp://ftp.tcl.tk/pub/tcl/tcl8_3/tcl8.3.4.tar.gz
Source2-MD5: 8777250e03d6be9be7551bfc6e99d252
Source3: ftp://ftp.tcl.tk/pub/tcl/tcl8_3/tk8.3.4.tar.gz
Source3-MD5: 02311d8f90734c4f5eaa62e9b36fe535
Patch: %f.patch
CompileScript: <<
 (cd ../tcl8.3.4/unix ; ./configure --enable-shared --prefix=%p --exec-prefix=%p --mandir='${prefix}/share/man' )
 (cd ../tk8.3.4/unix; ./configure --enable-shared --prefix=%p --exec-prefix=%p --mandir='${prefix}/share/man' )
 ./configure --prefix=%p --exec-prefix=%p --mandir='${prefix}/share/man'
 make
<<
# LATER: move lib/iwidgets*/demos to the doc directory
InstallScript: <<
 make DESTDIR=%d INSTALL_ROOT=%d install
 (cd %i/lib ; ln -s %p/lib/libitcl3.2.dylib libitcl.dylib ; ln -s %p/lib/libitk3.2.dylib libitk.dylib ; ln -s %p/lib/libitcl3.2.a libitcl.a ; ln -s %p/lib/libitk3.2.a libitk.a ; ln -s %p/lib/libitclstub3.2.a libitclstub.a ; ln -s %p/lib/libitkstub3.2.a libitkstub.a ; rm -f iwidgets ; ln -s %p/lib/iwidgets3.0.1 iwidgets )
 for f in dialog.n menubar.n optionmenu.n tabset.n watch.n; do mv %i/share/man/mann/$f %i/share/man/mann/iwidgets-$f ; done
 mkdir -p %i/share/doc/%n
 cp -R itk/demos itk/examples %i/share/doc/%n
<<
#
Depends: tcltk (>= 8.3.4), tcltk-shlibs (>= 8.3.4), %N-shlibs
BuildDepends: tcltk-dev (>= 8.3.4)
DocFiles: README CHANGES INCOMPATIBLE TODO
SplitOff: <<
  Package: %N-shlibs
  Files: lib/libitcl3.2.dylib lib/libitk3.2.dylib
  Shlibs: <<
    %p/lib/libitcl3.2.dylib 11.0.0 %n (>= 3.2-1)
  	%p/lib/libitk3.2.dylib 11.0.0 %n (>= 3.2-1)
  <<
  DocFiles: README CHANGES INCOMPATIBLE TODO
  Description: Shared libraries (tcl modules) for itcl
<<
SplitOff2: <<
  Package: %N-dev
  Files: include lib/libitcl*.a lib/libitk*.a lib/libitcl.dylib lib/libitk.dylib
  DocFiles: README CHANGES INCOMPATIBLE TODO
  BuildDependsOnly: true
  Description: Development headers and static libraries for itcl
<<
#
Description: Object-based extension for tcl, "incr tcl"
DescDetail: <<
Incr Tcl (Itcl) is an object-oriented extension to the Tcl scripting
language. This package also provides Incr Tk (Itk), a framework for
building classes composed of multiple Tk component widgets, and Incr
Widgets (Iwidgets), a mega-widget library.
<<
DescUsage: <<
Load the Itcl extension from within the tcl interpreter using
'package require Itcl'. 

Load the Itk extension from within the wish interpreter using 
'package require Itk'.

Load the Iwidgets meta-widgets extension from within the wish
interpreter using 'package require Iwidgets'.
<<
DescPort: <<
Itcl requires the tcl 8.3 source to build. Since it's impossible to
rely on the presence of the original tcltk source and configuration,
the tcltk source is downloaded and configured again. Tcl/tk v8.3.4 is
used because it configures more cleanly. For tcl versions prior to
8.3.4, tcl requires a bundle library for loadable modules. However,
for tcl version 8.3.4, tcl requires a dynamic object for loadable
modules.

Patched configure script to insert version information into shlib
flags. Patched the Makefiles to remove ranlibs for dynamic libraries
in appropriate places. Added builds of static libraries for -dev splitoff.

The install step sets both DESTDIR and INSTALL_ROOT variables because
some of the itcl Makefiles use DESTDIR, others use INSTALL_ROOT. In
addition, the Makefiles that use DESTDIR are patched to insert DESTDIR
in all the necessary places.
<<
Homepage: http://www.tcltk.com/itcl/
License: BSD
Maintainer: David Bacher <drbacher@alum.mit.edu>
