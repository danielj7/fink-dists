Package: mingw-gcc
Version: 3.4.2-20040916-1
Revision: 6
Description: GNU GCC for MinGW
License: LGPL
Maintainer: ASARI Takashi <asari@sodan.ecc.u-tokyo.ac.jp>

Depends: mingw-binutils, mingw-runtime, mingw-w32api

Source: mirror:sourceforge:mingw/gcc-core-%v-src.tar.gz
Source-MD5: 67b358c5cc32f56f2736a5247ffb0846
Source2: mirror:sourceforge:mingw/gcc-g++-%v-src.tar.gz
Source2-MD5: 507bf16dfdd5a5dcac760e29c73731ad
Source3: mirror:sourceforge:mingw/gcc-objc-%v-src.tar.gz
Source3-MD5: ccac4ca939a2e60ed8e33fa841deb9bf
SourceDirectory: gcc-%v

CompileScript: <<
./configure --with-gcc --with-gnu-ld --with-gnu-as --target=i686-pc-mingw32 --enable-threads --disable-nls --enable-languages=c++,objc --disable-win32-registry --disable-shared --enable-sjlj-exceptions --with-headers=%p/share/mingw/include --with-libs=%p/share/mingw/lib --prefix=%p/share/mingw --bindir=%p/bin --mandir=%p/share/man --infodir=%p/share/info --libexecdir=%p/lib
/usr/bin/make
<<

InstallScript: <<
#!/bin/sh
/usr/bin/make install DESTDIR=%d
/bin/rm -f %i/share/mingw/lib/libiberty.a
/bin/rm -f %i/share/info/standards.info
/bin/rm -f %i/share/info/configure.info*
/bin/rm -rf %i/share/man/man7
for file_name in %i/share/info/*
do
  new_file_name=`/bin/echo ${file_name} | /usr/bin/sed -e "s|%i/share/info/|%i/share/info/i686-pc-mingw32-|g"`
  mv ${file_name} ${new_file_name}
done
<<

DocFiles: COPYING* ChangeLog MAINTAINERS README* 

Homepage: http://gcc.gnu.org/
DescPort: <<
Like 'avr-gcc' package, lib & include folders have been moved to 
/sw/share/mingw and the binaries are put into /sw/bin .
All xxx.info files renamed to i686-pc-mingw32-xxx.info to avoid clashes
with other potential toolchains.
TODO: Native Language Support
<<
DescUsage: <<
1. Write a code.
  $ cat > hello.c
  #include <windows.h>

  int WINAPI WinMain (HINSTANCE hInstance, 
                      HINSTANCE hPrevInstance, 
                      PSTR szCmdLine, 
                      int iCmdShow) 
  {
     MessageBox (NULL, "Hello", "Hello Demo", MB_OK);
     return (0);
  }
  ^C
2. Compile.
  $ i686-pc-mingw32-gcc -o hello.exe hello.c -mwindows
3. Run.
<<
