Package: libgmime2.0.2-shlibs
Version: 2.2.3
Revision: 1

Source: http://spruce.sourceforge.net/gmime/sources/v2.2/gmime-%v.tar.gz
Source-MD5: 0c48ece8b65955db8e7d89c171de974b

BuildDepends: <<
	gettext-bin,
	gettext-tools,
	glib2-dev,
	libgettext3-dev,
	libiconv,
	pkgconfig
<<
Depends: <<
	glib2-shlibs,
	libgettext3-shlibs
<<

PatchScript: perl -pi -e 's/(CFLAGS.*)-Werror(.*)/\1\2/' configure
ConfigureParams: --disable-dependency-tracking --enable-warnings --disable-mono
InfoTest: TestScript: make check || exit 2
InstallScript: <<
	make install DESTDIR=%d
	mv %i/bin/uudecode %i/bin/uudecode-gmime
	mv %i/bin/uuencode %i/bin/uuencode-gmime
<<
Shlibs: %p/lib/libgmime-2.0.2.dylib 5.0.0 %n (>= 2.2.3-1)
DocFiles: AUTHORS COPYING ChangeLog NEWS PORTING README TODO

SplitOff: <<
	Package: libgmime2.0.2-dev
	Depends: %N (= %v-%r)
	BuildDependsOnly: true
	Files: <<
		bin/gmime-config
		include
		lib/libgmime-2.0.{a,dylib,la}
		lib/pkgconfig
		lib/gmimeConf.sh
		share/gtk-doc
	<<
	DocFiles: AUTHORS COPYING ChangeLog NEWS PORTING README TODO
<<
SplitOff2: <<
	Package: gmime-bin
	Depends: <<
		%N (= %v-%r),
		glib2-shlibs,
		libgettext3-shlibs
	<<
	Files: bin/uudecode-gmime bin/uuencode-gmime
	DocFiles: AUTHORS COPYING ChangeLog NEWS PORTING README TODO
	Description: Utilities for uuencode/uudecode of files
<<

DescPackaging: <<
	Implements gpg, so goes in Section:crypto

	Note: --enable-warnings affects both compile-time -W flags and
	runtime assertions. Crazy! Not even close to clean at -Werror:
	See: http://bugzilla.gnome.org/show_bug.cgi?id=394419
	     http://bugzilla.gnome.org/show_bug.cgi?id=394427
	     http://bugzilla.gnome.org/show_bug.cgi?id=394433
	     http://bugzilla.gnome.org/show_bug.cgi?id=394434
	     http://bugzilla.gnome.org/show_bug.cgi?id=394435
<<
Description: Creation & parsing of MIME messages
Homepage: http://spruce.sourceforge.net/gmime
License: GPL
Maintainer: Daniel Macks <dmacks@netspace.org>
