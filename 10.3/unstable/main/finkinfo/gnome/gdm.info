Package: gdm
Version: 2.8.0.5
Revision: 1
Depends: <<
  file-roller (>= 2.6.0-1),
  scrollkeeper (>= 0.3.12-2),
  x11,
  libgettext3-shlibs, libiconv,
  glib2 (>= 2.6.0-1),
  atk1-shlibs (>= 1.6.0-1), gtk+2 (>= 2.4.0-1), pango1-xft2 (>= 1.4.0-1),
  orbit2 (>= 2.10.0-1), gconf2 (>= 2.6.0-1),
  audiofile-shlibs (>= 0.2.5-1), esound-shlibs (>= 0.2.34-1),
  gnome-vfs2-ssl (>= 2.6.0-1) | gnome-vfs2 (>= 2.6.0-1),
  libbonobo2 (>= 2.6.0-1), libbonoboui2 (>= 2.6.0-1),
  libgnome2 (>= 2.6.0-1), libgnomeui2 (>= 2.6.0-1),
  libgnomecanvas2 (>= 2.6.0-1), libart2-shlibs (>= 2.3.16-1),
  libcroco1-shlibs, libgsf-shlibs, libxml2-shlibs (>= 2.6.7-1),
  gnome-keyring, libglade2-shlibs (>= 2.3.6-1),
  libjpeg-shlibs, librsvg2-shlibs (>= 2.6.0-1),
  popt-shlibs
<<
BuildDepends: <<
  intltool (>= 0.28-1),
  pkgconfig,
  x11-dev,
  libgettext3-dev, gettext-bin, gettext-tools, libiconv-dev,
  glib2-dev (>= 2.6.0-1),
  atk1 (>= 1.6.0-1), gtk+2-dev (>= 2.4.0-1), pango1-xft2-dev (>= 1.4.0-1),
  orbit2-dev (>= 2.10.0-1), gconf2-dev (>= 2.6.0-1),
  audiofile, esound (>= 0.2.34-1),
  gnome-vfs2-ssl-dev (>= 2.6.0-1) | gnome-vfs2-dev (>= 2.6.0-1),
  libbonobo2-dev (>= 2.6.0-1), libbonoboui2-dev (>= 2.6.0-1),
  libgnome2-dev (>= 2.6.0-1), libgnomeui2-dev (>= 2.6.0-1),
  libgnomecanvas2-dev (>= 2.6.0-1), libart2 (>= 2.3.16-1),
  libcroco1, libgsf-dev, libxml2 (>= 2.6.7-1),
  gnome-keyring-dev (>= 0.4.3-1), libglade2 (>= 2.3.6-1),
  libjpeg, librsvg2 (>= 2.6.0-1),
  popt
<<
Source: mirror:gnome:sources/%n/2.8/%n-%v.tar.bz2
Source-MD5: 2944ba9c2a2bf7032ac81dc24eecf32d
Patch: %n.patch
PatchScript: perl -pi.bak -e "s/-scrollkeeper-update/#-scrollkeeper-update/g" docs/*/Makefile.in
SetCPPFLAGS: -no-cpp-precomp -DHAVE_LIBGEN_H
SetLDFLAGS: -L/usr/X11R6/lib
NoSetMAKEFLAGS: true
SetMAKEFLAGS: -j1
ConfigureParams: --mandir=%p/share/man --libexecdir=%p/lib/%n --disable-dependency-tracking --enable-compile-warnings=maximum
CompileScript: <<
  ac_cv_type_socklen_t=yes ./configure %c
  make
<<
InstallScript: <<
#!/bin/sh -ex
  make install DESTDIR=%d
<<
PostInstScript: <<
  if [ configure = "$1" ]; then
    scrollkeeper-update -q
  fi
<<
PostRmScript: <<  
  if [ remove != "$1" ]; then
    scrollkeeper-update -q
  fi
<<
DocFiles: AUTHORS COPYING ChangeLog po/ChangeLog:ChangeLog.po vicious-extensions/ChangeLog:ChangeLog.vicious NEWS README* TODO
DescPort: <<
  socklen_t check is busted so force the correct (for OS X >= 10.3) result.

  libwrap expects caller to pass some global vars, so set them in the
  -lwrap test

  XInput test falls apart because after failing to find a -lXi symbol
  (-lXi isn't in nascent lib search path) it then looks for -lXi paths
  by searching for a -lX11 symbol. Hello? Pass -L so original test
  succeeds. See: http://bugzilla.gnome.org/show_bug.cgi?id=320580

  The usual darwin _environ game.

  configure omitted check for libgen.h. See:
  http://bugzilla.gnome.org/show_bug.cgi?id=320581
<<
Description: GNOME desktop manager
License: GPL
Homepage: http://www.gnome.org
Maintainer: The Gnome Core Team <fink-gnome-core@lists.sourceforge.net>
