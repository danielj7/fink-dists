Package: libggz
Version: 0.0.10
Revision: 1
Description: GGZ Gaming Zone base library
#Description: GGZ Gaming Zone base library, with crypto support
License: LGPL
Maintainer: Dave Vasilevsky <vasi@users.sourceforge.net>

BuildDependsOnly: true
#BuildDepends: gettext-dev, libiconv-dev, libgcrypt, openssl097-dev, libgpg-error, pth

Depends: %N-shlibs (= %v-%r)
Conflicts: libggz-crypto
Replaces: libggz-crypto

CustomMirror: <<
	primary: http://ftp.ggzgamingzone.org/pub/
	eur-be: http://ftp.belnet.be/packages/ggzgamingzone/
	eur-dk: http://mirrors.sunsite.dk/ggzgamingzone/
	eur-de: http://ftp.de.ggzgamingzone.org/pub/
	eur-uk: http://uk.ggzgamingzone.org/pub/
	eur-fr: http://ftp.fr.ggzgamingzone.org/pub/
<<
Source: mirror:custom:ggz/%v/%n-%v.tar.gz
#Source: mirror:custom:ggz/%v/libggz-%v.tar.gz
Source-MD5: 12da9a49449d24c99e2645b192384ebd

SetCPPFLAGS: -fsigned-chars
ConfigureParams: --mandir=%p/share/man --enable-debug-gdb
#ConfigureParams: --mandir=%p/share/man --enable-debug-gdb --with-tls=OpenSSL --with-gcrypt
InstallScript: <<
	make install DESTDIR=%d
	
	# Force other packages to depend on crypto and ssl through this pkg
#	perl -i -pe 's/-lssl//g; s/-lcrypto//g' %i/lib/libggz.la
<<

DocFiles: AUTHORS ChangeLog COPYING INSTALL NEWS README README.GGZ QuickStart.GGZ

Homepage: http://www.ggzgamingzone.org/
DescDetail: <<
	This is the GGZ base library libggz, used by the GGZ Gaming Zone server
	(ggzd), the ggzcore library and other components.
<<

SplitOff: <<
	#Depends: gettext, libiconv, libgcrypt-shlibs, openssl097-shlibs, libgpg-error-shlibs, pth-shlibs
	Conflicts: libggz-crypto-shlibs
	Replaces: libggz-crypto-shlibs
	
	Package: %N-shlibs
	Files: lib/*.*.dylib
	Shlibs: %p/lib/libggz.3.dylib	4.0.0	%n (>= 0.0.10-1)
	DocFiles: AUTHORS ChangeLog COPYING INSTALL NEWS README README.GGZ QuickStart.GGZ
<<
