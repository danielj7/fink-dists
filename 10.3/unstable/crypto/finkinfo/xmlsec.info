Package: xmlsec
Version: 1.2.5
Revision: 16
###
Source: http://www.aleksey.com/xmlsec/download/%n1-%v.tar.gz
Source-MD5: e811685d7b678ff09b901b942477f03d 
Depends: libiconv, libxml2-shlibs, libxslt-shlibs, openssl097-shlibs, gnutls-shlibs, libgcrypt-shlibs, %N-shlibs
BuildDepends: openssl097-dev, libxml2, libiconv-dev, libxslt, libgcrypt, gnutls
###
###
DocFiles: AUTHORS COPYING ChangeLog Copyright INSTALL.txt NEWS README HACKING TODO 
###
ConfigureParams: --prefix=%p --infodir=%i/share/info --enable-aes --with-openssl=%p --with-libxml=%p --with-libxslt=%p --mandir=%i/share/man  --disable-apps-crypto-dl --with-gnutls=%p --with-html-dir=%p/share/doc --with-pic --enable-xkms

PatchScript: <<
mv INSTALL INSTALL.txt
perl -pi.bak -e 's|-flat_namespace -undefined suppress|-twolevel_namespace -undefined dynamic_lookup|g' configure
<<

CompileScript: <<
./configure %c 
perl -pi.bak -e 's|#define LTDL_SHLIB_EXT ".so"|#define LTDL_SHLIB_EXT ".dylib"|' config.h
make
<<


SplitOff: <<
Package: %N-shlibs
Files: <<
     lib/libxmlsec*.dylib
<<

Shlibs: <<
 %p/lib/libxmlsec1.1.2.5.dylib 4.0.0 %n (>= 1.2.5-13)
 %p/lib/libxmlsec1-openssl.1.2.5.dylib 4.0.0 %n (>= 1.2.4-13)
 %p/lib/libxmlsec1-gnutls.1.2.5.dylib 4.0.0 %n (>= 1.2.5-13)
<<


Description: xmlsec shared libraries..
DescDetail: <<
	   Shared libraries needed to run and link against the xmlsec framework.
<<

DocFiles: <<
	   AUTHORS COPYING ChangeLog Copyright INSTALL.txt NEWS README
<<
<<


Splitoff2: <<
Package: %N-bin
Depends: %N-shlibs
Files: <<
	bin/xmlsec1
	bin/xmlsec1-config
<<
Description: xmlsec binary and config program for devels.
DescDetail: <<
NOTE: You NEED to also install this package when you wish to develop with xmlsec.
The provided xmlsec1-config is needed.
<<

DocFiles: <<
	AUTHORS COPYING ChangeLog Copyright INSTALL.txt NEWS README
<<
<<

Splitoff3: <<
Package: %N-dev
BuildDependsOnly: True
Files: <<
	lib/libxmlsec1.la
	lib/libxmlsec1-openssl.la
	lib/libxmlsec1-gnutls.la
	lib/xmlsec1Conf.sh
	lib/pkgconfig/xmlsec1-openssl.pc
	lib/pkgconfig/xmlsec1.pc
	lib/pkgconfig/xmlsec1-gnutls.pc
	include/xmlsec1/xmlsec/app.h
	include/xmlsec1/xmlsec/bn.h
	include/xmlsec1/xmlsec/dl.h
	include/xmlsec1/xmlsec/private.h
	include/xmlsec1/xmlsec/x509.h
	include/xmlsec1/xmlsec/base64.h
	include/xmlsec1/xmlsec/buffer.h
	include/xmlsec1/xmlsec/crypto.h
	include/xmlsec1/xmlsec/errors.h
	include/xmlsec1/xmlsec/exports.h
	include/xmlsec1/xmlsec/io.h 
	include/xmlsec1/xmlsec/keyinfo.h 
	include/xmlsec1/xmlsec/keys.h
	include/xmlsec1/xmlsec/keysdata.h
	include/xmlsec1/xmlsec/keysmngr.h
	include/xmlsec1/xmlsec/list.h
	include/xmlsec1/xmlsec/membuf.h 
	include/xmlsec1/xmlsec/nodeset.h
	include/xmlsec1/xmlsec/parser.h
	include/xmlsec1/xmlsec/strings.h 
	include/xmlsec1/xmlsec/templates.h
	include/xmlsec1/xmlsec/transforms.h
	include/xmlsec1/xmlsec/version.h
	include/xmlsec1/xmlsec/soap.h
	include/xmlsec1/xmlsec/xkms.h
	include/xmlsec1/xmlsec/xmldsig.h
	include/xmlsec1/xmlsec/xmlenc.h
	include/xmlsec1/xmlsec/xmlsec.h
	include/xmlsec1/xmlsec/xmltree.h
	include/xmlsec1/xmlsec/openssl/app.h
	include/xmlsec1/xmlsec/openssl/bn.h
	include/xmlsec1/xmlsec/openssl/crypto.h
	include/xmlsec1/xmlsec/openssl/evp.h
	include/xmlsec1/xmlsec/openssl/symbols.h
	include/xmlsec1/xmlsec/openssl/x509.h
	include/xmlsec1/xmlsec/gnutls/app.h
	include/xmlsec1/xmlsec/gnutls/crypto.h
	include/xmlsec1/xmlsec/gnutls/symbols.h
<<

Description: xmlsec development headers.
Depends: xmlsec-bin
DescDetail: <<
NOTE: You need to install this package when you wish to develop with xmlsec. 
<<

DocFiles: <<
AUTHORS COPYING ChangeLog Copyright INSTALL.txt NEWS README
<<
<<
###
Description: XML Security Library
DescDetail: <<
 XML Security Library is a C library based on LibXML2 and OpenSSL. It provides an 
 implementation for major XML security standards: XML Digital Signature 
 and XML Encryption. 
<<
###
License: OSI-Approved
Maintainer: Darian Lanx <dmalloc@users.sourceforge.net>
Homepage: http://www.aleksey.com/xmlsec/
