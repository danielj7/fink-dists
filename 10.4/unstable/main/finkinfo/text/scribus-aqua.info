Package: scribus-aqua
Version: 1.3.3.7
Revision: 2
Source: mirror:sourceforge:scribus/scribus-%v.tar.bz2
Source-MD5: 9d20ef9010d94b504f6c8cd6acd215ca
Source2: http://perso.wanadoo.fr/costabel/Scribusapp-skeleton.tar.bz2
Source2-MD5: 7aa33546b4113007bdc0e3fef94a0f81
License: GPL
GCC: 4.0
Recommends: x-ghostscript-fonts, msttcorefonts, applesystemfonts
Depends: ghostscript, qt3mac-shlibs (>= 3.3.5-13), qt3mac-apps (>= 3.3.5-13), libjpeg-shlibs, libjpeg-bin, lcms-shlibs, libart2-shlibs, libpng3-shlibs, libtiff-shlibs, freetype219-shlibs, libxml2-shlibs, libiconv, fontconfig2-shlibs
BuildDepends: lcms, libjpeg, qt3mac (>= 3.3.5-13), libart2, cups-dev, libpng3, libtiff, freetype219, libxml2, libiconv-dev, fontconfig2-dev, expat
BuildConflicts: qt3, qt3-dev
PatchScript: <<
#!/bin/sh -e
# name resource forks more canonically
 perl -pi.bak -e 's|/rsrc|/..namedfork/rsrc|g' scribus/scfonts.cpp
# better optimisation
 perl -pi.bak -e 's|\-g \-O2|\-Os|g; s|\-O2|\-Os|g' configure
<<
CompileScript: <<
#!/bin/sh -ex
 export PATH=%p/lib/freetype219/bin:$PATH 
 unset QMAKESPEC
 export QTDIR=%p/lib/qt3mac
 export PKG_CONFIG_PATH="%p/lib/fontconfig2/lib/pkgconfig/"
 export LIBPYTHON=" " 
 ./configure --prefix=%p/lib/%n --enable-mac \
        --with-qt-dir=$QTDIR --with-qt-includes=$QTDIR/include --with-qt-libraries=$QTDIR/lib \
        --with-extra-includes=%p/include --with-extra-libs=%p/lib \
        --disable-dependency-tracking 
 make
<< 
InstallScript: <<
 make install prefix=%i/lib/%n
 /bin/cp /System/Library/ColorSync/Profiles/* %i/lib/%n/lib/scribus/profiles/ || /usr/bin/true
 mkdir -p %i/Applications
 /bin/cp -p -R ../Scribus.app %i/Applications/
 mkdir %i/Applications/Scribus.app/Contents/MacOS
 /bin/cp -p scribus/scribus %i/Applications/Scribus.app/Contents/MacOS/Scribus
<<
DocFiles: AUTHORS COPYING ChangeLog README ChangeLogCVS
PostInstScript: <<
 if ! test -e /Applications/Fink; then /usr/bin/install -d -m 755 /Applications/Fink; fi
 ln -nfs %p/Applications/Scribus.app /Applications/Fink/
<<
PostRmScript: <<
 rm -f /Applications/Fink/Scribus.app
<<
Description: Layout program
DescDetail: << 
 Scribus is an open-source program that brings professional
 page layout to Linux/Unix, MacOS X, OS/2 and Windows desktops
 with a combination of "press-ready" output and new approaches
 to page layout.

 Underneath the modern and user friendly interface, Scribus
 supports professional publishing features, such as CMYK color,
 separations, ICC color management and versatile PDF creation.
<<
DescUsage: <<
 This version does not need X11 for running. 
 It installs a double-clickable application (symbolic link) 
 "Scribus.app" in /Applications/Fink. 

 This version contains extensive online help. 
 Additional up-to-date documentation is on the Scribus web site.

 Fonts:  Since X11 is not used, the X11 fonts are not automatically
   recognized. You have to tell Scribus where to find fonts.
 - Install the x-ghostscript-fonts or msttcorefonts or xfonts-intl 
   or applesystemfont packages. 
   (The gimp-sharefonts and similar packages work, too, 
   but these fonts are of rather bad quality)
 - Put lines like
     /Library/Fonts
     /System/Library/Fonts
     /sw/lib/X11/fonts/applettf
     /sw/lib/X11/fonts/msttf
   into your ~/.scribus/scribusfont13.rc file (create it if it doesn't exist)
   This will give you many (not all) of the Apple system fonts.
   If you use FontBook to create your own collections, put also
     ~/Library/Fonts
   into this file.
<<
DescPort: <<
 This is a native Aqua version of Scribus. 
 A standalone version prepared by Andreas Vox can be downloaded
 from the web at http://aqua.scribus.net

 The app skeleton is taken from Scribus CVS, branch Release_1_3_3_3.
 It is not contained in the Release 1.3.3.3 source tarball.

 Uses fontconfig2-dev and freetype219 from Fink, not from X11,
 and qt3-mac-free as packaged in the qt3mac packaqge.
<<
Maintainer: Martin Costabel <costabel@wanadoo.fr>
Homepage: http://www.scribus.net/

