Package: guile18-gtk
Version: 2.0
Revision: 1
BuildDepends: guile18-dev, guile18, gdk-pixbuf, guile18-libs, gtk+2, gtk+2-shlibs, x11-dev, gettext-dev, glib, libiconv-dev, libglade2
Depends: guile18-shlibs, gtk+2-shlibs, gdk-pixbuf-shlibs, libglade2-shlibs, %n-shlibs (= %v-%r) 
Source: mirror:gnu:guile-gtk/guile-gtk-%v.tar.gz
Source-MD5: a450f9f5ffc3c482f8b10590d278776f
DocFiles: README AUTHORS NEWS COPYING 
Description: Glue code to link gtk to guile
DescDetail: << 
This is some glue code to make Gtk accessible from Guile.  It provides
a convenient interface for Scheme programmers to develop graphical
user interfaces.  This version of guile-gtk is stripped down and
intended for people who want to use Gtk+-1.2 without Gnome.
Guile-gtk was started by Marius Vollmer <mvo@zagadka.ping.de> and is
currently mantained by Ariel Rios<ariel@arcavia.com> and other
intrepid Guile hackers around the world.
<<
PatchScript: <<
perl -pi.bak -e 's|\$rpath/\$soname|%p/lib/\$soname|g' configure
perl -pi.bak -e 's|exec guile|exec guile-1.8|g' build-guile-gtk*
/bin/rm texinfo.tex
<<
NoSetMAKEFLAGS: true
SetMAKEFLAGS: -j1
CompileScript: <<   
#!/bin/zsh -efv
export PATH=%p/share/guile/1.8/scripts/binoverride:$PATH
./configure --prefix=%i  --with-gtk-prefix=%p  --infodir=%i/share/info --with-gdk-pixbuf=yes --with-glade=yes --with-gtkgl=yes
export GUILE_LOAD_PATH=%p/share/guile/1.8
make
<<
InstallScript: <<
#!/bin/zsh -efv
export PATH=%p/share/guile/1.8/scripts/binoverride:$PATH
export GUILE_LOAD_PATH=%p/share/guile/1.8
mkdir -p %i/share/guile/1.8
make install
mv %i/share/guile/gtk %i/share/guile/1.8/gtk
mv %i/share/guile/gtk-2.0 %i/share/guile/1.8/gtk-2.0
perl -pi -e 's|%d||g' %i/share/guile/1.8/gtk/config.scm
perl -pi -e 's|%d||g' %i/share/guile/1.8/gtk-2.0/config.scm
perl -pi -e 's|%d||g' %i/lib/*.la
mv %i/bin/build-guile-gtk %i/bin/build-guile18-gtk
mv %i/share/guile-gtk %i/share/guile18-gtk
<<
License: GPL
InfoDocs: %p/share/info/guile-gtk.info
Maintainer:  W. G. Scott <wgscott@users.sourceforge.net>
Homepage:  http://www.gnu.org/software/guile-gtk/
#
###############################################################################
#
SplitOff: <<
Package: %n-shlibs
Files: <<
lib/libguilegdk*.dylib  
lib/libguilegtk*.dylib 
lib/libguileglade*.dylib
<<
Shlibs: <<
%p/lib/libguilegdkpixbuf-2.0.0.0.0.dylib     1.0.0 %n (>=2.0-1)
%p/lib/libguilegtk-2.0.0.0.0.dylib           1.0.0 %n (>=2.0-1)
%p/lib/libguilegdkpixbuf-2.0.0.dylib         1.0.0 %n (>=2.0-1)
%p/lib/libguilegdkpixbuf-2.0.dylib           1.0.0 %n (>=2.0-1)
%p/lib/libguilegtk-2.0.0.dylib               1.0.0 %n (>=2.0-1)
%p/lib/libguilegtk-2.0.dylib                 1.0.0 %n (>=2.0-1)
%p/lib/libguileglade-2.0.0.0.0.dylib         1.0.0 %n (>=2.0-1)
%p/lib/libguileglade-2.0.0.dylib             1.0.0 %n (>=2.0-1)
%p/lib/libguileglade-2.0.dylib               1.0.0 %n (>=2.0-1)
<<
<< 
#
###############################################################################
#
SplitOff2: <<
Package: %n-dev
BuildDependsOnly: True
Conflicts: guile16-gtk-dev
Replaces: guile16-gtk-dev
Files: <<   
include/*
lib/*.a
<<
<<
###############################################################################
SplitOff3: <<
 Package: %N-doc
 Conflicts: guile16-gtk-doc, guile16-gtk (<= 1.2-0.50-6)
 Replaces: guile16-gtk-doc, guile16-gtk (<= 11.2-0.50-6)
 Files: share/info
 InfoDocs: guile-gtk.info  
 Description: Texinfo documentation files for guile18-gtk
<<



