Package: openldap-ssl
Version: 2.0.23
Revision: 5
GCC: 3.1
Source: ftp://ftp.OpenLDAP.org/pub/OpenLDAP/openldap-release/openldap-%v.tgz
Patch: %f.patch
Depends: %N-shlibs (= %v-%r)
BuildDepends: openssl-dev, db3 (>= 3.3.11-8), cyrus-sasl-dev (>= 1.5.27-13), readline (>= 4.3-5), dlcompat-dev
Provides: openldap
Conflicts: openldap
Replaces: openldap
SetCFLAGS: -fno-common
SetCPPFLAGS: -I%p/include/db3 -I%p/include/cyrus-sasl -no-cpp-precomp 
UpdateConfigGuessInDirs: build
ConfigureParams: --libexecdir=%p/sbin --mandir=%p/share/man --infodir=%p/share/info/%n --with-ldbm_api=berkeley --with-cyrus-sasl
CompileScript: <<
  (unset DYLD_LIBRARY_PATH; ./configure %c)
  (unset DYLD_LIBRARY_PATH; make)
<<
DocFiles: ANNOUNCEMENT COPYRIGHT LICENSE README CHANGES doc/drafts/draft*
InstallScript: <<
  (unset DYLD_LIBRARY_PATH; make install DESTDIR=%d)
<<
ConfFiles: <<
  %p/etc/openldap/ldap.conf 
  %p/etc/openldap/ldapfilter.conf
  %p/etc/openldap/ldapsearchprefs.conf 
  %p/etc/openldap/ldaptemplates.conf
  %p/etc/openldap/slapd.conf
<<
SplitOff: <<
  Package: %N-shlibs
  Depends: db3-shlibs (>= 3.3.11-8), readline-shlibs (>= 4.3-5), openssl-shlibs, cyrus-sasl-shlibs (>= 1.5.27-13)
  Replaces: openldap
  Description: shared libraries for LDAP
  Files: lib/liblber.2*.dylib lib/libldap.2*.dylib lib/libldap_r.2*.dylib
  Shlibs: <<
    %p/lib/liblber.2.dylib 3.0.0 %n (>= 2.0.23-5)
    %p/lib/libldap.2.dylib 3.0.0 %n (>= 2.0.23-5)
    %p/lib/libldap_r.2.dylib 3.0.0 %n (>= 2.0.23-5)
  <<
<<
SplitOff2: <<
  Package: %N-dev
  Depends: %N-shlibs (= %v-%r)
  Description: libraries and headers for LDAP development
  Files: include/ lib/*.a lib/*.la lib/liblber.dylib lib/libldap.dylib lib/libldap_r.dylib share/man/man3/
<<
Description: LDAP directory services implementation
DescDetail: <<
OpenLDAP is an open source implementation of the Lightweight Directory
Access Protocol. The suite includes:
*  slapd - stand-alone LDAP server
*  slurpd - stand-alone LDAP replication server
*  libraries implementing the LDAP protocol, and
*  utilities, tools, and sample clients.
<<
DescPort: <<
OpenLDAP built with Cyrus SASL and OpenSSL support.
"UpdateLibtool" cannot be used because of some custom libtool
hacking done by the openldap team.  Instead, the patch includes
modified versions of the ltmain.sh and ltconfig that are part
of fink's replacements for those files.
<<
License: Restrictive
Maintainer: Michael McKibben <mmckibben@users.sourceforge.net>
Homepage: http://www.openldap.org/
