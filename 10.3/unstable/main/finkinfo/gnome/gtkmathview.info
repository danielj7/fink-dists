Package: gtkmathview
Version: 0.7.6
Revision: 1

Source: http://helm.cs.unibo.it/mml-widget/sources/%n-%v.tar.gz
Source-MD5: 4bb348c98367228f0de0a2216a13d48f

BuildDepends: libxslt-bin, pkgconfig, popt, glib2-dev, gtk+2-dev, pango1-xft2-dev, atk1, x11-dev, libgettext3-dev, gettext-tools, gettext-bin, libiconv-dev, libxml2 (>= 2.6.7-1), gmetadom0 (>= 0.1.8-1), libgdome0, t1lib5
Depends: libgtkmathview0-shlibs (>= %v-%r), popt-shlibs, glib2-shlibs, gtk+2-shlibs, pango1-xft2-shlibs, atk1-shlibs, x11, libgettext3-shlibs, libiconv, libxml2-shlibs (>= 2.6.7-1), gmetadom0-shlibs (>= 0.1.8-1), libgdome0-shlibs, t1lib5-shlibs
GCC: 3.3

ConfigureParams: --mandir=%p/share/man --disable-dependency-tracking

PatchScript: <<
  perl -pi -e 's/-lstdc\+\+//' `find . -name Makefile.in`
  perl -pi -e 's/-static//' viewer/Makefile.in
<<
CompileScript: <<
  ./configure %c
  make CCLD="--tag CXX $CXX"
<<
InstallScript: <<
  make install DESTDIR=%d
<<
DocFiles: ANNOUNCEMENT AUTHORS BUGS COPYING ChangeLog HISTORY LICENSE NEWS README* TODO

SplitOff: <<
  Package: libgtkmathview0-shlibs
  Depends: glib2-shlibs, gtk+2-shlibs, pango1-xft2-shlibs, atk1-shlibs, x11, libgettext3-shlibs, libiconv, libxml2-shlibs (>= 2.6.7-1), gmetadom0-shlibs (>= 0.1.8-1), libgdome0-shlibs, t1lib5-shlibs
  Files: lib/lib*.0*.dylib etc share/gtkmathview
  DocFiles: ANNOUNCEMENT AUTHORS BUGS COPYING ChangeLog HISTORY LICENSE NEWS README* TODO
  Shlibs: <<
    %p/lib/libgtkmathview_custom_reader.0.dylib 8.0.0 %n (>= 0.7.6-1)
    %p/lib/libgtkmathview_gmetadom.0.dylib 8.0.0 %n (>= 0.7.6-1)
    %p/lib/libgtkmathview_libxml2.0.dylib 8.0.0 %n (>= 0.7.6-1)
    %p/lib/libgtkmathview_libxml2_reader.0.dylib 8.0.0 %n (>= 0.7.6-1)
    %p/lib/libmathview.0.dylib 8.0.0 %n (>= 0.7.6-1)
    %p/lib/libmathview_backend_gtk.0.dylib 8.0.0 %n (>= 0.7.6-1)
    %p/lib/libmathview_backend_svg.0.dylib 8.0.0 %n (>= 0.7.6-1)
    %p/lib/libmathview_frontend_custom_reader.0.dylib 8.0.0 %n (>= 0.7.6-1)
    %p/lib/libmathview_frontend_gmetadom.0.dylib 8.0.0 %n (>= 0.7.6-1)
    %p/lib/libmathview_frontend_libxml2.0.dylib 8.0.0 %n (>= 0.7.6-1)
    %p/lib/libmathview_frontend_libxml2_reader.0.dylib 8.0.0 %n (>= 0.7.6-1)
  <<
  ConfFiles: %p/etc/gtkmathview/gtkmathview.conf.xml
<<

SplitOff2: <<
  Package: libgtkmathview0-dev
  Depends: libgtkmathview0-shlibs (= %v-%r)
  BuildDependsOnly: true
  Files: include lib
  DocFiles: ANNOUNCEMENT AUTHORS BUGS COPYING ChangeLog HISTORY LICENSE NEWS README* TODO
<<

DescPort: <<
  The g++ linker already passes -lstdc++ to ld, so don't also pass it
  explicitly.

  Make sure we always link C++ with a g++ linker, not gcc.

  OS X doesn't do fully-static, so don't even try in the tests
<<

Description: GTK widget for rendering MathML documents
Homepage: http://helm.cs.unibo.it/mml-widget
License: GPL
Maintainer: Daniel Macks <dmacks@netspace.org>
