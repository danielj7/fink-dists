diff -ruN gkrellm-2.1.21/Makefile gkrellm-2.1.21-patched/Makefile
--- gkrellm-2.1.21/Makefile	Sun Oct 12 11:31:41 2003
+++ gkrellm-2.1.21-patched/Makefile	Wed Oct 29 17:54:16 2003
@@ -198,12 +198,11 @@
 	(cd po && ${MAKE} all)
 	(cd src && ${MAKE} GTK_CONFIG=gtk-config STRIP= \
 		EXTRAOBJS= SYS_LIBS="-lkvm -lmd5 -framework IOKit" \
-		LINK_FLAGS="-flat_namespace -undefined warning -prebind -Wl,-bind_at_load" \
-		CFLAGS+="-Ddlsym=dlsym_prepend_underscore" \
+		LINK_FLAGS="-prebind -Wl,-bind_at_load -framework CoreFoundation -lX11" \
 		gkrellm )
 	(cd server && ${MAKE} GTK_CONFIG=gtk-config STRIP= \
 		EXTRAOBJS= SYS_LIBS="-lkvm -lmd5 -framework IOKit" \
-		LINK_FLAGS="-flat_namespace -undefined warning -prebind -Wl,-bind_at_load" \
+		LINK_FLAGS="-prebind -Wl,-bind_at_load -framework CoreFoundation" \
 		gkrellmd )
 
 netbsd1: gkrellm.pc
diff -ruN gkrellm-2.1.21/src/Makefile gkrellm-2.1.21-patched/src/Makefile
--- gkrellm-2.1.21/src/Makefile	Sat Oct 11 15:19:55 2003
+++ gkrellm-2.1.21-patched/src/Makefile	Wed Oct 29 17:55:03 2003
@@ -74,8 +74,6 @@
 darwin: 
 	$(MAKE) GTK_CONFIG=gtk-config STRIP= \
 		EXTRAOBJS= SYS_LIBS="-lkvm -lmd5" \
-		LINK_FLAGS="-flat_namespace -undefined warning" \
-		CFLAGS+="-Ddlsym=dlsym_prepend_underscore" \
 		gkrellm
 
 netbsd1:
