Package: filmgimp
Version: 0.10
Revision: 3
Source: mirror:sourceforge:%n/%n-%v.tar.gz
Source-MD5: 86d4b5324a39e1bd5ee1c7f5c2c280fe
Depends: %N-shlibs (= %v-%r)
BuildDepends: libpng, libjpeg, libtiff, libmpeg, audiofile, esound, glib, gtk+, netpbm, orbit, giflib, imlib, aalib (>= 1.4rc5-2), gnome-libs-dev, dlcompat-dev
#BuildConflicts: filmgimp ( << 0.9 )
GCC: 3.1
Patch: %f.patch
SetCPPFLAGS: -no-cpp-precomp -I%p/include -D_REGEX_RE_COMP
SetCFLAGS: -no-cpp-precomp -I%p/include -D_REGEX_RE_COMP
SetLDFLAGS: -L%p/lib -flat_namespace -undefined suppress
SetLIBS: -L%b/filmgimp/.libs
ConfigureParams: --mandir=%p/share/man
InstallScript: <<
 make install DESTDIR=%d

sed -e 's;-L%b/libgimp/.libs;;' <%i/lib/libfilmgimp.la >%i/lib/libfilmgimp.la.tmp
mv -f %i/lib/libfilmgimp.la.tmp %i/lib/libfilmgimp.la
sed -e 's;-L%b/libgimp/.libs;;' <%i/lib/libfilmgimpui.la >%i/lib/libfilmgimpui.la.tmp
mv -f %i/lib/libfilmgimpui.la.tmp %i/lib/libfilmgimpui.la
sed -e 's;-L%b/libgimp/.libs;;' -e 's;%b;%p;g' -e 's;%i;%p;g' < %i/bin/filmgimptool > %i/bin/filmgimptool.tmp
mv -f %i/bin/filmgimptool.tmp %i/bin/filmgimptool
chmod +x %i/bin/filmgimptool
<<
DocFiles: COPYING libgimp/COPYING:COPYING.libfilmgimp AUTHORS NEWS README
SplitOff: <<
  Package: %N-shlibs
  Depends: gnome-libs-shlibs, libpng-shlibs, libjpeg-shlibs, libtiff-shlibs, aalib-shlibs (>= 1.4rc5-2), libmpeg-shlibs, dlcompat
  Replaces: %N (<= %v)
  Files: <<
    lib/filmgimp/0.10 share/filmgimp/0.10 
    lib/libfilmgimp.0.0.10.dylib lib/libfilmgimpui.0.0.10.dylib
    lib/libfilmgimp.0.dylib lib/libfilmgimpui.0.dylib 
  <<
  Shlibs: <<
    %p/lib/libfilmgimp.0.0.10.dylib 1.0.0 %n (>= 0.10-3)
    %p/lib/libfilmgimpui.0.0.10.dylib 1.0.0 %n (>= 0.10-3)
  <<
  DocFiles: COPYING libgimp/COPYING:COPYING.libfilmgimp AUTHORS NEWS README
<<
SplitOff2: <<
  Package: %N-dev
  Depends: %N-shlibs (= %v-%r)
  BuildDependsOnly: True
  Replaces: %N (<= 0.10-2)
  Files: include lib/libfilmgimp.dylib lib/libfilmgimpui.dylib lib/*.a lib/*.la share/aclocal
<<
#
Description: Tool for painting and retouching movie images
DescPort: <<
Film Gimp runs with shared memory disabled on Darwin. This is required because the
SysV shared memory implementation in the Darwin kernel is broken.
<<
DescDetail: <<
Film Gimp is a motion picture editing tool primarily used for painting and retouching of movie images. Its application in feature movie productions includes the movies Scooby-Doo, Harry Potter, Stuart Little and Stuart Little 2. Film Gimp is the most successful open source tool in feature motion picture work today. Film Gimp is based on Gimp, the GNU Image Manipulation Program. Film Gimp is an independent project, separate from Gimp and GNU.
<<
License: GPL/LGPL
Homepage: http://filmgimp.sourceforge.net/
Maintainer: Andy Prock <ender@lister.acm.wwu.edu>
