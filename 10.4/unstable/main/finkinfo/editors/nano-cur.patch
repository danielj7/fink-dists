diff -rauNx .svn tags/nano_2_1_11/ChangeLog trunk/nano/ChangeLog
--- tags/nano_2_1_11/ChangeLog	2009-11-02 11:55:30.000000000 +0000
+++ trunk/nano/ChangeLog	2009-11-02 11:53:24.000000000 +0000
@@ -1,3 +1,11 @@
+2009-10-27 Chris Allegretta <chrisa@asty.org>
+	* browser.c (browser_init): Set column width to something sane when 
+	  initializing in a directory with no file entries.  Fixes Savannah
+	  bug 24163 found (and initial patch) by Paul Wise.
+
+2009-09-15 Chris Allegretta <chrisa@asty.org>
+	* winio.c: Clean up some unused variables from the soft wrapping code.
+
 GNU nano 2.1.11 - 2009.09.14
 2009-09-12 Chris Allegretta <chrisa@asty.org>
 	* winio.c (edit_update) - properly update edittop when using soft wrapping.
diff -rauNx .svn tags/nano_2_1_11/src/browser.c trunk/nano/src/browser.c
--- tags/nano_2_1_11/src/browser.c	2009-11-02 11:55:22.000000000 +0000
+++ trunk/nano/src/browser.c	2009-11-02 11:53:16.000000000 +0000
@@ -1,4 +1,4 @@
-/* $Id: browser.c 4349 2009-01-19 19:10:39Z astyanax $ */
+/* $Id: browser.c 4414 2009-10-27 04:09:27Z astyanax $ */
 /**************************************************************************
  *   browser.c                                                            *
  *                                                                        *
@@ -534,9 +534,9 @@
     }
 
     /* If width isn't initialized yet, and we've taken up only one line,
-     * it means that width is equal to (COLS % longest). */
+     * it means that width is equal to longest. */
     if (width == 0)
-	width = COLS % longest;
+	width = longest;
 }
 
 /* Determine the shortcut key corresponding to the values of kbinput
diff -rauNx .svn tags/nano_2_1_11/src/winio.c trunk/nano/src/winio.c
--- tags/nano_2_1_11/src/winio.c	2009-11-02 11:55:22.000000000 +0000
+++ trunk/nano/src/winio.c	2009-11-02 11:53:16.000000000 +0000
@@ -1,4 +1,4 @@
-/* $Id: winio.c 4409 2009-09-13 04:50:44Z astyanax $ */
+/* $Id: winio.c 4413 2009-09-15 04:51:09Z astyanax $ */
 /**************************************************************************
  *   winio.c                                                              *
  *                                                                        *
@@ -2849,7 +2849,7 @@
 	line = fileptr->lineno - openfile->edittop->lineno;
 
     if (line < 0 || line >= editwinrows)
-	return;
+	return 1;
 
     /* First, blank out the line. */
     blank_line(edit, line, 0, COLS);
@@ -3076,7 +3076,6 @@
     bool do_redraw = need_vertical_update(0) ||
 	need_vertical_update(pww_save);
     filestruct *foo = NULL;
-    ssize_t i = 0, extracuzsoft = 0;
 
     /* If either old_current or current is offscreen, scroll the edit
      * window until it's onscreen and get out. */
