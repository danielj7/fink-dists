Package: povray
Version: 3.7.0.0
Revision: 1000
GCC: 4.0
Maintainer: Andrew Rohl <andrewrohl@mac.com>
BuildDepends: <<
	autoconf2.6,
	automake1.13|automake1.14,
	boost1.53.nopython,
	ilmbase,
	libjpeg9,
	libopenexr6,
	libpng16,
	libtiff5,
	sdl,
	x11-dev,
	fink-package-precedence
<<
Depends: <<
	boost1.53.nopython-shlibs,
	ilmbase-shlibs,
	libjpeg9-shlibs,
	libopenexr6-shlibs,
	libpng16-shlibs,
	libtiff5-shlibs,
	sdl-shlibs,
	x11
<<
Source: https://github.com/POV-Ray/povray/archive/v%v.tar.gz
Source-MD5: c9473256677808e9e3246e6eb8f69a75
PatchFile: %n.patch
PatchFile-MD5: c772d5a984efc3cac51ad8bafb74d9d4
SourceDirectory: %n-%v
PatchScript: <<
#!/bin/bash -efv
%{default_script}
# fix https://github.com/POV-Ray/povray/issues/8 for libc++
find . -type f -exec gsed 's/\([ 	(]\)shared_ptr/\1boost::shared_ptr/g' -i.back '{}' +
find . -type f -exec gsed 's/^shared_ptr/boost::shared_ptr/g' -i.back '{}' +
<<
SetCPPFLAGS: -I%p/include/boost-1_53
SetLIBS: -lboost_system-mt
ConfigureParams: <<
	--with-libpng=%p 			\
	--with-libjpeg=%p 			\
	--with-libtiff=%p 			\
	--with-libsdl=%p 			\
	--with-openexr=%p			\
	--with-boost=%p 			\
	--with-boost-libdir=%p			\
	--with-boost-thread=boost_thread-mt 	\
	--mandir=%i/share/man 			\
	COMPILED_BY="Andrew Rohl as part of Fink"
<<
CompileScript: <<
	#!/bin/sh -efv

	pushd unix
	./prebuild.sh
	popd	
	./configure %c
	make
	fink-package-precedence --headers --libs .
<<
InfoTest: TestScript: make check || exit 2
DocFiles: AUTHORS COPYING ChangeLog INSTALL NEWS README
Description: The Persistence of Vision Ray Tracer
DescDetail: <<
 POV-Ray is a free, full-featured ray tracer, written and
 maintained by a team of volunteers on the Internet.
<<
DescUsage: <<
 You must copy Fink's %p/share/povray-3.6/ini/povray.ini file to 
 ~user/.povrayrc for all users who want to use povray.
<<
DescPackaging: <<
   Use MacPorts patches for pov-3.7.0.0
<<
License: Restrictive
Homepage: http://www.povray.org/
