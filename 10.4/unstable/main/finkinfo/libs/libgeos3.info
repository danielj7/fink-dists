Package: libgeos3
Version: 3.0.0
Revision: 2
Description: Geometry Engine - Open Source
License: LGPL
Homepage: http://geos.refractions.net/
Maintainer: Kurt Schwehr <goatbar@users.sourceforge.net>
DescDetail: <<

Geometry Engine - Open Source is a C++ port of the Java Topology Suite
(JTS). As such, it aims to contain the complete functionality of JTS
in C++. This includes all the OpenGIS "Simple Features for SQL"
spatial predicate functions and spatial operators, as well as specific
JTS topology functions such as IsValid().

<<

Conflicts: libgeos2
Replaces: libgeos2

# Dependencies.
Depends: %N-shlibs (= %v-%r), libgeosc1-shlibs (= %v-%r)
BuildDependsOnly: true

# Unpack Phase.
Source: http://geos.refractions.net/downloads/geos-%v.tar.bz2
Source-MD5: 3f7940abee9fec69a9787878cd3ae771

# Compile Phase.
GCC: 4.0
ConfigureParams: --mandir=%p/share/man

# Install Phase.
InstallScript: <<
  make install-strip DESTDIR=%d
<<
DocFiles: AUTHORS ChangeLog COPYING README TODO

DescPort: <<

geos is not a well behaved package.  postgis links against the
wrong file such that it is hard to make proper shlibs that
do not conflict between libgeos[23].

We need to do some testing before switching postgis and others
all over to libgeos3.

20080223 - Currently the svn drafts for libgeos 3.1.0 are failing
to compile, so I am not sure if it will at least work for the
shdlib compatibility version.

<<

# Additional Phase.
SplitOff: <<
	Package: %N-shlibs
	Depends: libgeosc1-shlibs
	Files: <<
		lib/libgeos-*.dylib 
		
	<<
	Shlibs: <<
		%p/lib/libgeos-3.0.0.dylib 0.0.0 %n (>= 3.0.0-1)
	<<
	DocFiles: AUTHORS ChangeLog COPYING README TODO
<<

SplitOff2: <<
	Package: libgeosc1-shlibs
	Files: <<
		lib/libgeos_c.*.*.*.dylib
	<<
	Shlibs: <<
		%p/lib/libgeos_c.1.4.1.dylib 6.0.0 %n (>= 3.0.0-1)
	<<
<<

SplitOff3: <<
	Package: libgeosc1
	Files: <<
	       include/geos.h
	       lib/libgeos_c.a
	       lib/libgeos_c.la
	       lib/libgeos_c.1.dylib
 	       lib/libgeos_c.dylib
	<<
	DocFiles: AUTHORS ChangeLog COPYING README TODO
<<