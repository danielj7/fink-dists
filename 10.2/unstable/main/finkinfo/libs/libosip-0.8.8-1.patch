diff -ruN libosip-0.8.8.orig/configure libosip-0.8.8/configure
--- libosip-0.8.8.orig/configure	2002-06-26 04:25:00.000000000 -0600
+++ libosip-0.8.8/configure	2002-09-24 10:58:34.000000000 -0600
@@ -3420,7 +3420,14 @@
     ;;
 
   darwin* | rhapsody*)
-    allow_undefined_flag='-undefined suppress'
+    case "$host_os" in
+    rhapsody* | darwin1.[012])
+      allow_undefined_flag='-undefined suppress'
+      ;;
+    *) # Darwin 1.3 on
+      allow_undefined_flag='-flat_namespace -undefined suppress'
+      ;;
+    esac
     # FIXME: Relying on posixy $() will cause problems for
     #        cross-compilation, but unfortunately the echo tests do not
     #        yet detect zsh echo's removal of \ escapes.
