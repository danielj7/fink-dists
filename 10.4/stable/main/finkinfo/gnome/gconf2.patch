diff -Nurd -x'*~' GConf-2.24.0.orig/backends/Makefile.in GConf-2.24.0/backends/Makefile.in
--- GConf-2.24.0.orig/backends/Makefile.in	2008-09-22 14:03:50.000000000 -0400
+++ GConf-2.24.0/backends/Makefile.in	2008-10-14 01:29:46.000000000 -0400
@@ -34,7 +34,7 @@
 POST_UNINSTALL = :
 build_triplet = @build@
 host_triplet = @host@
-noinst_PROGRAMS = xml-test$(EXEEXT)
+noinst_PROGRAMS = 
 bin_PROGRAMS = gconf-merge-tree$(EXEEXT)
 subdir = backends
 DIST_COMMON = $(srcdir)/Makefile.am $(srcdir)/Makefile.in
diff -Nurd -x'*~' GConf-2.24.0.orig/gconf/gconf-internals.c GConf-2.24.0/gconf/gconf-internals.c
--- GConf-2.24.0.orig/gconf/gconf-internals.c	2008-06-28 05:58:36.000000000 -0400
+++ GConf-2.24.0/gconf/gconf-internals.c	2008-10-14 01:03:28.000000000 -0400
@@ -2618,6 +2618,9 @@
         }
     }
 
+  /* needed on Darwin */
+  fsync (lock->lock_fd);
+
   return lock;
 }
 
