Package: gmp
Version: 4.2
Revision: 1002
GCC: 4.0
Source: gnu
Source-MD5: 7e2bcee8fcf536b98af813f5f18ad912
Depends: gmp-shlibs (= %v-%r), libgmpxx4-shlibs (= %v-%r)
BuildDepends: fink (>= 0.9.9), gcc4.0 (>= 4.0.1-1)
ConfigureParams: --infodir='${prefix}/share/info' --enable-cxx
SetCC: gcc -fPIC
SetCXX: g++ -fPIC
CompileScript: <<
#! /bin/sh -ev
# Due to assembler differences on darwin x86 with ELF based gnu assemblers
# we need to "turn off" assembley on the Intel build for now.
case "%m" in
i386) ./configure --host=none-apple-darwin %c ;;
powerpc) ./configure %c ;;
esac
make
make check
<<
InstallScript: <<
 make install prefix=%i
 ranlib %i/lib/libgmp.a
 ranlib %i/lib/libgmpxx.a
<<
DocFiles: COPYING COPYING.LIB README
InfoDocs: gmp.info
BuildDependsOnly: True
SplitOff: <<
  Package: %N-shlibs
  Replaces: gmp (<< 4.0.1-1)
  Files: lib/libgmp.*.dylib
  Shlibs: <<
    %p/lib/libgmp.3.dylib 7.0.0 %n (>= 4.1-10)
  <<
  Description: Shared library for gmp package
  DocFiles: doc/* AUTHORS COPYING COPYING.LIB ChangeLog INSTALL NEWS README
<<
SplitOff2: <<
  Package: libgmpxx4-shlibs
  Replaces: gmp (<< 4.0.1-1), gmp-shlibs (<< 4.1.4-1)
  Files: lib/libgmpxx.*.dylib
  Shlibs: <<
    %p/lib/libgmpxx.3.dylib 4.0.0 %n (>= 4.1.4-1)
  <<
  Description: Shared C++ library for gmp package
  DocFiles: doc/* AUTHORS COPYING COPYING.LIB ChangeLog INSTALL NEWS README
<<
License: LGPL
Description: GNU multiple precision arithmetic library
DescDetail: <<
 GNU MP is a portable library written in C for arbitrary precision 
 arithmetic on integers, rational numbers, and floating-point numbers.
<<
DescPort: <<
 Patch from Ben Hines to build libgmpxx, as of vers. 4.1-2.  As of vers.
 4.1.4-1, libgmpxx gets its own splitoff.

 As of vers. 4.2, mpfr is a separate library, available in fink as the 
 libmpfr1 package.

 This package compiles successfully with gcc 4.0.1 and passes all of its
 tests.  However, if one attempts to compile gmp vers. 4.2 with gcc-3.3,
 some tests fail.  For this reason, gmp-4.2 is only available in fink's
 10.4 distribution and not in earlier distributions.

 Thanks to Jack Howarth and Shantonu Sen for figuring out that the -fPIC flag 
 is needed: see http://lists.apple.com/archives/Darwin-dev/2006/Apr/msg00119.html
<<
Maintainer: Dave Morrison <dmrrsn@users.sourceforge.net>
Homepage: http://www.swox.com/gmp/
