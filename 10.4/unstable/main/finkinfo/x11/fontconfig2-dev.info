Package: fontconfig2-dev
Version: 2.4.1
Revision: 2
Description: Font configuration library
License: Restrictive/Distributable
Maintainer: Benjamin Reed <fontconfig2@fink.racoonfink.com>

Depends: <<
	expat1-shlibs,
	fontconfig2-shlibs (= %v-%r)
<<
BuildDepends: <<
	expat1,
	x11-dev,
	freetype219
<<
BuildDependsOnly: true

Source: http://www.fontconfig.org/release/fontconfig-%v.tar.gz
Source-MD5: 108f9a03fa9ed9dd779cc7ca236da557
Patch: %n.patch

SetCFLAGS: -fno-common -g
ConfigureParams: --with-freetype-config="%p/lib/freetype219/bin/freetype-config" --prefix=%p/lib/fontconfig2 --with-confdir=%p/etc/fonts --disable-docs --disable-dependency-tracking --with-cache-dir=%p/var/cache/fontconfig-2.4 --with-default-fonts=/System/Library/Fonts --with-add-fonts=/Library/Fonts,/Network/Library/Fonts,/System/Library/Fonts,/usr/X11/lib/X11/fonts,/usr/X11R6/lib/X11/fonts,/usr/share/fonts,/var/root/Library/Fonts

InstallScript: make -j1 install DESTDIR=%d
DocFiles: README NEWS
SplitOff: <<
	Package: fontconfig2-shlibs
	Description: Fontconfig 2, shared libs
	Depends: <<
		fontconfig-config (= %v-%r),
		expat1-shlibs,
		freetype219-shlibs
	<<
	DocFiles: README
	Files: <<
		lib/fontconfig2/bin
		lib/fontconfig2/lib/libfontconfig.1*dylib
	<<
	Shlibs: %p/lib/fontconfig2/lib/libfontconfig.1.dylib 3.0.0 %n (>= 2.4.1-1)
	PostInstScript: %p/lib/fontconfig2/bin/fc-cache --force >/tmp/fc-cache.log 2>&1 || :
<<
SplitOff2: <<
	Package: fontconfig-config
	Description: configuration files for fontconfig
	Files: %p/etc/fonts
	ConfFiles: <<
		%p/etc/fonts/fonts.conf
		%p/etc/fonts/fonts.dtd
		%p/etc/fonts/conf.avail/10-autohint.conf
		%p/etc/fonts/conf.avail/10-no-sub-pixel.conf
		%p/etc/fonts/conf.avail/10-sub-pixel-bgr.conf
		%p/etc/fonts/conf.avail/10-sub-pixel-rgb.conf
		%p/etc/fonts/conf.avail/10-sub-pixel-vbgr.conf
		%p/etc/fonts/conf.avail/10-sub-pixel-vrgb.conf
		%p/etc/fonts/conf.avail/10-unhinted.conf
		%p/etc/fonts/conf.avail/20-fix-globaladvance.conf
		%p/etc/fonts/conf.avail/20-lohit-gujarati.conf
		%p/etc/fonts/conf.avail/20-unhint-small-vera.conf
		%p/etc/fonts/conf.avail/30-amt-aliases.conf
		%p/etc/fonts/conf.avail/30-urw-aliases.conf
		%p/etc/fonts/conf.avail/40-generic.conf
		%p/etc/fonts/conf.avail/49-sansserif.conf
		%p/etc/fonts/conf.avail/50-user.conf
		%p/etc/fonts/conf.avail/51-local.conf
		%p/etc/fonts/conf.avail/60-latin.conf
		%p/etc/fonts/conf.avail/65-fonts-persian.conf
		%p/etc/fonts/conf.avail/65-nonlatin.conf
		%p/etc/fonts/conf.avail/69-unifont.conf
		%p/etc/fonts/conf.avail/70-no-bitmaps.conf
		%p/etc/fonts/conf.avail/70-yes-bitmaps.conf
		%p/etc/fonts/conf.avail/80-delicious.conf
		%p/etc/fonts/conf.avail/90-synthetic.conf
		%p/etc/fonts/conf.avail/README
	<<
<<

Homepage: http://www.fontconfig.org
DescDetail: <<
A library for font customization and configuration.

This version is meant to coexist peacefully with the libfontconfig
provided in Apple's X11.  It has it's own configuration files in
%p/etc/fonts, but is also configured to use a configuration in
/usr/X11/lib/X11/fonts/local.conf and /etc/fonts/local.conf if they
exist.
<<
DescUsage: <<
You may need to pass -lexpat manually when linking to libfontconfig,
especially if you are using the static (.a) lib and/or are not using
libtool in order to resolve some _XML_* and _xml* symbols.
<<
DescPackaging: <<
The .pc file is missing -lexpat in its Libs field.  Adding it after
having it absent for a long time is likely to propagate into packages
that didn't have it before and create linking noise or failures, so
we'll just let other packages add the flag manually on the rare
occasion it is needed.

This package is not intended to replace the system fontconfig.  It is,
however, patched to use it's own cache and configuration directories,
but to still be capable of loading the user font configuration, as
well as /etc/fonts/local.conf on 10.4 (or Leopard upgrades), which is
the accepted way of modifying the behavior of /etc/fonts/fonts.conf.
If a user has an edited /etc/fonts/fonts.conf, that edit will not
affect any Fink apps using this fontconfig package.

The same applies for /usr/X11/lib/X11/fonts/local.conf on Leopard.
<<

