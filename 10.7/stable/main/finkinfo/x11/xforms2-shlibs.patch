diff -Nurd -x'*~' xforms-1.0.93sp1.orig/configure.ac xforms-1.0.93sp1/configure.ac
--- xforms-1.0.93sp1.orig/configure.ac	2010-05-24 11:21:56.000000000 -0400
+++ xforms-1.0.93sp1/configure.ac	2013-05-13 09:22:13.000000000 -0400
@@ -39,7 +39,6 @@
 AC_PROG_CPP
 AC_PROG_INSTALL
 AC_PROG_MAKE_SET
-AC_PROG_RANLIB
 
 ### check for special systems
 AC_ISC_POSIX
@@ -88,11 +87,20 @@
 # Checks for header files.
 AC_CHECK_HEADERS([sys/select.h])
 
-# Check whether we want to build the gl code
+# Check whether we want to build the gl code (headers may be with X11's)
+AC_PATH_XTRA
 AC_ARG_ENABLE(gl,
   [AS_HELP_STRING([--disable-gl],[Do not build GL support library])])
 if test x$enable_gl != xno ; then
-  AC_CHECK_HEADER([GL/glx.h],, [enable_gl=no])
+  save_CPPFLAGS=$CPPFLAGS
+  CPPFLAGS="$X_CFLAGS $CPPFLAGS"
+  AC_CHECK_HEADER([GL/glx.h],, [
+    enable_gl=no
+    if test x$enable_gl != xyes ; then
+      AC_MSG_ERROR([GL requested but not available])
+    fi
+  ])
+  CPPFLAGS=$save_CPPFLAGS
 fi
 AM_CONDITIONAL(BUILD_GL, [test x$enable_gl != xno])
 
@@ -101,7 +109,6 @@
 dnl AC_HEADER_DIRENT
 
 # Check for X, XPM and JPEG
-AC_PATH_XTRA
 XFORMS_PATH_XPM
 XFORMS_CHECK_LIB_JPEG
 
diff -Nurd -x'*~' xforms-1.0.93sp1.orig/fdesign/Makefile.am xforms-1.0.93sp1/fdesign/Makefile.am
--- xforms-1.0.93sp1.orig/fdesign/Makefile.am	2009-08-29 18:04:33.000000000 -0400
+++ xforms-1.0.93sp1/fdesign/Makefile.am	2013-05-13 09:23:19.000000000 -0400
@@ -57,7 +57,3 @@
 	sp_xyplot.c \
 	sp_util.c \
 	xpm.h
-
-#	viewforms.c \
-#	viewforms.h \
-#	viewforms_main.c
diff -Nurd -x'*~' xforms-1.0.93sp1.orig/gl/Makefile.am xforms-1.0.93sp1/gl/Makefile.am
--- xforms-1.0.93sp1.orig/gl/Makefile.am	2009-08-06 15:32:11.000000000 -0400
+++ xforms-1.0.93sp1/gl/Makefile.am	2013-05-13 09:30:10.000000000 -0400
@@ -7,7 +7,7 @@
 
 lib_LTLIBRARIES = libformsGL.la
 
-libformsGL_la_LDFLAGS = -no-undefined -Wl,--no-undefined -version-info @SO_VERSION@
+libformsGL_la_LDFLAGS = -no-undefined -version-info @SO_VERSION@
 
 libformsGL_la_LIBADD = ../lib/libforms.la $(X_LIBS) -lGL -lX11
 
diff -Nurd -x'*~' xforms-1.0.93sp1.orig/image/Makefile.am xforms-1.0.93sp1/image/Makefile.am
--- xforms-1.0.93sp1.orig/image/Makefile.am	2009-08-06 15:32:50.000000000 -0400
+++ xforms-1.0.93sp1/image/Makefile.am	2013-05-13 09:30:17.000000000 -0400
@@ -7,7 +7,7 @@
 
 lib_LTLIBRARIES = libflimage.la
 
-libflimage_la_LDFLAGS = -no-undefined -Wl,--no-undefined -version-info @SO_VERSION@
+libflimage_la_LDFLAGS = -no-undefined -version-info @SO_VERSION@
 
 libflimage_la_LIBADD = ../lib/libforms.la $(JPEG_LIB) $(X_LIBS) -lX11
 
diff -Nurd -x'*~' xforms-1.0.93sp1.orig/lib/Makefile.am xforms-1.0.93sp1/lib/Makefile.am
--- xforms-1.0.93sp1.orig/lib/Makefile.am	2009-08-06 15:33:25.000000000 -0400
+++ xforms-1.0.93sp1/lib/Makefile.am	2013-05-13 09:30:23.000000000 -0400
@@ -25,7 +25,7 @@
 
 lib_LTLIBRARIES = libforms.la
 
-libforms_la_LDFLAGS = -no-undefined -Wl,--no-undefined -version-info @SO_VERSION@
+libforms_la_LDFLAGS = -no-undefined -version-info @SO_VERSION@
 
 libforms_la_LIBADD =  $(X_LIBS) $(XPM_LIB) -lX11
 
