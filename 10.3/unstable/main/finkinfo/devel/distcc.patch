diff -uNr distcc-2.18.1/src/mon-text.c distcc-2.18.1-new/src/mon-text.c
--- distcc-2.18.1/src/mon-text.c	2004-11-02 21:47:22.000000000 -0500
+++ distcc-2.18.1-new/src/mon-text.c	2004-11-08 10:48:56.000000000 -0500
@@ -85,25 +85,34 @@
      * other program, so make sure we're always line buffered. */
     setvbuf (stdout, NULL, _IOLBF, BUFSIZ);
 
+    char currentTime[9];
+
     do {
         struct dcc_task_state *i;
         
         if ((ret = dcc_mon_poll(&list)))
             return ret;
 
+        unsigned dirty=0;
         for (i = list; i; i = i->next) {
+            dirty = 1;
 #if 1
             if (i->curr_phase == DCC_PHASE_DONE)
                 continue;
 #endif
+            time_t cTime;
+            time(&cTime);
+            strftime(currentTime, 9, "%H:%M:%S", localtime(&cTime));
             /* Assume 80 cols = */
-            printf("%6ld  %-10.10s  %-30.30s %24.24s[%d]\n",
+            printf("[%8s] %6ld  %-10.10s  %-30.30s %24.24s[%d]\n",
+                   currentTime,
                    (long) i->cpid,
                    dcc_get_phase_name(i->curr_phase),
                    i->file, i->host, i->slot);
         }
 
-        printf("\n");
+        if (dirty)
+            printf("\n");
 
         /* XXX: usleep() is probably not very portable */
         usleep(delay * 1000000);
diff -uNr distcc-2.18.1/src/rpc.c distcc-2.18.1-new/src/rpc.c
--- distcc-2.18.1/src/rpc.c	2004-11-02 21:47:22.000000000 -0500
+++ distcc-2.18.1-new/src/rpc.c	2004-11-08 15:15:30.000000000 -0500
@@ -203,7 +203,7 @@
 /**
  * Read a byte string of length @p l into a newly allocated buffer, returned in @p buf.
  **/
-int dcc_r_str_alloc(int fd, unsigned l, char **buf)
+int dcc_r_str_alloc(int fd, size_t l, char **buf)
 {
      char *s;
 
