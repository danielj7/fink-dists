Package: mx4j
Version: 2.0.1
Revision: 1
Source: mirror:sourceforge:%n/%n-%v-src.tar.gz
Source-MD5: c158ad005a01ea2a7b1e794947502b2d
Patch: %n.patch
BuildDepends: axis, bcel, javamail, jython, system-java14-dev
Depends: axis, bcel, javamail, jython, system-java14 | system-java15
NoSourceDirectory: true
CompileScript: <<
#!/bin/sh -ex

  JAVAVER=`find /System/Library/Frameworks/JavaVM.framework/Versions -name include 2>/dev/null | perl -p -e 's,.*Versions/(.*?)/.*,$1,g' | grep -E '^1.4' | tail -1`
  export JAVA_HOME=/System/Library/Frameworks/JavaVM.framework/Versions/$JAVAVER/Home
  export PATH="$JAVA_HOME/bin:$PATH"
  find . -name jetty -exec rm -rf {} \; || :
  pushd build
  ant release
<<
JarFiles: dist/lib/*.jar
InstallScript: <<
#!/bin/sh -ex

  install -d -m 755 %i/share/doc/%n
  mv dist/docs/api/* %i/share/doc/%n/
  mv dist/examples %i/share/doc/%n/

  find %i/share/doc/%n -type d -exec chmod 755 {} \;
  find %i/share/doc/%n -type f -exec chmod 644 {} \;
<<
DocFiles: *LICENSE* BUILD* README*
Homepage: http://mx4j.sourceforge.net/
Maintainer: Benjamin Reed <ranger@befunk.com>
Description: Java Management Extensions
DescDetail: <<
MX4J is an initiative to build an Open Source implementation for the
JMX technology specification, and to build related tools.
<<
License: Restrictive/Distributable
