Info2: <<
Package: xml-twig-pm%type_pkg[perl]
Version: 3.34
Revision: 1
Architecture: (%type_pkg[perl] = 581) powerpc
Distribution: (%type_pkg[perl] = 581) 10.4, (%type_pkg[perl] = 586) 10.4, (%type_pkg[perl] = 586) 10.5, (%type_pkg[perl] = 5100) 10.5, (%type_pkg[perl] = 5100) 10.6
Replaces: xml-twig-pm (<= 3.14-10), xml-twig-pm560, xml-twig-pm580, xml-twig-pm581, xml-twig-pm586
Depends: perl%type_pkg[perl]-core, xml-parser-pm%type_pkg[perl] (>= 2.31-6), scalar-list-utils-pm%type_pkg[perl], text-iconv-pm%type_pkg[perl] (>= 1.2-3), tie-ixhash-pm, html-tree-pm%type_pkg[perl], xml-xpathengine-pm
BuildDepends: fink (>= 0.20.1-1)
Source: mirror:cpan:authors/id/M/MI/MIROD/XML-Twig-%v.tar.gz
# There is a bug in fink's perl packages which sets perlpath to %p/bin/perl
# instead of %p/bin/perlx.y.z so the tests fail if perlxyz isn't installed
# in addition to perlxyz-core. This patch works around the bug.
PatchScript: perl -pi -e 's/\$Config{perlpath}/"perl%type_raw[perl]"/g' t/*.t
CompileScript: <<
  ARCHFLAGS="" perl%type_raw[perl] Makefile.PL -y \
    PERL=`which perl%type_raw[perl]` \
    PREFIX=%p \
    INSTALLPRIVLIB=%p/lib/perl5/%type_raw[perl] \
    INSTALLARCHLIB=%p/lib/perl5/%type_raw[perl]/darwin-thread-multi-2level \
    INSTALLSITELIB=%p/lib/perl5/%type_raw[perl] \
    INSTALLSITEARCH=%p/lib/perl5/%type_raw[perl]/darwin-thread-multi-2level \
    INSTALLMAN1DIR=%p/share/man/man1 \
    INSTALLMAN3DIR=%p/lib/perl5/%type_raw[perl]/man/man3 \
    INSTALLSITEMAN1DIR=%p/share/man/man1 \
    INSTALLSITEMAN3DIR=%p/lib/perl5/%type_raw[perl]/man/man3 \
    INSTALLBIN=%p/bin \
    INSTALLSITEBIN=%p/bin \
    INSTALLSCRIPT=%p/bin
  make
<<
InfoTest: TestDepends: test-pod-pm, test-pod-coverage-pm, xml-simple-pm%type_pkg[perl], xml-sax-writer-pm%type_pkg[perl], xml-filter-buffertext-pm%type_pkg[perl]
InstallScript: <<
#!/bin/sh -ev
  %{default_script}
  mkdir -p %i/lib/perl5/%type_raw[perl]/man
  mv %i/share/man/man3 %i/lib/perl5/%type_raw[perl]/man
  for file in xml_merge xml_split xml_grep xml_pp xml_spellcheck; do
    mv %i/bin/$file %i/bin/$file-%type_pkg[perl]
    mv %i/share/man/man1/$file.1 %i/share/man/man1/$file.1-%type_pkg[perl]
  done
<<
PostInstScript: <<
  update-alternatives \
  --install %p/bin/xml_grep                    xml_grep         %p/bin/xml_grep-%type_pkg[perl] %type_pkg[perl] \
  --slave   %p/bin/xml_pp                      xml_pp           %p/bin/xml_pp-%type_pkg[perl] \
  --slave   %p/bin/xml_spellcheck              xml_spellcheck   %p/bin/xml_spellcheck-%type_pkg[perl] \
  --slave   %p/bin/xml_merge                   xml_merge           %p/bin/xml_merge-%type_pkg[perl] \
  --slave   %p/bin/xml_split                   xml_split           %p/bin/xml_split-%type_pkg[perl] \
  --slave   %p/share/man/man1/xml_grep.1       xml_grep.1       %p/share/man/man1/xml_grep.1-%type_pkg[perl] \
  --slave   %p/share/man/man1/xml_pp.1         xml_pp.1         %p/share/man/man1/xml_pp.1-%type_pkg[perl] \
  --slave   %p/share/man/man1/xml_spellcheck.1 xml_spellcheck.1 %p/share/man/man1/xml_spellcheck.1-%type_pkg[perl] \
  --slave   %p/share/man/man1/xml_merge.1      xml_merge.1       %p/share/man/man1/xml_merge.1-%type_pkg[perl] \
  --slave   %p/share/man/man1/xml_split.1      xml_split.1       %p/share/man/man1/xml_split.1-%type_pkg[perl]
<<
PreRmScript: <<
  update-alternatives --remove xml_grep %p/bin/xml_grep-%type_pkg[perl]
<<
Type: perl (5.8.1 5.8.6 5.8.8 5.10.0)
UpdatePOD: True
Source-MD5: 88a24e3e09b2fc1e252f7662d1291f9a
#NoPerlTests: True
DocFiles: README Changes
Description: Process huge XML documents in tree mode
DescDetail: <<
A perl module for processing huge XML documents in tree mode.
<<
DescPort: <<
  Justin Hallett - removed make test as it faild do to a perl bug with <DATA>
                   usage and clean up, xml-twig-pm works fine.
  dmacks - fixed -pmXXX orthogonality
<<
License: Artistic
Maintainer: Daniel Johnson <daniel@daniel-johnson.org>
Homepage: http://search.cpan.org/dist/XML-Twig
<<
