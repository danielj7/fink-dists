--- QuantLib-Python-0.3.5.orig/setup.py	Thu Mar 11 07:02:38 2004
+++ QuantLib-Python-0.3.5/setup.py	Tue Mar 30 18:22:07 2004
@@ -317,7 +317,11 @@
             g['CC'] = os.environ['CXX']
         else:
             g['CC'] = 'g++'
-        g['LDSHARED'] = g['CC'] + ' -shared'
+        if sys.platform.startswith("darwin"):
+	    g['LDSHARED'] = g['CC'] + \
+		' -bundle -flat_namespace -undefined suppress'
+	else:
+            g['LDSHARED'] = g['CC'] + ' -shared'
     sysconfig._init_posix = my_init_posix
 
 datafiles  = []
