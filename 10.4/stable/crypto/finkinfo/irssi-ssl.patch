diff -ru irssi-0.8.9/configure irssi-0.8.9-patched/configure
--- irssi-0.8.9/configure	2003-12-11 00:23:05.000000000 +0100
+++ irssi-0.8.9-patched/configure	2004-07-15 22:03:59.000000000 +0200
@@ -23013,10 +23013,10 @@
 
     if $search_ncurses
     then
-        if test -f $withval/include/ncurses.h
+        if test -f $withval/include/ncurses/ncurses.h
 	then
-	    echo "$as_me:$LINENO: result: Found ncurses on $withval/include/ncurses.h" >&5
-echo "${ECHO_T}Found ncurses on $withval/include/ncurses.h" >&6
+	    echo "$as_me:$LINENO: result: Found ncurses on $withval/include/ncurses/ncurses.h" >&5
+echo "${ECHO_T}Found ncurses on $withval/include/ncurses/ncurses.h" >&6
 
 	    CURSES_LIBS="-L$withval/lib -lncurses"
 	    echo "$as_me:$LINENO: checking for initscr in -lncurses" >&5
--- irssi-0.8.10/src/irc/dcc/Backup/dcc.c.~1~	2005-12-08 18:32:48.000000000 +0100
+++ irssi-0.8.10/src/irc/dcc/dcc.c	2006-01-17 08:51:35.000000000 +0100
@@ -58,8 +58,8 @@
 
 	pos = gslist_find_string(dcc_types, type);
 	if (pos != NULL) {
-                dcc_types = g_slist_remove(dcc_types, pos->data);
 		g_free(pos->data);
+                dcc_types = g_slist_remove(dcc_types, pos->data);
 	}
 }
 
