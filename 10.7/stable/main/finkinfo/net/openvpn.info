Package: openvpn
Version: 2.2.2
Revision: 5
Description: Virtual private network daemon
License: GPL
Maintainer: Andreas Gockel <fink-openvpn@unixforge.de>
Depends: lzo2-shlibs, tuntap
BuildDepends: autoconf2.6, automaken, fink (>= 0.24.12), lzo2, system-openssl-dev
Suggests: gawk
Source: http://swupdate.openvpn.net/community/releases/%n-%v.tar.gz
Source-MD5: c5181e27b7945fa6276d21873329c5c7
PatchFile: %n.patch
Patchfile-MD5: e4f02c8d21fc3d6294a753974702acba
SetCFLAGS: -g -O2 -fstack-protector -Wformat -Werror=format-security -fPIE -Wno-deprecated-declarations
SetCPPFLAGS: -D_FORTIFY_SOURCE=2 -I%p/lib/system-openssl/include
SetCXXFLAGS: -g -O2 -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security -fPIE
SetLDFLAGS: -Wl,-read_only_stubs -Wl,-bind_at_load -fPIE -Wl,-pie -L%p/lib/system-openssl/lib
ConfigureParams: <<
 --disable-dependency-tracking\
 --disable-pkcs11\
 --disable-selinux\
 --enable-password-save\
 --enable-x509-alt-username\
 --mandir=%i/share/man\
 --with-ifconfig-path=/sbin/ifconfig\
 --with-route-path=/sbin/route
<<
CompileScript: <<
 autoreconf
 automake -af
 ./configure %c
 /usr/bin/make prefix=%i
 /usr/bin/make -C plugin/auth-pam/ prefix=%i
 /usr/bin/make -C plugin/down-root/ prefix=%i
<<
InstallScript: <<
#!/bin/sh -e -x
 /usr/bin/make install prefix=%i
 /usr/bin/make -C easy-rsa/2.0 install DESTDIR=%i/share/doc/%n/examples/easy-rsa/2.0
 chmod a-x %i/share/doc/%n/examples/easy-rsa/2.0/{vars,openssl-*.cnf}
 /usr/bin/make -C easy-rsa/2.0 install DESTDIR=%i/share/doc/%n/examples/easy-rsa/1.0
 install -d -m 755 %i/{etc,include,lib,share{,/doc}}/%n
 install -m 755 sample-scripts/verify-cn %i/share/%n
 install -m 644 plugin/auth-pam/%n-auth-pam.so %i/lib/%n
 install -m 644 plugin/down-root/%n-down-root.so %i/lib/%n
 install -m 644 %n-plugin.h %i/include/%n/%n-plugin.h
 cp -a sample-{config-files,keys,scripts} %i/share/doc/%n/examples/
 /bin/cat >%i/share/doc/%n/org.%n.client.plist <<'EOF'
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>Label</key>
	<string>org.%n.client</string>
	<key>Nice</key>
	<integer>-1</integer>
	<key>OnDemand</key>
	<false/>
	<key>Program</key>
	<string>%p/sbin/%n</string>
	<key>ProgramArguments</key>
	<array>
		<string>%p/sbin/%n</string>
		<string>%n.conf</string>
	</array>
	<key>RunAtLoad</key>
	<true/>
	<key>WatchPaths</key>
	<array>
		<string>%p/etc/%n</string>
	</array>
	<key>WorkingDirectory</key>
	<string>%p/etc/%n</string>
</dict>
</plist>
EOF
<<
DocFiles: <<
 AUTHORS COPYRIGHT.GPL:copyright ChangeLog
 PORTS README ChangeLog.IPv6 README.ipv6 README-payload.IPv6
 plugin/auth-pam/README:README.auth-pam TODO-payload.IPv6
 plugin/down-root/README:README.down-root TODO.ipv6
<<
Homepage: http://openvpn.net/
DescDetail: <<
 OpenVPN is an application to securely tunnel IP networks over a
 single UDP or TCP port. It can be used to access remote sites, make
 secure point-to-point connections, enhance wireless security, etc.
 .
 OpenVPN uses all of the encryption, authentication, and certification
 features provided by the OpenSSL library (any cipher, key size, or
 HMAC digest).
 .
 OpenVPN may use static, pre-shared keys or TLS-based dynamic key exchange. It
 also supports VPNs with dynamic endpoints (DHCP or dial-up clients), tunnels
 over NAT or connection-oriented stateful firewalls (such as Linux's iptables).
 .
 Previous Maintainer:
  <= 2.0.7 ASARI Takashi <asari@users.sourceforge.net>
<<
DescUsage: <<
 Before you start to use %n, take a look at the DescUsage of
 the package tuntap.
 .
 Under "%p/share/doc/%n/org.openvpn.client.plist" you will find an example
 launchd.plist file to start your %n tunnel at startup.
 .
 After configuring your %n.conf, place the example plist into
 /Library/LaunchDaemons/ or ~/Library/LaunchDaemons/ .
<<
DescPort: <<
 Includes all applicable patches from debian
 Backported some fixes from 2.3alpha1
 Include easy-rsa
<<
