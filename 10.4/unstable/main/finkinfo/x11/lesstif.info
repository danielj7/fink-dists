Package: lesstif
Version: 0.95.0
Epoch: 1
Revision: 1
Source: mirror:sourceforge:lesstif/%n-%v.tar.gz
Source-MD5: 9c9ff519bcaf5c2e013d7992fe5260cd
Source2: http://ftp.debian.org/debian/pool/main/l/lesstif2/lesstif2_0.95.0-2.1.diff.gz
Source2-MD5: 89e1e1823eb37a40a54330a834c68b6b
Depends: %N-shlibs (= %e:%v-%r)
PatchFile: %n.patch
PatchFile-MD5: ccfec9d8ac06306dd7beb0f95f818f44
PatchScript: <<
  sed -e 's|@PREFIX@|%p|' < %{PatchFile} | patch -p1
  gzcat ../lesstif2_0.95.0-2.1.diff.gz | patch -p1
  patch -p1 < ./debian/patches/020_bad_integer_cast.diff
  patch -p1 < ./debian/patches/020_missing_xm_h.diff
  patch -p1 < ./debian/patches/020_render_table_crash.diff
  patch -p1 < ./debian/patches/020_unsigned_int.diff
  patch -p1 < ./debian/patches/020_xpmpipethrough.diff
  patch -p1 < ./debian/patches/021_xim_chained_list_crash.diff
<<
BuildDepends: x11-dev, fink (>= 0.24.12-1)
Replaces: lesstif-bin (<< 1:0.95.0-1), lesstif-dev, openmotif3, openmotif4
Conflicts: openmotif3, openmotif4
BuildDependsOnly: True
ConfigureParams: --disable-build-12 --disable-build-20 --enable-build-21 --enable-static --enable-production --with-fontconfig_lib=/usr/X11R6/lib --x-includes=/usr/X11R6/include --x-libraries=/usr/X11R6/lib
InstallScript: <<
 make install DESTDIR=%d 
 mkdir -p %i/share/doc/%n
 mv %i/LessTif/doc %i/share/doc/%n
 rm -R %i/LessTif
 mv %i/man %i/share
 rm %i/share/man/man1/ltversion.1
<<
SplitOff: <<
  Package: %N-shlibs
  Depends: x11
  Replaces: %N (<= 0.93.18-4)
  Files: lib/libMrm.*.dylib lib/libUil.*.dylib lib/libXm.*.dylib lib/libDtPrint.*.dylib
  Shlibs: <<
    %p/lib/libDtPrint.1.dylib 2.0.0 %n (>= 0.93.18-1)
    %p/lib/libMrm.2.dylib 3.0.0 %n (>= 0.93.18-1)
    %p/lib/libUil.2.dylib 3.0.0 %n (>= 0.93.18-1)
    %p/lib/libXm.2.dylib 3.0.0 %n (>= 0.93.18-1)
  <<
  DocFiles: AUTHORS BUG-REPORTING COPYING COPYING.LIB CREDITS FAQ  README NEWS ReleaseNotes.txt
<<
SplitOff2: <<
  Package: %N-bin
  Depends: %N-shlibs (= %e:%v-%r), app-defaults
  Replaces: %N (<= 0.93.18-4), openmotif3-bin, openmotif4-bin
  Conflicts: openmotif3-bin, openmotif4-bin
  Files: <<
    bin/mwm bin/uil bin/xmbind
    share/man/man1 share/man/man5
    lib/X11
    etc
    share/doc/%N/doc
  <<
  DocFiles: AUTHORS BUG-REPORTING COPYING COPYING.LIB CREDITS FAQ README ReleaseNotes.txt
<<
DocFiles: AUTHORS BUG-REPORTING COPYING COPYING.LIB CREDITS FAQ README ReleaseNotes.txt
PostInstScript: <<
update-alternatives --install %p/share/man/man3/Object.3 Object.3 %p/share/man/man3/Object.3.lesstif 70
<<
PreRmScript: <<
if [ $1 != "upgrade" ]; then
  update-alternatives --remove Object.3 %p/share/man/man3/Object.3.lesstif
fi
<<
#
Description: Free implementation of OSF/Motif
DescPort: <<
Lesstif 0.95.0 only builds Motif v2.1 libraries now.
<<
DescPackaging: <<
man pages that conflict with other packages are managed
with update-alternatives.

Previous versions by Christoph Pfisterer.

Patch configure to avoid requiring %p/share/aclocal being +w for build user
or having fink's aclocal present

Patch to place xrdb file in fink-standard location.

Some build-time tools (motif-util mxmkmf) moved %N-bin -> %N as of
1:0.95.0-1

ltversion doesn't exist, so nuke its manpage
<<
DescUsage: <<
 Clients which link both libXm and libXt from XFree86 >= 4.2 should
 use the -force_flat_namespace linker flag (to avoid errors of the
 form "Error: attempt to add non-widget child .. " upon launch).
<<
License: GPL/LGPL
Homepage: http://www.lesstif.org/
Maintainer: None <fink-devel@lists.sourceforge.net>
