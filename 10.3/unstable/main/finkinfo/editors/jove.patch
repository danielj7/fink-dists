diff -ruN jove-orig/Makefile jove/Makefile
--- jove-orig/Makefile	1996-03-18 20:44:33.000000000 -0800
+++ jove/Makefile	2003-10-24 09:56:28.000000000 -0700
@@ -24,19 +24,19 @@
 # DFLTSHELL is the default shell invoked by JOVE and TEACHJOVE.
 #
 # If they don't exist, this makefile will try to create the directories
-# LIBDIR and SHAREDIR.  All others must already exist.
+# BINDIR, LIBDIR, MANDIR and SHAREDIR.  All others must already exist.
 
 SHELL = /bin/sh
-TMPDIR = /usr/tmp
-RECDIR = /usr/preserve
+TMPDIR = $(JOVEHOME)/var/tmp/jove
+RECDIR = $(JOVEHOME)/var/tmp/jove/preserve
 
 JOVEHOME = /usr/local
-SHAREDIR = $(JOVEHOME)/lib/jove
+SHAREDIR = $(JOVEHOME)/share/jove
 LIBDIR = $(JOVEHOME)/lib/jove
 BINDIR = $(JOVEHOME)/bin
-MANDIR = $(JOVEHOME)/man/man$(MANEXT)
+MANDIR = $(JOVEHOME)/share/man/man$(MANEXT)
 MANEXT = 1
-DFLTSHELL = /bin/csh
+DFLTSHELL = /bin/sh
 
 # The install commands of BSD and System V differ in unpleasant ways:
 # -c: copy (BSD); -c dir: destination directory (SysV)
@@ -46,16 +46,18 @@
 # If you know that /bin/install is the BSD program, you can use it.
 # "cp" will work reasonably well, but be aware that any links continue
 # referencing the old file with new contents.
-
+INSTALL=/usr/bin/install
 INSTALLFLAGS = # -g bin -o root
 
 # to install executable files
-XINSTALL=cp
+#XINSTALL=cp
 #XINSTALL=/usr/ucb/install $(INSTALLFLAGS) -c -m 755 # -s
+XINSTALL=$(INSTALL) $(INSTALLFLAGS) -c -m 755
 
 # to install text files
-TINSTALL=cp
+#TINSTALL=cp
 #TINSTALL=/usr/ucb/install $(INSTALLFLAGS) -c -m 644
+TINSTALL=$(INSTALL) $(INSTALLFLAGS) -c -m 644
 
 # These should all just be right if the above ones are.
 # You will confuse JOVE if you move anything from LIBDIR or SHAREDIR.
@@ -65,6 +67,7 @@
 RECOVER = $(LIBDIR)/recover
 PORTSRV = $(LIBDIR)/portsrv
 JOVERC = $(SHAREDIR)/jove.rc
+JOVELOCALRC = $(SHAREDIR)/jove-local.rc
 TERMSDIR = $(SHAREDIR)
 CMDS.DOC = $(SHAREDIR)/cmds.doc
 TEACH-JOVE = $(SHAREDIR)/teach-jove
@@ -79,7 +82,7 @@
 # compiler, adding -Xa -v will increase compiler checking.
 # On DEC OSF/1, -std1 -O
 
-OPTFLAGS = -O
+OPTFLAGS = -Os
 
 # For making dependencies under BSD systems
 DEPENDFLAG = -M
@@ -164,6 +167,7 @@
 # You can just say 'make SYSDEFS=-Dwhatever' on these systems.
 
 SYSDEFS =
+SYSDEFS = -DBSDPOSIX
 
 # for SCO Xenix, set
 #	MEMFLAGS = -Mle
@@ -179,6 +183,7 @@
 # CC = /opt/SUNWspro/bin/cc
 # For DG AViiON, expect compile errors unless you use the GNU C compiler:
 # CC=gcc
+CC = gcc
 
 # Load invocation of cc.
 # LDCC = purify $(CC)
@@ -329,14 +334,21 @@
 	 $(TEACH-JOVE) $(CMDS.DOC) $(TERMSDIR)docs \
 	 $(PORTSRVINST) $(RECOVER) $(JOVE) $(TEACHJOVE) $(MANUALS)
 	$(TINSTALL) doc/jove.rc $(JOVERC)
+	$(TINSTALL) doc/jove-local.rc $(JOVELOCALRC)
 	@echo See the README about changes to /etc/rc or /etc/rc.local
 	@echo so that the system recovers jove files on reboot after a crash
 
+$(BINDIR)::
+	test -d $(BINDIR) || mkdir -p $(BINDIR)
+
 $(LIBDIR)::
-	test -d $(LIBDIR) || mkdir $(LIBDIR)
+	test -d $(LIBDIR) || mkdir -p $(LIBDIR)
+
+$(MANDIR)::
+	test -d $(MANDIR) || mkdir -p $(MANDIR)
 
 $(SHAREDIR)::
-	test -d $(SHAREDIR) || mkdir $(SHAREDIR)
+	test -d $(SHAREDIR) || mkdir -p $(SHAREDIR)
 
 $(TEACH-JOVE): doc/teach-jove
 	$(TINSTALL) doc/teach-jove $(TEACH-JOVE)
@@ -365,19 +377,19 @@
 $(RECOVER): recover
 	$(XINSTALL) recover $(RECOVER)
 
-$(JOVE): jjove
+$(JOVE): $(BINDIR) jjove
 	$(XINSTALL) jjove $(JOVE)
 
 $(TEACHJOVE): teachjove
 	$(XINSTALL) teachjove $(TEACHJOVE)
 
-$(JOVEM): doc/jove.nr
+$(JOVEM): $(MANDIR) doc/jove.nr
 	@sed -e 's;<TMPDIR>;$(TMPDIR);' \
 	     -e 's;<LIBDIR>;$(LIBDIR);' \
 	     -e 's;<SHAREDIR>;$(SHAREDIR);' \
-	     -e 's;<SHELL>;$(DFLTSHELL);' doc/jove.nr > /tmp/jove.nr
-	$(TINSTALL) /tmp/jove.nr $(JOVEM)
-	rm /tmp/jove.nr
+	     -e 's;<SHELL>;$(DFLTSHELL);' doc/jove.nr > tmp_jove.nr
+	$(TINSTALL) tmp_jove.nr $(JOVEM)
+	rm tmp_jove.nr
 
 # doc/jove.doc is the formatted manpage (only needed by DOS)
 # Building it should be like building $(JOVEM) except that we
@@ -391,18 +403,18 @@
 	@sed -e 's;<TMPDIR>;$(TMPDIR);' \
 	     -e 's;<LIBDIR>;$(LIBDIR);' \
 	     -e 's;<SHAREDIR>;$(SHAREDIR);' \
-	     -e 's;<SHELL>;$(DFLTSHELL);' doc/teachjove.nr > /tmp/teachjove.nr
-	$(TINSTALL) /tmp/teachjove.nr $(TEACHJOVEM)
-	rm /tmp/teachjove.nr
+	     -e 's;<SHELL>;$(DFLTSHELL);' doc/teachjove.nr > tmp_teachjove.nr
+	$(TINSTALL) tmp_teachjove.nr $(TEACHJOVEM)
+	rm tmp_teachjove.nr
 
 $(XJOVEM): doc/xjove.nr
 	$(TINSTALL) doc/xjove.nr $(XJOVEM)
 
 $(JOVETOOLM): doc/jovetool.nr
 	@sed -e 's;<MANDIR>;$(MANDIR);' \
-	     -e 's;<MANEXT>;$(MANEXT);' doc/jovetool.nr > /tmp/jovetool.nr
-	$(TINSTALL) /tmp/jovetool.nr $(JOVETOOLM)
-	rm /tmp/jovetool.nr
+	     -e 's;<MANEXT>;$(MANEXT);' doc/jovetool.nr > tmp_jovetool.nr
+	$(TINSTALL) tmp_jovetool.nr $(JOVETOOLM)
+	rm tmp_jovetool.nr
 
 echo:
 	@echo $(C-FILES) $(HEADERS)
diff -ruN jove-orig/doc/jove-local.rc jove/doc/jove-local.rc
--- jove-orig/doc/jove-local.rc	1969-12-31 16:00:00.000000000 -0800
+++ jove/doc/jove-local.rc	2003-10-23 16:52:22.000000000 -0700
@@ -0,0 +1,3 @@
+bind-to-key query-replace-string ^[%
+bind-to-key suspend-jove ^Z
+bind-to-key insert-file ^Xi
