Info2: <<
Package: mkvtoolnix%type_pkg[uitype]
Version: 2.1.0
Revision: 1
Type: uitype (-nox -qt)
Description: Set of tools for Matroska files
License: GPL
Homepage: http://www.bunkus.org/videotools/mkvtoolnix/index.html
Maintainer: None <fink-devel@lists.sourceforge.net>

Source: http://www.bunkus.org/videotools/mkvtoolnix/sources/mkvtoolnix-%v.tar.bz2
Source-MD5: 0836c4fad0b8da784ef2ddd7a54e84b4

GCC: 4.0

Provides: mkvtoolnix
Conflicts: mkvtoolnix-nox, mkvtoolnix-qt
Replaces: mkvtoolnix-nox, mkvtoolnix-qt

PatchFile: mkvtoolnix.patch
PatchFile-MD5: 92901394c02d3f93c9a1977e6e8e831a

BuildDepends: <<
  fink (>= 0.24.12),
  libebml,
  libmatroska,
  expat1,
  libogg,
  libvorbis0,
  pcre,
  libflac8-dev,
  lzo2,
  bzip2-dev,
  file-dev,
  libiconv-dev,
  (%type_raw[uitype] = -qt) qt4-x11,
  (%type_raw[uitype] = -qt) glib2-dev,
  (%type_raw[uitype] = -qt) libgettext3-dev,
  (%type_raw[uitype] = -qt) freetype219
<<

Depends: <<
  expat1-shlibs,
  libogg-shlibs,
  libvorbis0-shlibs,
  pcre-shlibs,
  libflac8,
  lzo2-shlibs,
  bzip2-shlibs,
  file-shlibs,
  libiconv,
  (%type_raw[uitype] = -qt) qt4-x11-core-shlibs,
  (%type_raw[uitype] = -qt) qt4-x11-gui-shlibs
<<

ConfigureParams: --mandir=%p/share/man --enable-lzo --enable-bz2 --with-flac
CompileScript: <<
  #!/bin/bash -ev
  if [ "%type_raw[uitype]" == "-nox" ]; then
    ./configure %c --disable-gui
  elif [ "%type_raw[uitype]" == "-qt" ]; then
    ./configure %c PKG_CONFIG_PATH=%p/lib/qt4-x11/lib/pkgconfig --disable-wxwidgets --enable-qt --with-moc=%p/lib/qt4-x11/bin/moc --with-uic=%p/lib/qt4-x11/bin/uic
  fi
  make
<<

InstallScript: <<
  make install DESTDIR=%d
<<

DocFiles: AUTHORS COPYING ChangeLog NEWS README TODO

DescDetail: <<
MKVToolnix is a set of tools to create, alter and inspect Matroska
files under Linux, other Unices and Windows. They do for Matroska what
the OGMtools do for the OGM format and then some.
<<

DescPackaging: <<
Building with wxgtk2.8 doesn't succeed because it is compiled with
-fno-rtti.

Building with wxmac28 has succeeded but the resulting binary didn't
work in my environment. The mmg opens a window but the window is
completely frozen; it can't even be activated.
<<
<<