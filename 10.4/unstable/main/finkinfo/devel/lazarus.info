Package: lazarus
Version: 0.9.24
Revision: 1
Architecture: powerpc, i386
Builddepends: gdk-pixbuf, gtk+, glib
Depends: fpc (>= 2.2.1), gtk-doc, gdk-pixbuf-shlibs, glib-shlibs, gtk+-shlibs, gtk-engines
Recommends: fpc-doc
Source: http://michael-ep3.physik.uni-halle.de/fink-sources/lazarus-%v-0.tar.gz
Source-MD5: bdb0221240d776e4bc32733f2872e2b1
SourceDirectory: lazarus
Source2: http://michael-ep3.physik.uni-halle.de/fink-sources/fpcbuild.tar.bz2
Source2-MD5: 6f9b138d3f8afb65c291ca9087eb3d64
Patchscript: <<
#!/bin/sh -ev

  chmod 755 .

  sed -i.bak 's|1\.\.14|1\.\.15|g'                                            ide/include/unix/lazbaseconf.inc
  sed -i.bak "s|'/usr/share/fpcsrc'|'/usr/share/fpcsrc','%p/share/fpcsrc'|g"  ide/include/unix/lazbaseconf.inc

  sed -i.bak 's|1\.\.7|1\.\.8|g'                                                   ide/include/unix/lazbaseconf.inc
  sed -i.bak "s|'/usr/share/lazarus',|'/usr/share/lazarus','%p/share/lazarus',|g"  ide/include/unix/lazbaseconf.inc

<<
CompileScript: <<
#!/bin/sh -ev

# ** Start compiling Lazarus **

  make all CPU_TARGET=%m

# ** End compiling Lazarus **

<<
InstallScript: <<
#!/bin/sh -ev

# ** Start installing Lazarus **

  make install INSTALL_PREFIX=%i CPU_TARGET=%m

# ** fix the symbolic links **

  ln -sf ../share/lazarus/lazarus      %i/bin/lazarus-ide
  ln -sf ../share/lazarus/startlazarus %i/bin/startlazarus
  ln -sf ../share/lazarus/lazbuild     %i/bin/lazbuild

# ** Copy the sources of the rtl, packages and utils of FreePascal **

  install -m 755 -d %i/share/fpcsrc/rtl
  install -m 755 -d %i/share/fpcsrc/packages
  install -m 755 -d %i/share/fpcsrc/utils
  install -m 755 -d %i/share/fpcsrc/fv

  mv %b/../fpc_2.2.1/rtl	%i/share/fpcsrc
  mv %b/../fpc_2.2.1/packages	%i/share/fpcsrc
  mv %b/../fpc_2.2.1/utils	%i/share/fpcsrc
  mv %b/../fpc_2.2.1/fv		%i/share/fpcsrc

# ** End installing Lazarus **
#
<<
License: GPL/LGPL
Description: Free Pascal IDE
DescDetail: <<
Lazarus is an open-source development system that builds on the Free Pascal 
compiler by adding an integrated development environment (IDE) 
that includes a syntax-highlighting code editor and visual form designer, 
as well as a component library that is highly compatible with Delphi's 
Visual Component Library (VCL).  The Lazarus Component Library (LCL) 
includes  equivalents for many of the familiar VCL controls such as 
forms, buttons, text boxes and so on that are used to create 
applications with a graphical user interface (GUI).
<<
DescUsage: <<
 To start lazarus type "lazarus-ide" in the X11 xterm.
 To build a .lpr project use "lazbuild project-file-name.lpr".
<<
DescPort: <<
 stabs debugging is not supported under 10.5.
 Expect numerous warnings when linking:
 unknown stabs type 0xE0 ...
<<
Homepage: http://wiki.freepascal.org/Main_Page
Maintainer: Karl-Michael Schindler <karl-michael.schindler@physik.uni-halle.de>
