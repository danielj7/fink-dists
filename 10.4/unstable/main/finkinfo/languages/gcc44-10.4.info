Info2: <<
Package: gcc44
Version: 4.3.9999
Revision: 20090327
Source: ftp://gcc.gnu.org/pub/gcc/snapshots/4.4-%r/gcc-4.4-%r.tar.bz2
Source-MD5: 09193d80306e0ec89af567b630adac5a
Source2: ftp://sourceware.org/pub/java/ecj-latest.jar
Source2-MD5: fd299f26c02268878b5d6c0e86f57c43
PatchFile: %n.patch
PatchFile-MD5: 6f197d1d80ae3db86d292f76d76db583
Distribution: 10.4
Type: -64bit
NoSetCPPFLAGS: True
NoSetLDFLAGS: True
Conflicts: gcc4, gcc42, gcc43
Replaces: gcc4, gcc42, gcc43
Depends: gmp-shlibs (>= 4.2.4-1000), libmpfr1-shlibs (>= 2.3.2-1), %N-shlibs (>= %v-%r), libiconv, libgettext3-shlibs, xcode (>= 2.5)
BuildDepends: gmp (>= 4.2.4-1000), libmpfr1 (>= 2.3.2-1), libiconv-dev, gettext-tools, libgettext3-dev, xcode (>= 2.5), fink (>= 0.24.12)
ConfigureParams: <<
 --prefix=%p/lib/gcc4.4 --mandir=%p/share/man --infodir=%p/share/info --enable-languages=c,c++,fortran,objc,java \
 --with-gmp=%p  --with-libiconv-prefix=%p --with-system-zlib --x-includes=/usr/X11R6/include \
 --x-libraries=/usr/X11R6/lib --disable-libjava-multilib
<<
CompileScript: <<
 #!/bin/bash -ev
 ulimit -s `ulimit -s`
 mv ../ecj-latest.jar ecj.jar
 mkdir ../darwin_objdir
 cd ../darwin_objdir
 darwinvers=`uname -r|cut -f1 -d.`
 if [ "%m" = "powerpc" ]; then
  ../gcc-4.4-%r/configure %c --build=%m-apple-darwin${darwinvers} --host=%m-apple-darwin${darwinvers} --target=%m-apple-darwin${darwinvers}
 else
  ../gcc-4.4-%r/configure %c --with-arch=nocona --with-tune=generic --build=i686-apple-darwin${darwinvers} --host=i686-apple-darwin${darwinvers} --target=i686-apple-darwin${darwinvers}
 fi
 num_cpu=$(echo `sysctl -n hw.ncpu`)
 make -j $num_cpu
 ##  make check requires autogen, dejagnu and expect, and should be run, in darwin_objdir, after install.
 ##  on 32-bit processors use
 # make -k check
 ##  on 64-bit processors use
 # make -k check RUNTESTFLAGS="--target_board=unix'{-m32,-m64}'"
<<
InstallScript: <<
 #!/bin/sh -ev
 cd ../darwin_objdir
 make install DESTDIR=%d 
 mkdir -p %i/bin
 ln -s %p/lib/gcc4.4/bin/gfortran %i/bin/gfortran
 ln -s %p/lib/gcc4.4/bin/gcc %i/bin/gcc-4
 ln -s %p/lib/gcc4.4/bin/g++ %i/bin/g++-4
 ln -s %p/lib/gcc4.4/bin/c++ %i/bin/c++-4
 ln -s %p/lib/gcc4.4/bin/cpp %i/bin/cpp-4
 ln -s %p/lib/gcc4.4/bin/gcov %i/bin/gcov-4
 ln -s %p/lib/gcc4.4/bin/gcj %i/bin/gcj
 ln -s %p/lib/gcc4.4/bin/gcj-dbtool %i/bin/gcj-dbtool
 ln -s %p/lib/gcc4.4/bin/gcjh %i/bin/gcjh
 ln -s %p/lib/gcc4.4/bin/gij %i/bin/gij
 ln -s %p/lib/gcc4.4/bin/gjnih %i/bin/gjnih
 ln -s %p/lib/gcc4.4/bin/grmiregistry %i/bin/grmiregistry
 ln -s %p/lib/gcc4.4/bin/grmic %i/bin/grmic
 ln -s %p/lib/gcc4.4/bin/jcf-dump %i/bin/jcf-dump
 ln -s %p/lib/gcc4.4/bin/jv-convert %i/bin/jv-convert
 ln -s %p/lib/gcc4.4/bin/jv-scan %i/bin/jv-scan
 mv %i/share/info/cpp.info %i/share/info/cpp-4.info
 mv %i/share/info/gcc.info %i/share/info/gcc-4.info
 mv %i/share/man/man1/cpp.1 %i/share/man/man1/cpp-4.1
 mv %i/share/man/man1/g++.1 %i/share/man/man1/g++-4.1
 mv %i/share/man/man1/gcc.1 %i/share/man/man1/gcc-4.1
 mv %i/share/man/man1/gcov.1 %i/share/man/man1/gcov-4.1
 # remove build path from .la files
 perl -pi -e "s, \-L[^ ']*/%n-%v-%r/darwin_objdir/[^ ']*,,g" `find %i/lib/gcc4.4/lib -name '*.la'`
<<
SplitOff: <<
  Package: %N-shlibs
  Replaces: gcc4 (<= 20050130-4), gfortran-shlibs
  Provides: gfortran-shlibs
  Description: Shared libraries for gcc4
  DocFiles: gcc/COPYING gcc/COPYING.LIB
  Homepage: http://gcc.gnu.org/
  Files: <<
    lib/gcc4.4/lib/libgfortran.3*.dylib
    lib/gcc4.4/lib/libffi.4*.dylib
    lib/gcc4.4/lib/libstdc++.6*.dylib
    lib/gcc4.4/lib/libgcc_s.1*.dylib
    lib/gcc4.4/lib/libgcj.10*.dylib
    lib/gcc4.4/lib/libgcj-tools.10*.dylib
    lib/gcc4.4/lib/libgij.10*.dylib
    lib/gcc4.4/lib/libssp.0*.dylib
    lib/gcc4.4/lib/libobjc-gnu.2*.dylib
    lib/gcc4.4/lib/libgomp.1*.dylib
    lib/gcc4.4/lib/gcj-4.4.0-10
    lib/gcc4.4/%lib/libgfortran.3*.dylib
    lib/gcc4.4/%lib/libffi.4*.dylib
    lib/gcc4.4/%lib/libstdc++.6*.dylib
    lib/gcc4.4/%lib/libssp.0*.dylib
    lib/gcc4.4/%lib/libobjc-gnu.2*.dylib
    lib/gcc4.4/%lib/libgomp.1*.dylib
  <<
  Shlibs: <<
    %p/lib/gcc4.4/lib/libgfortran.3.dylib 4.0.0 %n (>= 4.3-20070711) 32
    %p/lib/gcc4.4/lib/libffi.4.dylib 5.0.0 %n (>= 20050130-5) 32
    %p/lib/gcc4.4/lib/libstdc++.6.dylib 7.0.0 %n (>= 4.1-1) 32
    %p/lib/gcc4.4/lib/libgcc_s.1.dylib 1.0.0 %n (>= 4.1-1) 32-64
    %p/lib/gcc4.4/lib/libgcj.10.dylib 11.0.0 %n (>= 4.1.999-20060915) 32
    %p/lib/gcc4.4/lib/libgcj-tools.10.dylib  11.0.0 %n (>= 4.1.999-20060915) 32
    %p/lib/gcc4.4/lib/libgij.10.dylib 11.0.0 %n (>= 4.1.999-20060915) 32
    %p/lib/gcc4.4/lib/libssp.0.dylib 1.0.0 %n (>= 4.1-1) 32
    %p/lib/gcc4.4/lib/libobjc-gnu.2.dylib 3.0.0 %n (>= 20050130-5) 32
    %p/lib/gcc4.4/lib/libgomp.1.dylib 2.0.0 %n (>= 2:4.1.99-20060513) 32
    %p/lib/gcc4.4/lib/gcj-4.4.0-10/libjvm.dylib 0.0.0 %n (>= 4.1-1) 32
    %p/lib/gcc4.4/%lib/libgfortran.3.dylib 4.0.0 %n (>= 4.3-20070711) 64
    %p/lib/gcc4.4/%lib/libffi.4.dylib 5.0.0 %n (>= 20050130-5) 64
    %p/lib/gcc4.4/%lib/libstdc++.6.dylib 7.0.0 %n (>= 4.1-1) 64
    %p/lib/gcc4.4/%lib/libssp.0.dylib 1.0.0 %n (>= 4.1-1) 64
    %p/lib/gcc4.4/%lib/libobjc-gnu.2.dylib 3.0.0 %n (>= 20050130-5) 64
    %p/lib/gcc4.4/%lib/libgomp.1.dylib 2.0.0 %n (>= 2:4.1.99-20060513) 64
  <<
<<
License: GPL
Description: GNU Compiler Collection Version 4.3
InfoDocs: cpp-4.info cppinternals.info gcc-4.info gccinstall.info gccint.info gcj.info gfortran.info
DescDetail: <<
 GCC, the GNU Compiler Collection, includes front ends for
 C, C++, Objective-C, Objective-C++, Fortran, Java, and Ada.
 .
 C, C++, Objective C and Fortran and Java are included in this package.
 .
 The C and C++ compilers are named gcc-4 and g++-4 to avoid
 conflicts with gcc and g++ installed by the Apple Developer Tools
<<
DescPackaging: <<
   The multilib builds of boehm-gc, libffi and libjava are disabled
since the 64-bit support is incomplete on Darwin for those libraries.
The use of odcctools has been removed and replaced with a BuildDepends
and Depends on the gcc version from Xcode 2.4.1.
<<
Homepage: http://gcc.gnu.org/
Maintainer: Jack Howarth <howarth@bromo.med.uc.edu>
<<
