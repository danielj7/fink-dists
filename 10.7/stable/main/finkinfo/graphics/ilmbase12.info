Package: ilmbase12
Version: 2.2.0
Revision: 1
Maintainer: David Fang <fangism@users.sourceforge.net>
Homepage: http://openexr.com/
Description: ILM base math library
License: BSD
Source: http://download.savannah.nongnu.org/releases/openexr/ilmbase-%v.tar.gz
Source-MD5: b540db502c5fa42078249f43d18a4652
Conflicts: openexr-dev, ilmbase
Replaces: openexr-dev, ilmbase
BuildDependsOnly: true
Depends: %N-shlibs
ConfigureParams: --enable-shared --disable-static
PatchScript: <<
	#!/bin/sh -ev
	# fix Makefiles for tests
	sed -i.orig -e 's| -lMath||g' -e '/^LDADD =/s|-L||g' \
		-e '/^LDADD =/s|[HI][a-z]*|&/lib&.la|g' \
		-e '/^LDADD =/s| \\\$||' ImathTest/Makefile.in
	sed -i.orig -e 's| -lIex||g' -e '/^LDADD =/s|-L||g' \
		-e '/^LDADD =/s|[I][a-z]*|&/lib&.la|g' IexTest/Makefile.in
	sed -i.orig -e 's| -lHalf||g' -e '/^LDADD =/s|-L||g' \
		-e '/^LDADD =/s|[H][a-z]*|&/lib&.la|g' HalfTest/Makefile.in
<<
CompileScript: <<
	#!/bin/sh -ev
	./configure %c
	make
<<
InfoTest: <<
	TestScript: make -k check || exit 2
<<
InstallScript: <<
	#!/bin/sh -ev
	make DESTDIR=%d install
<<
DocFiles: AUTHORS ChangeLog COPYING LICENSE NEWS README README.OSX
SplitOff: <<
Package: %N-shlibs
Description: Shared libraries for ilmbase
Files: <<
          lib/libHalf.12.dylib
          lib/libIexMath-2_2.12.dylib
	  lib/libIex-2_2.12.dylib
          lib/libIlmThread-2_2.12.dylib
          lib/libImath-2_2.12.dylib
<<
Shlibs: <<
          %p/lib/libHalf.12.dylib 13.0.0 %n (>= 2.2.0-1)
	  %p/lib/libIexMath-2_2.12.dylib 13.0.0 %n (>= 2.2.0-1)
          %p/lib/libIex-2_2.12.dylib 13.0.0 %n (>= 2.2.0-1)
          %p/lib/libIlmThread-2_2.12.dylib 13.0.0 %n (>= 2.2.0-1)
          %p/lib/libImath-2_2.12.dylib 13.0.0 %n (>= 2.2.0-1)
<<
DocFiles: AUTHORS ChangeLog COPYING LICENSE NEWS README README.OSX
<<
DescDetail: <<
Math library used as the foundation for openexr, from ILM.
<<
DescPort: <<
libHalf is known to fail some tests on powerpc-darwin8.
<<
DescPackaging: <<
Makefile.in generated by automake-1.9.6, in case we need to re-automake.
Conflicts/Replaces old openexr-dev, which basically included ilmbase.
License is a modified BSD license: http://openexr.com/license.html
<<
