diff -Nurd -x'*~' htmldoc-1.8.28.orig/Makefile.in htmldoc-1.8.28/Makefile.in
--- htmldoc-1.8.28.orig/Makefile.in	2011-12-23 01:23:11.000000000 -0500
+++ htmldoc-1.8.28/Makefile.in	2015-04-17 18:02:05.000000000 -0400
@@ -39,7 +39,7 @@
 all:	Makedefs Makefile config.h htmldoc.list
 	for dir in $(DIRS); do\
 		echo Making all in $$dir...;\
-		(cd $$dir; $(MAKE) -$(MAKEFLAGS)) || break;\
+		(cd $$dir; $(MAKE) -$(MAKEFLAGS)) || exit 1;\
 	done
 
 
@@ -50,7 +50,7 @@
 clean:
 	for dir in $(DIRS); do\
 		echo Cleaning in $$dir...;\
-		(cd $$dir; $(MAKE) -$(MAKEFLAGS) clean) || break;\
+		(cd $$dir; $(MAKE) -$(MAKEFLAGS) clean) || exit 1;\
 	done
 	$(RM) *.bak
 	$(RM) *.bck
@@ -77,7 +77,7 @@
 	$(MAKE) all
 	for dir in $(INSTALLDIRS); do\
 		echo Installing in $$dir...;\
-		(cd $$dir; $(MAKE) -$(MAKEFLAGS) install) || break;\
+		(cd $$dir; $(MAKE) -$(MAKEFLAGS) install) || exit 1;\
 	done
 
 
diff -Nurd -x'*~' htmldoc-1.8.28.orig/htmldoc/image.cxx htmldoc-1.8.28/htmldoc/image.cxx
--- htmldoc-1.8.28.orig/htmldoc/image.cxx	2013-08-08 22:53:39.000000000 -0400
+++ htmldoc-1.8.28/htmldoc/image.cxx	2015-04-17 18:05:46.000000000 -0400
@@ -1382,7 +1382,7 @@
   jpeg_stdio_src(&cinfo, fp);
   jpeg_read_header(&cinfo, (boolean)1);
 
-  cinfo.quantize_colors = 0;
+  cinfo.quantize_colors = FALSE;
 
   if (gray || cinfo.num_components == 1)
   {
