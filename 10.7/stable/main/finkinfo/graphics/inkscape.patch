diff -Nurd -x'*~' inkscape-0.48.4.orig/configure.ac inkscape-0.48.4/configure.ac
--- inkscape-0.48.4.orig/configure.ac	2012-12-15 11:56:08.000000000 -0500
+++ inkscape-0.48.4/configure.ac	2012-12-20 00:00:10.000000000 -0500
@@ -753,7 +753,8 @@
 
 # Add X11 library if needed
 if test "x$gtk_backend_target" = "xx11"; then
-  INKSCAPE_LIBS="$INKSCAPE_LIBS -lX11"
+  INKSCAPE_CFLAGS="$INKSCAPE_CFLAGS -I/usr/X11R6/include"
+  INKSCAPE_LIBS="$INKSCAPE_LIBS -L/usr/X11R6/lib -lX11"
 fi
 
 # Check for Apple Mac OS X Carbon framework
diff -Nurd -x'*~' inkscape-0.48.4.orig/src/Makefile.am inkscape-0.48.4/src/Makefile.am
--- inkscape-0.48.4.orig/src/Makefile.am	2012-12-15 11:56:07.000000000 -0500
+++ inkscape-0.48.4/src/Makefile.am	2013-06-20 16:55:13.000000000 -0400
@@ -55,6 +55,9 @@
 inkview_SOURCES =
 
 INCLUDES =	\
+	-I$(top_srcdir)/cxxtest \
+	-I$(srcdir)/bind/javainc \
+	-I$(srcdir)/bind/javainc/linux \
 	$(PERL_CFLAGS) $(PYTHON_CFLAGS)	\
 	$(FREETYPE_CFLAGS)	\
 	$(GNOME_PRINT_CFLAGS)	\
@@ -68,10 +71,7 @@
 	$(POPPLER_GLIB_CFLAGS)	\
 	-DPOTRACE=\"potrace\"	\
 	$(INKSCAPE_CFLAGS) \
-	-I$(top_srcdir)/cxxtest \
 	$(WIN32_CFLAGS) \
-	-I$(srcdir)/bind/javainc \
-	-I$(srcdir)/bind/javainc/linux \
 	$(AM_CPPFLAGS)
 
 CXXTEST_TEMPLATE = $(srcdir)/cxxtest-template.tpl
diff -Nurd -x'*~' inkscape-0.48.4.orig/src/extension/system.cpp inkscape-0.48.4/src/extension/system.cpp
--- inkscape-0.48.4.orig/src/extension/system.cpp	2013-11-17 17:15:40.000000000 -0500
+++ inkscape-0.48.4/src/extension/system.cpp	2013-11-17 17:15:59.000000000 -0500
@@ -20,6 +20,7 @@
 
 #include <interface.h>
 
+#include <unistd.h>
 #include "system.h"
 #include "preferences.h"
 #include "extension.h"
diff -Nurd -x'*~' inkscape-0.48.4.orig/src/live_effects/lpe-perp_bisector.h inkscape-0.48.4/src/live_effects/lpe-perp_bisector.h
--- inkscape-0.48.4.orig/src/live_effects/lpe-perp_bisector.h	2011-07-08 14:25:09.000000000 -0400
+++ inkscape-0.48.4/src/live_effects/lpe-perp_bisector.h	2014-05-11 17:13:08.000000000 -0400
@@ -27,7 +27,7 @@
   class KnotHolderEntityEnd;
   class KnotHolderEntityLeftEnd;
   class KnotHolderEntityRightEnd;
-  void bisector_end_set(SPItem *item, Geom::Point const &p, bool left);
+  void bisector_end_set(SPItem *item, Geom::Point const &p, bool left = true);
 }
 
 class LPEPerpBisector : public Effect {
@@ -46,7 +46,7 @@
     friend class PB::KnotHolderEntityEnd;
     friend class PB::KnotHolderEntityLeftEnd;
     friend class PB::KnotHolderEntityRightEnd;
-    friend void PB::bisector_end_set(SPItem *item, Geom::Point const &p, bool left = true);
+    friend void PB::bisector_end_set(SPItem *item, Geom::Point const &p, bool left);
 
 private:
     ScalarParam length_left;
