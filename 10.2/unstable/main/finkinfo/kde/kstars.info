Package: kstars
Version: 3.1.9
Revision: 0.20030407.5
Description: KDE - desktop planetarium
License: GPL/LGPL
Maintainer: Benjamin Reed <ranger@befunk.com>

Depends: dlcompat-shlibs (>= 20021117-2), kdelibs3-ssl (>= 3.1.3-1) | kdelibs3 (>= 3.1.3-1), kdebase3-ssl (>= 3.1.3-1) | kdebase3 (>= 3.1.3-1), libart2-shlibs, libjpeg-shlibs, libpng3-shlibs (>= 1.2.5-4), qt3-shlibs (>= 3.1.0-1), x11
BuildDepends: arts-dev (>= 1.1.3-1), autoconf2.54, automake1.6, cctools (>= 446-1) | cctools-single-module, dlcompat-dev (>= 20021117-2), fink (>= 0.12.1-1), kdelibs3-ssl-dev (>= 3.1.3-1) | kdelibs3-dev (>= 3.1.3-1), kdebase3-ssl-dev (>= 3.1.3-1) | kdebase3-dev (>= 3.1.3-1), libart2, libjpeg, libpng3 (>= 1.2.5-4), libtool14, qt3 (>= 3.1.0-1)

Replaces: kdeedu3-dev (<< 3.1.9-1)
GCC: 3.1

CustomMirror: <<
  nam-US: http://ranger.befunk.com/fink
  nam-US: http://astrange.ithinksw.net/~astrange/ranger-fink
  nam-CA: http://www.southofheaven.net/befunk
<<
Source: mirror:sourceforge:%n/%n-cvs20030407.tar.gz
Source-MD5: c1d5226eca115c8c8c01ad3d004ae402
SourceDirectory: %N-cvs20030407
Source2: mirror:custom:kde-admindir-20030807.tar.bz2
Source2-MD5: 9b8b1f6b496ae99212a081445f609e23
Source2ExtractDir: %N-cvs20030407

#PatchScript: sed 's|@PREFIX@|%p|g' <%a/%f.patch | patch -p0

SetCFLAGS: -fno-common
SetCPPFLAGS: -no-cpp-precomp -isystem %p/include -I%p/include
SetLIBS: -L%p/lib
NoSetLDFLAGS: true
SetMACOSX_DEPLOYMENT_TARGET: 10.2
ConfigureParams: --includedir=%p/include --libdir=%p/lib --prefix=%p --with-qt-dir=%p --with-qt-includes=%p/include/qt --with-extra-libs=%p/lib --with-extra-includes=%p/include --enable-mt --with-pic --enable-rpath --enable-shared=yes --enable-static=no --mandir=%i/share/man --with-xinerama --with-pam --disable-final
CompileScript: <<
#!/bin/sh
export KDEDIR=%p
  mkdir -p /tmp/kde-build

  date > /tmp/kde-build/%N-%v-%r.cvs
  make -f admin/Makefile.common cvs 2>&1 | tee -a /tmp/kde-build/%N-%v-%r.cvs
  [ $? -gt 0 ] && exit 1

  date > /tmp/kde-build/%N-%v-%r.configure
  sh ./configure %c 2>&1 | tee -a /tmp/kde-build/%N-%v-%r.configure
  [ $? -gt 0 ] && exit 1

  date > /tmp/kde-build/%N-%v-%r.make 
  make -j2 all 2>&1 | tee -a /tmp/kde-build/%N-%v-%r.make
<<

InstallScript: <<
#!/bin/sh
  mkdir -p /tmp/kde-build

  date > /tmp/kde-build/%N-%v-%r.install
  make install DESTDIR=%d 2>&1 | tee -a /tmp/kde-build/%N-%v-%r.install

  mkdir -p %i/share/doc/kde-installed-packages
  touch %i/share/doc/kde-installed-packages/%N
<<
DocFiles: README
DescDetail: <<
KStars is a Desktop Planetarium for KDE.  It provides an accurate
graphical simulation of the night sky, from any location on Earth, at
any date and time.  The display includes 40,000 stars, 13,000
deep-sky objects, all 8 planets, the Sun and Moon, and thousands of
comets and asteroids.
<<
