Package: maven
Version: 2.0.9
Revision: 1
Type: java(1.4)
Source: mirror:apache:%n/binaries/apache-%n-%v-bin.tar.gz
Source-MD5: 6d842f7cb9696676982096c72d063133
SourceDirectory: apache-%n-%v
PatchFile: %n.patch
PatchFile-MD5: 3da755f98c82474b1d7dce54a19b2551
PatchScript: <<
	sed -e 's,@FINKPREFIX@,%p,g' < %{PatchFile} | patch -p1
<<
BuildDepends: fink (>= 0.24.12)
Depends: system-java (>= 1.4-1)
CompileScript: echo "none needed"
InstallScript: <<
#!/bin/sh -ex

	install -d -m 755 %i/etc/maven
	echo "M2_HOME=%p/share/maven"                 > %i/etc/maven/mavenrc
	echo "CLASSWORLDS_CONF=%p/etc/maven/m2.conf" >> %i/etc/maven/mavenrc
	mv bin/m2.conf %i/etc/maven/

	install -d -m 755 %i/bin
	mv bin/m2 bin/mvn %i/bin/
	rm -rf bin
	chmod 755 %i/bin/*

	install -d -m 755 %i/share/maven
	mv boot conf lib %i/share/maven/

<<
DocFiles: *.txt
Homepage: http://maven.apache.org/
Maintainer: Benjamin Reed <maven@fink.racoonfink.com>
Description: Software project management tool
DescDetail: <<
Maven is a software project management and comprehension tool.
Based on the concept of a project object model (POM), Maven can
manage a project's build, reporting and documentation from a
central piece of information.
<<
License: BSD
