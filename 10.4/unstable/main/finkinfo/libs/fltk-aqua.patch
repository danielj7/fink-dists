diff -Naur fltk-1.1.7/Makefile fltk-1.1.7.patched/Makefile
--- fltk-1.1.7/Makefile	2006-01-15 13:36:16.000000000 -0500
+++ fltk-1.1.7.patched/Makefile	2007-09-28 19:16:41.000000000 -0400
@@ -27,7 +27,7 @@
 
 include makeinclude
 
-DIRS	=	$(IMAGEDIRS) src fluid test documentation
+DIRS	=	$(IMAGEDIRS) src fluid documentation
 
 all: makeinclude
 	for dir in $(DIRS); do\
diff -Naur fltk-1.1.7/makeinclude.in fltk-1.1.7.patched/makeinclude.in
--- fltk-1.1.7/makeinclude.in	2006-01-15 13:36:16.000000000 -0500
+++ fltk-1.1.7.patched/makeinclude.in	2007-09-28 19:25:13.000000000 -0400
@@ -81,7 +81,7 @@
 LINKFLTKFORMS	= @LINKFLTKFORMS@ @LINKFLTK@
 LINKFLTKIMG	= @LINKFLTKIMG@ @LINKFLTK@ $(IMAGELIBS)
 LINKSHARED	= @DSOLINK@ @LINKSHARED@ $(IMAGELIBS)
-IMAGELIBS	= -L../lib @IMAGELIBS@
+IMAGELIBS	= @IMAGELIBS@
 
 # image libraries to build...
 IMAGEDIRS	= @JPEG@ @ZLIB@ @PNG@
@@ -111,7 +111,7 @@
 UNINSTALL_DESKTOP = @UNINSTALL_DESKTOP@
 
 # Be quiet when building...
-.SILENT:
+#.SILENT:
 
 # Build commands and filename extensions...
 .SUFFIXES:	.0 .1 .3 .c .cxx .h .fl .man .o .z $(EXEEXT)
diff -Naur fltk-1.1.7/configure fltk-1.1.7.patched/configure
--- fltk-1.1.7/configure	2006-01-17 21:30:52.000000000 -0500
+++ fltk-1.1.7.patched/configure	2007-09-28 19:21:28.000000000 -0400
@@ -1423,7 +1423,7 @@
             FLDSONAME="libfltk_forms.$FL_API_VERSION.dylib"
             GLDSONAME="libfltk_gl.$FL_API_VERSION.dylib"
             IMGDSONAME="libfltk_images.$FL_API_VERSION.dylib"
-	    DSOCOMMAND="\$(CC) $DSOFLAGS -dynamiclib -lc -o"
+	    DSOCOMMAND="\$(CXX) $DSOFLAGS -single_module -dynamiclib -lc -o"
 	    ;;
 
 	SunOS* | UNIX_S*)
@@ -1510,7 +1510,7 @@
 	    ;;
     esac
 
-    LINKSHARED="-L../src -lfltk_images$SHAREDSUFFIX -lfltk_forms$SHAREDSUFFIX -lfltk$SHAREDSUFFIX"
+    LINKSHARED="../src/$IMGDSONAME ../src/$FLDSONAME ../src/$DSONAME"
 else
     DSOCOMMAND="echo"
     DSOLINK=""
diff -Naur fltk-1.1.7/src/Makefile fltk-1.1.7.patched/src/Makefile
--- fltk-1.1.7/src/Makefile	2005-08-07 20:54:30.000000000 -0400
+++ fltk-1.1.7.patched/src/Makefile	2007-09-28 19:55:08.000000000 -0400
@@ -254,7 +254,7 @@
 		-install_name $(libdir)/$@ \
 		-current_version 1.1.4 \
 		-compatibility_version 1.1.0 \
-		$(FLOBJECTS) -L. $(LDLIBS) -lfltk
+		$(FLOBJECTS) -L. $(LDLIBS) libfltk.1.1.dylib
 	$(RM) libfltk_forms.dylib
 	$(LN) libfltk_forms.1.1.dylib libfltk_forms.dylib
 
@@ -290,7 +290,7 @@
 		-install_name $(libdir)/$@ \
 		-current_version 1.1.4 \
 		-compatibility_version 1.1.0 \
-		$(GLOBJECTS) -L. $(GLDLIBS) -lfltk
+		$(GLOBJECTS) -L. $(GLDLIBS) libfltk.1.1.dylib
 	$(RM) libfltk_gl.dylib
 	$(LN) libfltk_gl.1.1.dylib libfltk_gl.dylib
 
@@ -326,7 +326,7 @@
 		-install_name $(libdir)/$@ \
 		-current_version 1.1.4 \
 		-compatibility_version 1.1.0 \
-		$(IMGOBJECTS)  -L.$(LDLIBS) $(IMAGELIBS) -lfltk
+		$(IMGOBJECTS)  $(LDLIBS) $(IMAGELIBS) libfltk.1.1.dylib
 	$(RM) libfltk_images.dylib
 	$(LN) libfltk_images.1.1.dylib libfltk_images.dylib
 
