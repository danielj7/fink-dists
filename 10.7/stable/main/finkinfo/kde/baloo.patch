diff -ruNp baloo-4.13.1-orig/src/pim/agent/CMakeLists.txt baloo-4.13.1/src/pim/agent/CMakeLists.txt
--- baloo-4.13.1-orig/src/pim/agent/CMakeLists.txt	2014-05-08 11:47:41.000000000 -0500
+++ baloo-4.13.1/src/pim/agent/CMakeLists.txt	2014-06-06 08:54:34.000000000 -0500
@@ -1,5 +1,6 @@
 include_directories(
     ${XAPIAN_INCLUDE_DIR}
+    ${BOOST_INCLUDEDIR}
     ${KDEPIMLIBS_INCLUDE_DIRS}
     ${CMAKE_CURRENT_BINARY_DIR}
 )
diff -ruNp baloo-4.13.1-orig/src/pim/akonadiplugin/autotests/CMakeLists.txt baloo-4.13.1/src/pim/akonadiplugin/autotests/CMakeLists.txt
--- baloo-4.13.1-orig/src/pim/akonadiplugin/autotests/CMakeLists.txt	2014-05-08 11:47:41.000000000 -0500
+++ baloo-4.13.1/src/pim/akonadiplugin/autotests/CMakeLists.txt	2014-06-06 08:59:21.000000000 -0500
@@ -1,5 +1,6 @@
 include_directories(
   ${CMAKE_CURRENT_SOURCE_DIR}/..
+  ${BOOST_INCLUDEDIR}
 )
 
 set(searchplugintest_SRCS
diff -ruNp baloo-4.13.1-orig/src/pim/lib/CMakeLists.txt baloo-4.13.1/src/pim/lib/CMakeLists.txt
--- baloo-4.13.1-orig/src/pim/lib/CMakeLists.txt	2014-05-08 11:47:41.000000000 -0500
+++ baloo-4.13.1/src/pim/lib/CMakeLists.txt	2014-06-06 08:54:45.000000000 -0500
@@ -1,6 +1,7 @@
 include_directories(
     ${KDEPIMLIBS_INCLUDE_DIRS}
     ${XAPIAN_INCLUDE_DIR}
+    ${BOOST_INCLUDEDIR}
 )
 
 set(BALOO_PIM_LIB_SRCS
diff -ruNp baloo-4.13.1-orig/src/xapian/xapiandatabase.cpp baloo-4.13.1/src/xapian/xapiandatabase.cpp
--- baloo-4.13.1-orig/src/xapian/xapiandatabase.cpp	2014-05-08 11:47:41.000000000 -0500
+++ baloo-4.13.1/src/xapian/xapiandatabase.cpp	2014-06-06 08:52:10.000000000 -0500
@@ -24,7 +24,9 @@
 #include <QTimer>
 #include <QDir>
 
+#ifdef __GNU_LINUX__
 #include <malloc.h>
+#endif
 #include <unistd.h>
 
 using namespace Baloo;
@@ -138,7 +140,7 @@ void XapianDatabase::commit()
     m_docsToAdd.clear();
     m_docsToRemove.clear();
 
-#ifdef __GNUC__
+#ifdef __GNU_LINUX__
     malloc_trim(0);
 #endif
 }
