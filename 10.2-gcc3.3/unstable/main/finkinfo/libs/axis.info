Package: axis
Version: 1.2
Revision: 0.beta1.1
Source: http://archive.apache.org/dist/ws/%n/1_2beta/%n-src-1_2beta.tar.gz
Source-MD5: edf81cd569cab7bfcc95761f3bc23740
SourceDirectory: %n-1_2beta
Patch: %n.patch
BuildDepends: commons-discovery (>= 0.2-2), commons-httpclient (>= 2.0-1), commons-logging (>= 1.0.4-1), commons-net (>= 1.1-1), jakarta-oro, system-java13-dev
Depends: commons-discovery (>= 0.2-2), commons-httpclient (>= 2.0-1), commons-logging (>= 1.0.4-1), commons-net (>= 1.1-1), system-java13 | system-java14 | system-java15
CompileScript: <<
#!/bin/sh -ex

  JAVAVER=`find /System/Library/Frameworks/JavaVM.framework/Versions -name include 2>/dev/null | perl -p -e 's,.*Versions/(.*?)/.*,$1,g' | grep -E '^1.3' | tail -1`
  export JAVA_HOME=/System/Library/Frameworks/JavaVM.framework/Versions/$JAVAVER/Home
  export PATH="$JAVA_HOME/bin:$PATH"
  find . -name commons-discovery.jar -exec rm -rf {} \;
  find . -name commons-logging.jar   -exec rm -rf {} \;
  find . -name log4j\*.jar           -exec rm -rf {} \;
  find . -name jakarta-oro\*.jar     -exec rm -rf {} \;
  ant dist
<<
InstallScript: <<
#!/bin/sh -ex

  install -d -m 755 %i/share/%n/xmls
  install -d -m 755 %i/share/doc/%n

  # xml files
  pushd axis-1_2beta
  install -c -m 644 xmls/* %i/share/%n/xmls/
 
  # documentation
  mv docs/* %i/share/doc/%n/
  mv samples %i/share/doc/%n/

  # webapp
  pushd webapps
  jar -cvf %i/share/doc/%n/%n.war %n
  popd

  popd

  find %i/share/doc/%n -type d -exec chmod 755 {} \;
  find %i/share/doc/%n -type f -exec chmod 644 {} \;
<<
JarFiles: axis-1_2beta/lib/*.jar
DocFiles: LICENSE README release*.html
Homepage: http://ws.apache.org/axis/
Maintainer: Benjamin Reed <ranger@befunk.com>
Description: Java SOAP implementation
DescDetail: <<
Apache Axis is an implementation of the SOAP ("Simple Object Access Protocol").
<<
License: BSD
