Package: g95
Version: 0.50
Revision: 20040927
Source: ftp://gcc.gnu.org/pub/gcc/snapshots/3.5-%v/gcc-3.5-20040815.tar.bz2
Source2: ftp://ftp.cdc.noaa.gov/Public/jsw/g95/g95-%v-%r.tgz
Source-MD5: 21c69301b64426864020241d95e61a07
Source2-MD5: 9000f873fe264ebd884e5888236939b9
NoSourceDirectory: True
Depends: gmp-shlibs (>= 4.1.3-11)
BuildDepends: gmp (>= 4.1.3-11)
NoSetCPPFLAGS: True
NoSetLDFLAGS: True
PatchScript: <<
 #!/bin/sh
 cd g95-%v
 tar -xvzf libf95.a-%v.tar.gz
 mv Makefile.in Makefile.in.orig
 sed 's|$(bindir)/g95@EXE_SUFFIX@ $(bindir)/$(host)-g95@EXE_SUFFIX@|$(DESTDIR)$(bindir)/g95@EXE_SUFFIX@ $(DESTDIR)$(bindir)/$(host)-g95@EXE_SUFFIX@|' < Makefile.in.orig > Makefile.in
<<
CompileScript: <<
 #!/bin/sh
 cd gcc-3.5-20040815
 ./configure --prefix=%p --with-gmp=%p --enable-languages=c --with-included-gettext
 make
 cd ../g95-%v
 ./configure --prefix=%p --with-gmp-dir=%p --with-gcc-dir=%b/gcc-3.5-20040815 
 make 
 cd libf95.a-%v
 ./configure %c
 make 
<<
InstallScript: <<
 #!/bin/sh
 cd g95-%v
 make install DESTDIR=%d
 cd libf95.a-%v
 make install DESTDIR=%d
 ranlib %i/lib/gcc-lib/*/*/libgcc.a
 darwinvers=`uname -r`
 ln -s %p/bin/powerpc-apple-darwin${darwinvers}-g95 %i/bin/g95
<<
License: GPL
DocFiles: g95-%v/COPYING
Description: Another GNU Fortran 95 compiler
DescDetail: <<
The goal of the g95 project is to create a free, open source 
Fortran 95 compiler and runtime libraries.

The 'gfortran' package is the official Fortran 95 compiler for the gcc
project, and will be included in gcc 4.0.  gfortran originated from
the g95 codebase.  At this time, g95 is a more fully-functional compiler 
than gfortran.
<<
DescPort: <<
 The gcc 20040815 snapshot is needed to build the backend.
 Newer versions of gcc 4.0 work, but require an updated
 assembler to compile on MacOS X.
<<
Homepage: http://g95.org
Maintainer: Jeffrey Whitaker <jswhit@fastmail.fm>
