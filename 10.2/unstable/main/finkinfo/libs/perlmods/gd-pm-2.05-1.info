Package: gd-pm
Version: 2.05
Revision: 1
Description: Perl interface to the GD graphics library
Type: perl
License: Artistic
Maintainer: Michael Baudis <mbaudis@stanford.edu>

# Dependencies:
Depends: gd2-shlibs (>=2.0.4)
BuildDepends: gd2 (>=2.0.4), dlcompat-dev

# Unpack Phase:
Source: mirror:cpan:authors/id/LDS/GD-%v.tar.gz
Source-MD5: c2b193b00da2ed35944dff7d4d58ec81

# Patch Phase:
PatchScript:  <<
  cp Makefile.PL Makefile.PL.original
  perl -pi -e 's/qw\(-I/qw\(-I\%p\/include -I/' Makefile.PL
  perl -pi -e 's/qw\(-L/qw\(-L\%p\/lib -L/' Makefile.PL
  perl -pi -e 's/(my \$PREFIX).+?\;/$1=\"\%p\/lib\"\;/' Makefile.PL
  perl -pi -e 's/warn.+Please.+//' Makefile.PL
  perl -pi -e 's/(JPEG +=).+eq /$1/' Makefile.PL
  perl -pi -e 's/(FT +=).+eq /$1/' Makefile.PL
  perl -pi -e 's/(XPM +=).+eq /$1/' Makefile.PL
  perl -pi -e 's/(XPM.+)y/$1n/' Makefile.PL
<<

# Install Phase:
UpdatePOD: true
DocFiles: ChangeLog MANIFEST README

# Additional Data:
DescPackaging: <<
Makefile.PL is patched via perl commands for linking with the gd libs in the Fink directory
because of the forced installation of libjpeg and freetype, interactive feature selection is overridden
<<
Homepage: http://search.cpan.org/dist/GD/
