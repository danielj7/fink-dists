diff -ur abcde-2.1.9.orig/Makefile abcde-2.1.9/Makefile
--- abcde-2.1.9.orig/Makefile	Thu Dec  4 09:03:26 2003
+++ abcde-2.1.9/Makefile	Thu Dec  4 10:11:54 2003
@@ -18,7 +18,8 @@
 	$(INSTALL) -m 755 -o 0 cddb-tool $(bindir)
 	$(INSTALL) -d -m 755 $(mandir)
 	$(INSTALL) -m 644 -o 0 abcde.1 $(mandir)
-	$(INSTALL) -m 644 -o 0 cddb-tool.1 $(mandir)
+	$(INSTALL) -m 644 -o 0 cddb-tool.1 $(mandir)
+	$(INSTALL) -d -m 755 $(etcdir)
 	$(INSTALL) -m 644 -o 0 abcde.conf $(etcdir)
 
 tarball:
Only in abcde-2.1.9: Makefile.orig
Only in abcde-2.1.9: Makefile.rej
diff -ur abcde-2.1.9.orig/abcde abcde-2.1.9/abcde
--- abcde-2.1.9.orig/abcde	Thu Dec  4 09:03:26 2003
+++ abcde-2.1.9/abcde	Thu Dec  4 11:02:47 2003
@@ -1141,6 +1141,17 @@
 		cdparanoia) nice $READNICE $CDROMREADER -d $CDROM $UTRACKNUM "$WAVDATA" >&2 ;;
 		cdda2wav) nice $READNICE $CDROMREADER -H -D $CDROM -t $UTRACKNUM "$WAVDATA" >&2 ;;
 		dagrab) nice $READNICE $CDROMREADER -d $CDROM -f $WAVDATA -v $UTRACKNUM >&2 ;;
+		cddafs)
+			# Find the track's mounted path
+			REALTRACKNUM=$(expr $UTRACKNUM - 1 + 1)
+			FILEPATH=$(mount | grep "$CDROM on" | sed 's/^[^ ]* on \([^(]*\) (.*/\1/')
+			FILEPATH=$(find "$FILEPATH" | grep "/$REALTRACKNUM ");
+			# If the file exists, copy it
+			if [ -e "$FILEPATH" ] ; then
+				nice $READNICE $CDROMREADER "$FILEPATH" "$WAVDATA" >&2
+			else
+				false
+			fi ;;
 		debug) nice $READNICE $CDROMREADER -d $CDROM -w $UTRACKNUM-[:1] "$WAVDATA" >&2 ;;
 	esac
 	RETURN=$?
@@ -1162,7 +1173,7 @@
 CDDBPROTO=5
 HELLOINFO="$(whoami)@$(hostname)"
 INTERACTIVE=y
-CDROMREADERSYNTAX=cdparanoia
+CDROMREADERSYNTAX=cddafs
 OUTPUTTYPE=ogg
 ENCODERSYNTAX=default
 
@@ -1171,10 +1182,8 @@
 FLACENCODERSYNTAX=default
 SPEEXENCODERSYNTAX=default
 
-OUTPUTFORMAT='${ARTISTFILE}-${ALBUMFILE}/${TRACKNUM}.${TRACKFILE}'
-# Use the following VAOUTPUTFORMAT to revert to 2.0.x VA format:
-#VAOUTPUTFORMAT=${OUTPUTFORMAT}
-VAOUTPUTFORMAT='Various-${ALBUMFILE}/${TRACKNUM}.${ARTISTFILE}-${TRACKFILE}'
+OUTPUTFORMAT='${ARTISTFILE}/${ALBUMFILE}/$TRACKNUM ${TRACKFILE}'
+VAOUTPUTFORMAT=${OUTPUTFORMAT}
 PLAYLISTFORMAT='${ARTISTFILE}-${ALBUMFILE}.${OUTPUT}.m3u'
 PLAYLISTDATAPREFIX=''
 VAPLAYLISTFORMAT='${ARTISTFILE}-${ALBUMFILE}.${OUTPUT}.m3u'
@@ -1211,6 +1220,7 @@
 CDPARANOIA=cdparanoia
 CDDA2WAV=cdda2wav
 DAGRAB=dagrab
+CDDAFS=cp
 CDDISCID=cd-discid
 CDDBTOOL=cddb-tool
 EJECT=eject
@@ -1240,6 +1250,7 @@
 CDPARANOIAOPTS=
 CDDA2WAVOPTS=
 DAGRABOPTS=
+CDDAFSOPTS="-f" 	
 CDDBTOOLOPTS=
 EJECTOPTS=
 DISTMP3OPTS=
@@ -1255,13 +1266,16 @@
 # Custom filename munging:
 mungefilename ()
 {
-	echo "$@" | sed s,:,\ -,g | tr \ / __ | tr -d \'\"\?\[:cntrl:\]
+	echo "$@" | sed s,:,\ -,g | tr / __ | tr -d \'\"\?\[:cntrl:\]
 }
 
-# Asume fetch if under FreeBSD. wget is used for Linux/OpenBSD/NetBSD.
+# Asume fetch if under FreeBSD. curl is used for Mac OS X. wget is used for Linux/OpenBSD/NetBSD.
 if [ X$(uname) = "XFreeBSD" ] ; then
 	HTTPGET=fetch
 	HTTPGETOPTS="-q -o -"
+elif [ X$(uname) = "XDarwin" ] ; then
+	HTTPGET=curl
+	HTTPGETOPTS="-f -s"
 else
 	HTTPGET=wget
 	HTTPGETOPTS="-q -O -"
@@ -1273,7 +1287,7 @@
 USEID3=y
 
 if [ -z "$OUTPUTDIR" ]; then
-	OUTPUTDIR=$(pwd)
+	OUTPUTDIR="$HOME/Music"
 fi
 
 if [ -z "$WAVOUTPUTDIR" ]; then
@@ -1281,8 +1295,8 @@
 fi
 
 # Load system defaults
-if [ -r /etc/abcde.conf ]; then
-	. /etc/abcde.conf
+if [ -r /sw/etc/abcde.conf ]; then
+	. /sw/etc/abcde.conf
 fi
 # Load user preference defaults
 if [ -r $HOME/.abcde.conf ]; then
@@ -1307,6 +1321,8 @@
 		CDROM=/dev/cd0c
 	elif [ -e /dev/acd0c ]; then
 		CDROM=/dev/acd0c
+	elif [ -e /dev/disk1 ]; then
+		CDROM=/dev/disk1
 	else
 		echo "abcde error: CDROM device cannot be found." >&2
 		exit 1
@@ -1366,6 +1382,10 @@
 		CDROMREADER="$DAGRAB"
 		CDROMREADEROPTS="$DAGRABOPTS"
 		;;
+        cddafs)
+                CDROMREADER="$CDDAFS"
+                CDROMREADEROPTS="$CDDAFSOPTS"
+                ;;
 esac
 
 # There's only one normalize...
diff -ur abcde-2.1.9.orig/abcde.conf abcde-2.1.9/abcde.conf
--- abcde-2.1.9.orig/abcde.conf	Thu Dec  4 09:03:26 2003
+++ abcde-2.1.9/abcde.conf	Thu Dec  4 09:57:40 2003
@@ -36,8 +36,8 @@
 #NORMALIZERSYNTAX=default
 
 # CD reader program to use - currently recognized options are 'cdparanoia',
-# 'cdda2wav' and 'dagrab'.
-#CDROMREADERSYNTAX=cdparanoia
+# 'cdda2wav', 'dagrab' and 'cddafs' (Mac OS X only).
+#CDROMREADERSYNTAX=cddafs
 
 # Keep the wav files after encoding. Set it to "y" and remove "clean" from
 # the list of default actions, since we purge the temp directory as default.
@@ -73,7 +73,8 @@
 #ID3V2=id3v2
 #CDPARANOIA=cdparanoia
 #CDDA2WAV=cdda2wav
-#HTTPGET=wget
+#CDDAFS=cp
+#HTTPGET=curl
 #CDDISCID=cd-discid
 #CDDBTOOL=cddb-tool
 #EJECT=eject
@@ -105,7 +106,8 @@
 #ID3V2OPTS=
 #CDPARANOIAOPTS=
 #CDDA2WAVOPTS=
-#HTTPGETOPTS=
+#CDDAFSOPTS="-f"
+#HTTPGETOPTS="-f -s"
 #CDDBTOOLOPTS=
 #EJECTOPTS=
 #DISTMP3OPTS=
@@ -131,15 +133,15 @@
 #NOCDDBQUERY=n
 
 # CD device you want to read from
-#CDROM=/dev/cdrom
+#CDROM=/dev/disk1
 
-# If you'd like to make a default location that overrides the current
-# directory for putting mp3's, uncomment this.
-#OUTPUTDIR=`pwd`
+# If you'd like to make a default location that overrides your Music
+# directory in your home directory for putting mp3's, uncomment this.
+#OUTPUTDIR="$HOME/Music"
 
 # Or if you'd just like to put the temporary .wav files somewhere else
 # you can specify that here
-#WAVOUTPUTDIR=`pwd`
+#OUTPUTDIR="$HOME/Music"
 
 # OUTPUTTYPE can be either "ogg", "mp3", "flac" or "spx", or a combination
 # of them separated with ",": "ogg,mp3".
@@ -155,10 +157,10 @@
 # Since multiple-output was integrated we always append the file type
 # to the files. Remove it from your user defined string if you are getting
 # files like ".ogg.ogg".
-#OUTPUTFORMAT='${ARTISTFILE}-${ALBUMFILE}/${TRACKNUM}.${TRACKFILE}'
+#OUTPUTFORMAT='${ARTISTFILE}/${ALBUMFILE}/$TRACKNUM ${TRACKFILE}'
 
 # Like OUTPUTFORMAT but for Various Artists discs.
-#VAOUTPUTFORMAT='${ARTISTFILE}/${TRACKFILE}'
+#VAOUTPUTFORMAT=${OUTPUTFORMAT}
 
 # Define how many encoders to run at once. This makes for huge speedups
 # on SMP systems. Defaults to 1. Equivalent to -j.
@@ -193,7 +195,7 @@
 # as $1 and outputs it on stdout.
 #mungefilename ()
 #{
-#	echo "$@" | sed s,:,\ -,g | tr \ / __ | tr -d \'\"\?\[:cntrl:\]
+#	echo "$@" | sed s,:,\ -,g | tr / __ | tr -d \'\"\?\[:cntrl:\]
 #}
 
 # If you'd like to have abcde eject the cdrom after all the tracks have been
diff -ur abcde-2.1.9.orig/cddb-tool abcde-2.1.9/cddb-tool
--- abcde-2.1.9.orig/cddb-tool	Thu Dec  4 09:03:26 2003
+++ abcde-2.1.9/cddb-tool	Thu Dec  4 10:39:17 2003
@@ -35,6 +35,9 @@
 	if [ X"$(uname)" = X"FreeBSD" ] ; then
 		HTTPGET=fetch
 		HTTPGETOPTS=${HTTPGETOPTS:="-q -o -"}
+	elif [ X"$(uname)" = X"Darwin" ] ; then
+		HTTPGET=curl
+		HTTPGETOPTS=${HTTPGETOPTS:="-f -s"}
 	else
 		HTTPGET=wget
 		HTTPGETOPTS=${HTTPGETOPTS:="-q -O -"}
