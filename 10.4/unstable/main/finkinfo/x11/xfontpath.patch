diff -Naur xfontpath-0.4.orig/README xfontpath-0.4/README
--- xfontpath-0.4.orig/README	2002-01-26 14:53:49.000000000 +0000
+++ xfontpath-0.4/README	2008-02-27 14:54:49.000000000 +0000
@@ -1,7 +1,13 @@
 I wrote tiny script named `xfontpath', X font path manager for fink.
 
 Font packages can register it's font path with this package and they are reflect
-ed to user's font path via etc/profile.d/xfontpath.*.
+ed to user's font path via FINK_PREFIX/etc/xinitrc.d/20xfontpath.sh.
+
+If you want to keep maintaining the font path manually, change your ~/.xinitrc
+like this:
+
+xinitrc_xfontpath_enable=NO
+. FINK_PREFIX/bin/xinitrc.sh
 
 Usage is not documented yet, but it is simple and easy like daemonic. To install
  or remove font path, do `xfontpath install/remove PATH...' and user can reflect
diff -Naur xfontpath-0.4.orig/fink/20xfontpath.sh xfontpath-0.4/fink/20xfontpath.sh
--- xfontpath-0.4.orig/fink/20xfontpath.sh	1970-01-01 00:00:00.000000000 +0000
+++ xfontpath-0.4/fink/20xfontpath.sh	2008-02-27 14:41:31.000000000 +0000
@@ -0,0 +1,11 @@
+# If you don't want to load Fink fonts automatically, put
+# xinitrc_xfontpath_enable=NO in your .xinitrc
+: ${xinitrc_xfontpath_enable=YES}
+
+case "x$xinitrc_xfontpath_enable" in
+    x[Yy][Ee][Ss])
+    if [ -x "$fink_prefix/bin/xfontpath" ]; then
+	"$fink_prefix/bin/xfontpath" enable >/dev/null 2>&1
+    fi
+    ;;
+esac
diff -Naur xfontpath-0.4.orig/fink/Makefile.in xfontpath-0.4/fink/Makefile.in
--- xfontpath-0.4.orig/fink/Makefile.in	2002-03-22 16:49:31.000000000 +0000
+++ xfontpath-0.4/fink/Makefile.in	2008-02-27 14:37:44.000000000 +0000
@@ -203,8 +203,8 @@
 $(scripts): Makefile
 
 install-data-local: $(scripts)
-	install -d -m 755 $(DESTDIR)$(sysconfdir)/profile.d
-	install -c -m 755 $(scripts) $(DESTDIR)$(sysconfdir)/profile.d/
+	install -d -m 755 $(DESTDIR)$(sysconfdir)/xinitrc.d
+	install -c -m 755 20xfontpath.sh $(DESTDIR)$(sysconfdir)/xinitrc.d/
 # Tell versions [3.59,3.63) of GNU make to not export all variables.
 # Otherwise a system limit (for SysV at least) may be exceeded.
 .NOEXPORT:
diff -Naur xfontpath-0.4.orig/xfontpath.in xfontpath-0.4/xfontpath.in
--- xfontpath-0.4.orig/xfontpath.in	2001-10-06 09:09:17.000000000 +0000
+++ xfontpath-0.4/xfontpath.in	2006-04-05 15:36:19.000000000 +0000
@@ -1,4 +1,5 @@
 #!/usr/bin/perl -w
+use POSIX qw(:errno_h);
 
 $CONFFILE = '@CONFFILE@';
 $FONTBASE = '@FONTBASE@';
@@ -136,7 +137,14 @@
 	my ($newconf) = $CONFFILE . '.new';
 
 	open (FP, ">$newconf") or &dief ("can't open `%s'\n", $newconf);
-	flock (FP, 2) or &dief ("can't lock `%s'\n", $newconf);
+	if (!flock (FP, 2)) {
+		if ($! == EOPNOTSUPP || $! == ENOLCK) {
+			print STDERR "WARNING: No locking is available on this filesystem.\n";
+			print STDERR "WARNING: Creating $newconf without locking...\n";
+		} else {
+			&dief ("can't lock `%s'\n", $newconf);
+		}
+	}
 
 	print FP "# This file was automaticaly generated by $0.\n";
 	print FP "# Don't edit!\n";
