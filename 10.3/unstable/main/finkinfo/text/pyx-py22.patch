--- PyX-0.4.1/manual/Makefile.orig	Thu Oct  9 22:20:18 2003
+++ PyX-0.4.1/manual/Makefile	Thu Oct  9 22:21:05 2003
@@ -17,14 +17,14 @@
 	ps2pdf manual.ps
 
 manual.ps: manual.dvi
-	dvips manual.dvi
+	dvips -o manual.ps manual.dvi
 
 manual.dvi: $(wildcard *.tex) $(patsubst %.py, %.eps, $(wildcard *.py)) pyxversion.tex
 	./runlatex.sh manual.tex
 	-rm manual.ps manual.pdf
 
 pyxversion.tex: ../pyx/version.py
-	python -c "import sys;sys.path[:0]=[\"..\"];import pyx.version;print pyx.version.version" > pyxversion.tex
+	python2.2 -c "import sys;sys.path[:0]=[\"..\"];import pyx.version;print pyx.version.version" > pyxversion.tex
 
 %.eps: %.py
-	export PYTHONPATH=$(PWD)/.. ; python $^
+	export PYTHONPATH=$(PWD)/.. ; python2.2 $^
--- PyX-0.4.1/setup.py.orig	Fri Jan  9 06:41:21 2004
+++ PyX-0.4.1/setup.py	Fri Jan  9 06:43:16 2004
@@ -19,7 +19,7 @@
                          sources=["pyx/pykpathsea/pykpathsea.c"],
                          libraries=["kpathsea"])]
 
-data_files = [('share/pyx', ['pyx/lfs/10pt.lfs',
+data_files = [('share/pyx-py22', ['pyx/lfs/10pt.lfs',
                              'pyx/lfs/11pt.lfs',
                              'pyx/lfs/12pt.lfs',
                              'pyx/lfs/10ptex.lfs',
--- PyX-0.4.1/pyx/text.py.orig	Fri Jan  9 06:47:15 2004
+++ PyX-0.4.1/pyx/text.py	Fri Jan  9 06:46:33 2004
@@ -1188,7 +1188,7 @@
 
     __implements__ = _Itexmessage
 
-    startpattern = re.compile(r"This is [0-9a-zA-Z\s_]*TeX")
+    startpattern = re.compile(r"This is [-0-9a-zA-Z\s_]*TeX")
 
     def check(self, texrunner):
         m = self.startpattern.search(texrunner.texmessageparsed)
@@ -1978,7 +1978,7 @@
                 else:
                     lfsname = "%s.lfs" % self.lfs
                 for fulllfsname in [lfsname,
-                                    os.path.join(sys.prefix, "share", "pyx", lfsname),
+                                    os.path.join(sys.prefix, "share", "pyx-py22", lfsname),
                                     os.path.join(os.path.dirname(__file__), "lfs", lfsname)]:
                     try:
                         lfsdef = open(fulllfsname, "r").read()
@@ -1987,7 +1987,7 @@
                         pass
                 else:
                     allfiles = (glob.glob("*.lfs") +
-                                glob.glob(os.path.join(sys.prefix, "share", "pyx", "*.lfs")) +
+                                glob.glob(os.path.join(sys.prefix, "share", "pyx-py22", "*.lfs")) +
                                 glob.glob(os.path.join(os.path.dirname(__file__), "lfs", "*.lfs")))
                     lfsnames = [os.path.basename(x)[:-4] for x in allfiles]
                     lfsnames.sort()
@@ -1998,7 +1998,7 @@
             elif self.mode == "latex":
                 if self.pyxgraphics:
                     for pyxdef in ["pyx.def",
-                                   os.path.join(sys.prefix, "share", "pyx", "pyx.def"),
+                                   os.path.join(sys.prefix, "share", "pyx-py22", "pyx.def"),
                                    os.path.join(os.path.dirname(__file__), "..", "contrib", "pyx.def")]:
                         if os.path.isfile(pyxdef):
                             break
--- PyX-0.4.1/pyx/tex.py.orig	Fri Jan  9 06:45:16 2004
+++ PyX-0.4.1/pyx/tex.py	Fri Jan  9 06:45:49 2004
@@ -948,7 +948,7 @@
         except IOError:
             try:
                 try:
-                    SysLfsName = os.path.join(sys.prefix, "share", "pyx", str(lfs) + ".lfs")
+                    SysLfsName = os.path.join(sys.prefix, "share", "pyx-py22", str(lfs) + ".lfs")
                     lfsdef = open(SysLfsName, "r").read()
                 except IOError:
                     SysLfsName = os.path.join(os.path.dirname(__file__), "lfs", str(lfs) + ".lfs")
@@ -957,7 +957,7 @@
                 files = map(lambda x: x[:-4],
                             filter(lambda x: x[-4:] == ".lfs",
                                    os.listdir(".") +
-                                   os.listdir(os.path.join(sys.prefix, "share", "pyx")),
+                                   os.listdir(os.path.join(sys.prefix, "share", "pyx-py22")),
                                    os.listdir(os.path.join(os.path.dirname(__file__), "lfs"))))
                 raise IOError("file '%s.lfs' not found. Available latex font sizes:\n%s" % (lfs, files))
         self.define(lfsdef)
