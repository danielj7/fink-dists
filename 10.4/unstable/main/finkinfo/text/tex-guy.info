Package: tex-guy
Version: 1.3.2
Revision: 3
Source: http://www-masu.ist.osaka-u.ac.jp/~kakugawa/download/TypeHack/TeX-Guy-%v.tar.gz
Source-MD5: bb7457994f0a6e37f78193383733c897
Source2: mirror:debian:pool/main/t/%n/%n_%v-6.diff.gz
Source2-MD5: 0115cab231e1685df827edf2262c63dc
BuildDepends: <<
	aalib,
	atk1 (>= 1.24.0-1),
	autoconf,
	automake1.10,
	cairo (>= 1.8-1),
	expat1,
	fink (>= 0.24.12),
	fontconfig2-dev (>= 2.4.1-1),
	freetype219 (>= 2.3.7-7),
	glib2-dev (>= 2.18.0-1),
	glitz,
	gtk+2-dev (>= 2.14.0-1),
	lesstif,
	libgettext3-dev,
	libiconv-dev,
	libkpathsea4,
	libpng3,
	libtool2,
	pango1-xft2-ft219-dev (>= 1.22.4-1),
	pixman (>= 0.12.0-1),
	pkgconfig (>= 0.23),
	t1lib5-nox,
	tetex-base,
	vflib3-dev (>= 3.6.14-5),
	x11-dev,
	xmkmf
<<
Depends: <<
	dvilib2 (>= %v-%r),
	aalib-shlibs,
	freetype219-shlibs (>= 2.3.7-7),
	lesstif-shlibs,
	libgettext3-shlibs,
	libiconv,
	libkpathsea4-shlibs,
	t1lib5-nox-shlibs,
	vflib3 (>= 3.6.14-5),
	x11
<<
# No trace of lesstif or aalib according to otool?
PatchFile: %n.patch
PatchFile-MD5: d9a533c4e1e3df066d9a4bf86e108826
PatchScript: <<
#!/bin/sh -ev
  sed -e 's,tex-guy-1.2.4,TeX-Guy-%v,g' -e 's,dvi2misc-0.1.1,dvi2misc-0.1.3,g' %{PatchFile} | patch -p1
  sed -i -e '/setpgrp/d' DVIlib2-2.9.1/spc_ps.c

	gzip -dc ../%n_*.diff.gz | patch -p1
	for file in \
		01_build_with_gtk2.dpatch \
		01_display_eps.dpatch \
		01_manpage_section.dpatch \
	; do
		echo "applying $file"
		patch -p1 < debian/patches/$file
	done

  # make sure we link against local just-built lib, not one that's in %p/lib
  find . -name Makefile.in | xargs perl -pi -e 's,-L\.\./DVIlib2 -ldvilib2,../DVIlib2/libdvilib2.la,g'

	rm aclocal.m4
	autoreconf -fi
<<
ConfigureParams: --enable-static --enable-shared --with-gettext --with-x
SetCPPFLAGS: -I%p/include/freetype2
CompileScript: <<
#!/bin/sh -ev
export PATH=$PATH:%p/lib/xmkmf/bin
export IMAKEINCLUDE=-I%p/lib/X11/config
./configure %c
make
<<
InstallScript: <<
 mkdir -p %i/man/man1 %i/man/man3
 %{default_script}
 mv %i/man %i/share
 chmod a-x %i/lib/*
<<
Description: Miscellaneous utilities using DVIlib
DescDetail: <<
This package contains several utilities useful for dealing with TeX DVI files.

dvi2misc generates PostScript, PGM or images for EPSON ESC/Page and Ricoh RPDL
printers from a TeX DVI.  It can be used as an DVI driver for those printers.

dvifontlist displays a list of fonts used in a DVI file, while dvispecials
displays a list of 'special' commands in a DVI file. dvipages shows the number
of pages in a DVI file.

xgdvi, spawx11 and spawg has been separated since they depend on X and/or 
GTK+ libraries. 

This is a part of the TeX-Guy distribution.
<<
License: GPL

Splitoff: <<
Package: dvilib2-dev
Depends: dvilib2 (= %v-%r)
Replaces: dvilib2 (<< 1.3.2-1)
BuildDependsOnly: true
DocFiles: debian/copyright DVIlib2/CHANGES DVIlib2/COPYING DVIlib2/COPYING-jp DVIlib2/COPYING.LIB
Files: bin/DVIlib2-config include lib/*.{l,}a lib/libdvilib2.dylib 
Description: A portable DVI interpreter library-dev files
DescDetail: <<
DVIlib2 is a library for handling DeVice Independent(DVI) files which 
are usually generated by TeX.  It can be used for the core engine of your 
DVIware, and thanks to VFlib3 your product will be able to handle 
various fonts.  EPS figures managed by graphicx.sty and Japanese TeX 
DVI files are also supported.

Note that DVIlib2 itself is NOT DVIware.  It's just a library.  If you 
are looking for a complete DVI previewer etc., why don't you try xgdvi or 
spawx11?
<<
License: LGPL
<<

Splitoff2: <<
Package: dvilib2
Depends: <<
	freetype219-shlibs (>= 2.3.7-7),
	libgettext3-shlibs,
	libiconv,
	libkpathsea4-shlibs,
	t1lib5-nox-shlibs,
	tetex-base,
	vflib3 (>= 3.6.14-5)
<<
DocFiles: debian/copyright DVIlib2/CHANGES DVIlib2/COPYING DVIlib2/COPYING-jp DVIlib2/COPYING.LIB 00_PRODUCTS 00_README
Files: lib share/DVIlib2
Shlibs: %p/lib/libdvilib2.16.dylib 17.0.0 %n (>= 1.3.2-1)

Description: A portable DVI interpreter library
DescDetail: <<
DVIlib2 is a library for handling DeVice Independent(DVI) files which
are usually generated by TeX.  It can be used for the core engine of your
DVIware, and thanks to VFlib3 your product will be able to handle
various fonts.  EPS figures managed by graphicx.sty and Japanese TeX
DVI files are also supported.

Note that DVIlib2 itself is NOT DVIware.  It's just a library.  If you
are looking for a complete DVI previewer etc., why don't you try xgdvi or
spawx11?
<<
License: LGPL
<<

Splitoff3: <<
Package: xgdvi
Depends: <<
	dvilib2 (>= %v-%r),
	atk1-shlibs (>= 1.24.0-1),
	cairo-shlibs (>= 1.8-1),
	expat1-shlibs,
	fontconfig2-shlibs (>= 2.4.1-1),
	freetype219-shlibs (>= 2.3.7-7),
	glib2-shlibs (>= 2.18.0-1),
	glitz-shlibs,
	gtk+2-shlibs (>= 2.14.0-1),
	libgettext3-shlibs,
	libiconv,
	libkpathsea4-shlibs,
	libpng3-shlibs,
	pango1-xft2-ft219-shlibs (>= 1.22.4-1),
	pixman-shlibs (>= 0.12.0-1),
	t1lib5-nox-shlibs,
	tetex-base,
	vflib3 (>= 3.6.14-5),
	x11
<<
Files: bin/xgdvi share/xgdvi share/locale
DocFiles: debian/copyright DVIlib2/COPYING DVIlib2/COPYING-jp 00_PRODUCTS 00_README

Description: a TeX DVI previewer for X, with a nice GTK+ UI
DescDetail: <<
xgdvi is a TeX DVI(DeVice Independent) file previewer for the X Window 
System. xgdvi features a cool GTK+ frontend, and since it uses DVIlib as 
its kernel, xgdvi can handle EPS figures and Japanese DVI files. 
Anti-aliasing is also supported.

This is a part of the TeX-Guy distribution.
<<
License: GPL
<<

Splitoff4: <<
Package: spawx11
Depends: <<
	dvilib2 (>= %v-%r),
	freetype219-shlibs (>= 2.3.7-7),
	libgettext3-shlibs,
	libiconv,
	libkpathsea4-shlibs,
	t1lib5-nox-shlibs,
	tetex-base,
	vflib3 (>= 3.6.14-5),
	x11
<<
Files: bin/spawx11 bin/spwx11 bin/spx11
DocFiles: debian/copyright DVIlib2/COPYING DVIlib2/COPYING-jp 00_PRODUCTS 00_README

Description: a simple TeX DVI previewer for X11
DescDetail: <<
spawx11 is a simple TeX DVI(DeVice Independent) file previewer for the X 
Window System.  It has no color support, but anti-aliasing is still 
supported.  No-anti-aliasing versions (spwx11 and spx11) are also 
included, too.

This is a part of the TeX-Guy distribution.
<<
License: GPL
<<

Splitoff5: <<
Package: spawg
Depends: <<
	dvilib2 (>= %v-%r),
	atk1-shlibs (>= 1.24.0-1),
	cairo-shlibs (>= 1.8-1),
	expat1-shlibs,
	fontconfig2-shlibs (>= 2.4.1-1),
	freetype219-shlibs (>= 2.3.7-7),
	glib2-shlibs (>= 2.18.0-1),
	glitz-shlibs,
	gtk+2-shlibs (>= 2.14.0-1),
	libgettext3-shlibs,
	libiconv,
	libkpathsea4-shlibs,
	libpng3-shlibs,
	pango1-xft2-ft219-shlibs (>= 1.22.4-1),
	pixman-shlibs (>= 0.12.0-1),
	t1lib5-nox-shlibs,
	tetex-base,
	vflib3 (>= 3.6.14-5),
	x11
<<
Files: bin/spawg bin/spwg
DocFiles: debian/copyright DVIlib2/COPYING DVIlib2/COPYING-jp 00_PRODUCTS 00_README

Description: a simple TeX DVI previewer with a simple GTK+ UI
DescDetail: <<
spawg is a simple TeX DVI(DeVice Independent) file previewer for the X 
Window System.  It has no color support, but anti-aliasing is still 
supported.  Unlike spawx11, it has a humble but comfortable GTK+ frontend.
No-anti-aliasing version (spwg) is also included, too.

This is a part of the TeX-Guy distribution.
<<
License: GPL
<<

Maintainer: Chris Zubrzycki <beren12@users.sourceforge.net>
Homepage: http://www-masu.ist.osaka-u.ac.jp/~kakugawa/TeX-Guy/
DescPackaging: <<
	Borrowed Debian's patch to switch to gtk+2.

	If aclocal.m4 exists, autoconf seems to use it in preference
	to external support .m4. Nuke it, keeping the locally-defined
	pieces (not copies of externals inserted by `aclocal`) in
	acinclude.m4. Upgrade to modern syntax standards. Thanks to
	libtool.m4 from libtool2 for solution to AC_DIVERISON_NOTICE.
<<
