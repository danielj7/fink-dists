diff -Nurd liboil-0.3.16/configure.ac liboil-0.3.16-new/configure.ac
--- liboil-0.3.16/configure.ac	2009-03-19 01:41:04.000000000 -0400
+++ liboil-0.3.16-new/configure.ac	2009-11-18 12:57:36.000000000 -0500
@@ -1,5 +1,6 @@
 AC_PREREQ([2.58])
 AC_INIT(liboil,0.3.16)
+AC_CONFIG_MACRO_DIR([m4])
 
 AS_NANO(LIBOIL_CVS=no,LIBOIL_CVS=yes)
 
@@ -24,6 +25,7 @@
 AC_LIBTOOL_TAGS([])
 AC_PROG_LIBTOOL
 AM_PROG_AS
+AM_PROG_CC_C_O
 
 AC_CONFIG_SRCDIR([liboil/liboil.h])
 
@@ -114,7 +116,7 @@
 AS_UNALIGNED_ACCESS
 
 AC_LTDL_SYMBOL_USCORE
-if test x${ac_cv_sys_symbol_underscore} = xyes ; then
+if test x${lt_cv_sys_symbol_underscore} = xyes ; then
   AC_DEFINE(HAVE_SYMBOL_UNDERSCORE, 1, [Define if C symbols have leading underscore])
 fi
 
@@ -173,8 +175,8 @@
   AS_COMPILER_FLAG(-Werror, LIBOIL_CFLAGS="$LIBOIL_CFLAGS -Werror")
 fi
 if test x$HAVE_GCC_ASM = xyes -a x$HAVE_POWERPC = xyes ; then
-  AS_COMPILER_FLAG(["-Wa,-maltivec"],
-    [LIBOIL_CFLAGS="$LIBOIL_CFLAGS -Wa,-maltivec"],
+  AS_COMPILER_FLAG(["-maltivec"],
+    [LIBOIL_CFLAGS="$LIBOIL_CFLAGS -maltivec"],
     true)
   AS_COMPILER_FLAG(["-Wa,-mregnames"],
     [LIBOIL_CFLAGS="$LIBOIL_CFLAGS -Wa,-mregnames"],
diff -Nurd liboil-0.3.16/liboil/liboiltypes.h liboil-0.3.16-new/liboil/liboiltypes.h
--- liboil-0.3.16/liboil/liboiltypes.h	2007-11-15 21:53:47.000000000 -0500
+++ liboil-0.3.16-new/liboil/liboiltypes.h	2009-11-18 13:00:33.000000000 -0500
@@ -39,7 +39,7 @@
  * FIXME: gtk-doc is broken and doesn't know how to ignore this.
  */
 #ifndef NULL
-#define NULL ((void *)0)
+#include <stddef.h>
 #endif
 
 /**
