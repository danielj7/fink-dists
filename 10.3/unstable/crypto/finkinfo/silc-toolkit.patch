diff -Naur silc-toolkit-0.9.11/Makefile.in silc-toolkit-0.9.11-patched/Makefile.in
--- silc-toolkit-0.9.11/Makefile.in	Thu Nov 13 16:25:40 2003
+++ silc-toolkit-0.9.11-patched/Makefile.in	Sat Nov 29 11:08:27 2003
@@ -701,7 +701,6 @@
 	-rm -rf $(distdir)
 
 install-dirs:
-	-mkdir -p $(etcdir)
 	-mkdir -p $(modulesdir)
 	-mkdir -p $(docdir)
 
@@ -764,7 +763,7 @@
 	-mkdir -p $(docdir)/toolkit/
 	-$(INSTALL_DATA) $(srcdir)/doc/toolkit/* $(docdir)/toolkit
 	-$(INSTALL_DATA) $(srcdir)/lib/doc/*.gif $(docdir)/toolkit
-	-cp -R $(srcdir)/tutorial $(prefix)
+	-cp -R $(srcdir)/tutorial $(DESTDIR)$(datadir)/
 
 examples-install:
 	-mkdir -p $(docdir)/examples/
@@ -777,7 +776,7 @@
 	fi
 
 @SILC_DIST_CLIENT_TRUE@install-data-hook: install-dirs-client sim-install doc-install-client etc-install-client
-@SILC_DIST_CLIENT_FALSE@@SILC_DIST_TOOLKIT_TRUE@install-data-hook: install-dirs-client install-dirs-server sim-install doc-install-client doc-install-server toolkit-install examples-install etc-install-client etc-install-server
+@SILC_DIST_CLIENT_FALSE@@SILC_DIST_TOOLKIT_TRUE@install-data-hook: install-dirs sim-install toolkit-install examples-install
 @SILC_DIST_CLIENT_FALSE@@SILC_DIST_TOOLKIT_FALSE@install-data-hook: install-dirs-server sim-install doc-install-server examples-install etc-install-server generate-server-key
 # Tell versions [3.59,3.63) of GNU make to not export all variables.
 # Otherwise a system limit (for SysV at least) may be exceeded.
diff -Naur silc-toolkit-0.9.11/Makefile.in.orig silc-toolkit-0.9.11-patched/Makefile.in.orig
--- silc-toolkit-0.9.11/Makefile.in.orig	Thu Jan  1 01:00:00 1970
+++ silc-toolkit-0.9.11-patched/Makefile.in.orig	Sat Nov 29 11:08:27 2003
@@ -0,0 +1,783 @@
+# Makefile.in generated by automake 1.7 from Makefile.am.
+# @configure_input@
+
+# Copyright 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002
+# Free Software Foundation, Inc.
+# This Makefile.in is free software; the Free Software Foundation
+# gives unlimited permission to copy and/or distribute it,
+# with or without modifications, as long as this notice is preserved.
+
+# This program is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY, to the extent permitted by law; without
+# even the implied warranty of MERCHANTABILITY or FITNESS FOR A
+# PARTICULAR PURPOSE.
+
+@SET_MAKE@
+
+#
+#  Makefile.am
+#
+#  Author: Pekka Riikonen <priikone@silcnet.org>
+#
+#  Copyright (C) 2000 - 2003 Pekka Riikonen
+#
+#  This program is free software; you can redistribute it and/or modify
+#  it under the terms of the GNU General Public License as published by
+#  the Free Software Foundation; version 2 of the License.
+#
+#  This program is distributed in the hope that it will be useful,
+#  but WITHOUT ANY WARRANTY; without even the implied warranty of
+#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+#  GNU General Public License for more details.
+#
+
+#
+#  Makefile.defines.pre
+#
+#  Author: Pekka Riikonen <priikone@poseidon.pspt.fi>
+#
+#  Copyright (C) 2001 Pekka Riikonen
+#
+#  This program is free software; you can redistribute it and/or modify
+#  it under the terms of the GNU General Public License as published by
+#  the Free Software Foundation; either version 2 of the License, or
+#  (at your option) any later version.
+#
+#  This program is distributed in the hope that it will be useful,
+#  but WITHOUT ANY WARRANTY; without even the implied warranty of
+#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+#  GNU General Public License for more details.
+#
+
+#
+# This file is intended to include all common compilation defines for the
+# SILC source tree.  All Makefile.ams in the SILC source tree are expected
+# to include this file (Makefile.defines.in).  Also this file may be included
+# in any external project that is included in the SILC source tree.
+#
+# Add following to your Makefile.am:
+#
+# include $(top_srcdir)/Makefile.defines.in
+#
+# All packages in the SILC source tree that include the Makefile.defines.in
+# must also include the following two lines in their configure.in file.
+#
+# INCLUDE_DEFINES_INT="include \$(top_srcdir)/Makefile.defines_int"   
+# AC_SUBST(INCLUDE_DEFINES_INT)
+#
+# (See the Makefile.defines_int.pre for all different definitions but DO NOT
+#  directly include that file!)
+#
+
+srcdir = @srcdir@
+top_srcdir = @top_srcdir@
+VPATH = @srcdir@
+pkgdatadir = $(datadir)/@PACKAGE@
+pkglibdir = $(libdir)/@PACKAGE@
+pkgincludedir = $(includedir)/@PACKAGE@
+top_builddir = .
+
+am__cd = CDPATH="$${ZSH_VERSION+.}$(PATH_SEPARATOR)" && cd
+INSTALL = @INSTALL@
+install_sh_DATA = $(install_sh) -c -m 644
+install_sh_PROGRAM = $(install_sh) -c
+install_sh_SCRIPT = $(install_sh) -c
+INSTALL_HEADER = $(INSTALL_DATA)
+transform = $(program_transform_name)
+NORMAL_INSTALL = :
+PRE_INSTALL = :
+POST_INSTALL = :
+NORMAL_UNINSTALL = :
+PRE_UNINSTALL = :
+POST_UNINSTALL = :
+build_triplet = @build@
+host_triplet = @host@
+target_triplet = @target@
+ACLOCAL = @ACLOCAL@
+AMDEP_FALSE = @AMDEP_FALSE@
+AMDEP_TRUE = @AMDEP_TRUE@
+AMTAR = @AMTAR@
+AUTOCONF = @AUTOCONF@
+AUTOHEADER = @AUTOHEADER@
+AUTOMAKE = @AUTOMAKE@
+AWK = @AWK@
+CC = @CC@
+CCDEPMODE = @CCDEPMODE@
+CFLAGS = @CFLAGS@
+CPP = @CPP@
+CPPFLAGS = @CPPFLAGS@
+CYGPATH_W = @CYGPATH_W@
+DEFS = @DEFS@
+DEPDIR = @DEPDIR@
+DOCDIR = @DOCDIR@
+ECHO = @ECHO@
+ECHO_C = @ECHO_C@
+ECHO_N = @ECHO_N@
+ECHO_T = @ECHO_T@
+EGREP = @EGREP@
+ETCDIR = @ETCDIR@
+EXEEXT = @EXEEXT@
+FIX_SHA1 = @FIX_SHA1@
+HAVE_GETOPT_LONG_FALSE = @HAVE_GETOPT_LONG_FALSE@
+HAVE_GETOPT_LONG_TRUE = @HAVE_GETOPT_LONG_TRUE@
+HAVE_REGEX_FALSE = @HAVE_REGEX_FALSE@
+HAVE_REGEX_TRUE = @HAVE_REGEX_TRUE@
+HELPDIR = @HELPDIR@
+INCLUDE_DEFINES_INT = @INCLUDE_DEFINES_INT@
+INSTALL_DATA = @INSTALL_DATA@
+INSTALL_PROGRAM = @INSTALL_PROGRAM@
+INSTALL_SCRIPT = @INSTALL_SCRIPT@
+INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
+LDFLAGS = @LDFLAGS@
+LIBS = @LIBS@
+LIBSILCCLIENT_AGE = @LIBSILCCLIENT_AGE@
+LIBSILCCLIENT_CURRENT = @LIBSILCCLIENT_CURRENT@
+LIBSILCCLIENT_REVISION = @LIBSILCCLIENT_REVISION@
+LIBSILC_AGE = @LIBSILC_AGE@
+LIBSILC_CURRENT = @LIBSILC_CURRENT@
+LIBSILC_REVISION = @LIBSILC_REVISION@
+LIBTOOL = @LIBTOOL@
+LIB_BASE_VERSION = @LIB_BASE_VERSION@
+LN_S = @LN_S@
+LOGSDIR = @LOGSDIR@
+LTLIBOBJS = @LTLIBOBJS@
+MAKEINFO = @MAKEINFO@
+MODULESDIR = @MODULESDIR@
+OBJEXT = @OBJEXT@
+PACKAGE = @PACKAGE@
+PACKAGE_BUGREPORT = @PACKAGE_BUGREPORT@
+PACKAGE_NAME = @PACKAGE_NAME@
+PACKAGE_STRING = @PACKAGE_STRING@
+PACKAGE_TARNAME = @PACKAGE_TARNAME@
+PACKAGE_VERSION = @PACKAGE_VERSION@
+PATH_SEPARATOR = @PATH_SEPARATOR@
+PIDFILE = @PIDFILE@
+RANLIB = @RANLIB@
+SET_MAKE = @SET_MAKE@
+SHELL = @SHELL@
+SILC_BEOS_FALSE = @SILC_BEOS_FALSE@
+SILC_BEOS_TRUE = @SILC_BEOS_TRUE@
+SILC_DIST_CLIENT_FALSE = @SILC_DIST_CLIENT_FALSE@
+SILC_DIST_CLIENT_TRUE = @SILC_DIST_CLIENT_TRUE@
+SILC_DIST_SERVER_FALSE = @SILC_DIST_SERVER_FALSE@
+SILC_DIST_SERVER_TRUE = @SILC_DIST_SERVER_TRUE@
+SILC_DIST_SUBDIRS = @SILC_DIST_SUBDIRS@
+SILC_DIST_TOOLKIT_FALSE = @SILC_DIST_TOOLKIT_FALSE@
+SILC_DIST_TOOLKIT_TRUE = @SILC_DIST_TOOLKIT_TRUE@
+SILC_DIST_WIN32DLL_FALSE = @SILC_DIST_WIN32DLL_FALSE@
+SILC_DIST_WIN32DLL_TRUE = @SILC_DIST_WIN32DLL_TRUE@
+SILC_EPOC_FALSE = @SILC_EPOC_FALSE@
+SILC_EPOC_TRUE = @SILC_EPOC_TRUE@
+SILC_LIBTOOLFIX_FALSE = @SILC_LIBTOOLFIX_FALSE@
+SILC_LIBTOOLFIX_TRUE = @SILC_LIBTOOLFIX_TRUE@
+SILC_MP_GMP_FALSE = @SILC_MP_GMP_FALSE@
+SILC_MP_GMP_TRUE = @SILC_MP_GMP_TRUE@
+SILC_MP_NSS_MPI_FALSE = @SILC_MP_NSS_MPI_FALSE@
+SILC_MP_NSS_MPI_TRUE = @SILC_MP_NSS_MPI_TRUE@
+SILC_OS2_FALSE = @SILC_OS2_FALSE@
+SILC_OS2_TRUE = @SILC_OS2_TRUE@
+SILC_SIM_FALSE = @SILC_SIM_FALSE@
+SILC_SIM_TRUE = @SILC_SIM_TRUE@
+SILC_SIZEOF_CHAR = @SILC_SIZEOF_CHAR@
+SILC_SIZEOF_INT = @SILC_SIZEOF_INT@
+SILC_SIZEOF_LONG = @SILC_SIZEOF_LONG@
+SILC_SIZEOF_LONG_LONG = @SILC_SIZEOF_LONG_LONG@
+SILC_SIZEOF_SHORT = @SILC_SIZEOF_SHORT@
+SILC_SIZEOF_VOID_P = @SILC_SIZEOF_VOID_P@
+SILC_THREADS_FALSE = @SILC_THREADS_FALSE@
+SILC_THREADS_TRUE = @SILC_THREADS_TRUE@
+SILC_TOP_SRCDIR = @SILC_TOP_SRCDIR@
+SILC_WIN32_FALSE = @SILC_WIN32_FALSE@
+SILC_WIN32_TRUE = @SILC_WIN32_TRUE@
+STRIP = @STRIP@
+VERSION = @VERSION@
+ac_ct_CC = @ac_ct_CC@
+ac_ct_RANLIB = @ac_ct_RANLIB@
+ac_ct_STRIP = @ac_ct_STRIP@
+am__fastdepCC_FALSE = @am__fastdepCC_FALSE@
+am__fastdepCC_TRUE = @am__fastdepCC_TRUE@
+am__include = @am__include@
+am__quote = @am__quote@
+bindir = @bindir@
+build = @build@
+build_alias = @build_alias@
+build_cpu = @build_cpu@
+build_os = @build_os@
+build_vendor = @build_vendor@
+datadir = @datadir@
+exec_prefix = @exec_prefix@
+host = @host@
+host_alias = @host_alias@
+host_cpu = @host_cpu@
+host_os = @host_os@
+host_vendor = @host_vendor@
+includedir = @includedir@
+infodir = @infodir@
+install_sh = @install_sh@
+libdir = @libdir@
+libexecdir = @libexecdir@
+localstatedir = @localstatedir@
+mandir = $(DESTDIR)@mandir@
+oldincludedir = @oldincludedir@
+prefix = @prefix@
+program_transform_name = @program_transform_name@
+sbindir = @sbindir@
+sedpath = @sedpath@
+sharedstatedir = @sharedstatedir@
+subdirs = @subdirs@
+sysconfdir = @sysconfdir@
+target = @target@
+target_alias = @target_alias@
+target_cpu = @target_cpu@
+target_os = @target_os@
+target_vendor = @target_vendor@
+
+AUTOMAKE_OPTIONS = 1.0 no-dependencies foreign
+
+COMMONDIRS = lib irssi silc silcd doc includes
+
+# Sub directories defined by "distributions" file, and can be overridden
+# with ./configure, which substitutes these variables.
+SUBDIRS = @SILC_DIST_SUBDIRS@
+DIST_SUBDIRS = @SILC_DIST_SUBDIRS@
+
+#
+# INCLUDE defines
+#
+INCLUDES = $(ADD_INCLUDES) $(SILC_CFLAGS) -DHAVE_SILCDEFS_H \
+	-I$(srcdir) -I$(top_srcdir) \
+	-I$(silc_top_srcdir) \
+	-I$(silc_top_srcdir)/lib/silccore \
+	-I$(silc_top_srcdir)/lib/silccrypt \
+        -I$(silc_top_srcdir)/lib/silcmath \
+        -I$(silc_top_srcdir)/lib/silcmath/mpi \
+	-I$(silc_top_srcdir)/lib/silcske \
+	-I$(silc_top_srcdir)/lib/silcsim \
+	-I$(silc_top_srcdir)/lib/silcutil \
+	-I$(silc_top_srcdir)/lib/silcsftp \
+	-I$(silc_top_srcdir)/lib/silcclient \
+	-I$(silc_top_srcdir)/lib/contrib \
+        -I$(silc_top_srcdir)/includes \
+        -I$(silc_top_srcdir)/doc
+
+
+SILC_EXTRA_DIST = README.CVS README.WIN32 README.MACOSX silcer tutorial
+EXTRA_DIST = libtoolfix CHANGES CREDITS $(SILC_EXTRA_DIST)
+
+
+#
+# Installing of SILC into the system
+#
+etcdir = $(DESTDIR)$(silc_etcdir)
+modulesdir = $(DESTDIR)$(silc_modulesdir)
+helpdir = $(DESTDIR)$(silc_helpdir)
+docdir = $(DESTDIR)$(silc_docdir)
+logsdir = $(DESTDIR)$(silc_logsdir)
+subdir = .
+ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
+mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs
+CONFIG_HEADER = $(top_builddir)/includes/silcdefs.h
+CONFIG_CLEAN_FILES = Makefile.defines Makefile.defines_int \
+	lib/silcmath/mpi/Makefile.defines \
+	lib/silcmath/mpi/Makefile.defines_int irssi/Makefile.defines \
+	irssi/Makefile.defines_int tutorial/Makefile \
+	tutorial/Makefile.defines tutorial/Makefile.defines_int
+depcomp =
+am__depfiles_maybe =
+DIST_SOURCES =
+
+RECURSIVE_TARGETS = info-recursive dvi-recursive pdf-recursive \
+	ps-recursive install-info-recursive uninstall-info-recursive \
+	all-recursive install-data-recursive install-exec-recursive \
+	installdirs-recursive install-recursive uninstall-recursive \
+	check-recursive installcheck-recursive
+DIST_COMMON = README $(top_srcdir)/Makefile.defines.in COPYING INSTALL \
+	Makefile.am Makefile.defines.in Makefile.defines_int.in \
+	Makefile.in TODO acconfig.h aclocal.m4 config.guess config.sub \
+	configure configure.in depcomp install-sh ltmain.sh missing \
+	mkinstalldirs
+all: all-recursive
+
+.SUFFIXES:
+
+am__CONFIG_DISTCLEAN_FILES = config.status config.cache config.log \
+ configure.lineno
+$(srcdir)/Makefile.in:  Makefile.am $(top_srcdir)/Makefile.defines.in $(top_srcdir)/configure.in $(ACLOCAL_M4)
+	cd $(top_srcdir) && \
+	  $(AUTOMAKE) --foreign  Makefile
+Makefile:  $(srcdir)/Makefile.in  $(top_builddir)/config.status
+	cd $(top_builddir) && $(SHELL) ./config.status $@ $(am__depfiles_maybe)
+
+$(top_builddir)/config.status: $(srcdir)/configure $(CONFIG_STATUS_DEPENDENCIES)
+	$(SHELL) ./config.status --recheck
+$(srcdir)/configure:  $(srcdir)/configure.in $(ACLOCAL_M4) $(CONFIGURE_DEPENDENCIES)
+	cd $(srcdir) && $(AUTOCONF)
+
+$(ACLOCAL_M4):  configure.in 
+	cd $(srcdir) && $(ACLOCAL) $(ACLOCAL_AMFLAGS)
+Makefile.defines: $(top_builddir)/config.status Makefile.defines.in
+	cd $(top_builddir) && $(SHELL) ./config.status $@
+Makefile.defines_int: $(top_builddir)/config.status Makefile.defines_int.in
+	cd $(top_builddir) && $(SHELL) ./config.status $@
+lib/silcmath/mpi/Makefile.defines: $(top_builddir)/config.status $(top_srcdir)/lib/silcmath/mpi/Makefile.defines.in
+	cd $(top_builddir) && $(SHELL) ./config.status $@
+lib/silcmath/mpi/Makefile.defines_int: $(top_builddir)/config.status $(top_srcdir)/lib/silcmath/mpi/Makefile.defines_int.in
+	cd $(top_builddir) && $(SHELL) ./config.status $@
+irssi/Makefile.defines: $(top_builddir)/config.status $(top_srcdir)/irssi/Makefile.defines.in
+	cd $(top_builddir) && $(SHELL) ./config.status $@
+irssi/Makefile.defines_int: $(top_builddir)/config.status $(top_srcdir)/irssi/Makefile.defines_int.in
+	cd $(top_builddir) && $(SHELL) ./config.status $@
+tutorial/Makefile: $(top_builddir)/config.status $(top_srcdir)/tutorial/Makefile.in
+	cd $(top_builddir) && $(SHELL) ./config.status $@
+tutorial/Makefile.defines: $(top_builddir)/config.status $(top_srcdir)/tutorial/Makefile.defines.in
+	cd $(top_builddir) && $(SHELL) ./config.status $@
+tutorial/Makefile.defines_int: $(top_builddir)/config.status $(top_srcdir)/tutorial/Makefile.defines_int.in
+	cd $(top_builddir) && $(SHELL) ./config.status $@
+
+mostlyclean-libtool:
+	-rm -f *.lo
+
+clean-libtool:
+	-rm -rf .libs _libs
+
+distclean-libtool:
+	-rm -f libtool
+uninstall-info-am:
+
+# This directory's subdirectories are mostly independent; you can cd
+# into them and run `make' without going through this Makefile.
+# To change the values of `make' variables: instead of editing Makefiles,
+# (1) if the variable is set in `config.status', edit `config.status'
+#     (which will cause the Makefiles to be regenerated when you run `make');
+# (2) otherwise, pass the desired values on the `make' command line.
+$(RECURSIVE_TARGETS):
+	@set fnord $$MAKEFLAGS; amf=$$2; \
+	dot_seen=no; \
+	target=`echo $@ | sed s/-recursive//`; \
+	list='$(SUBDIRS)'; for subdir in $$list; do \
+	  echo "Making $$target in $$subdir"; \
+	  if test "$$subdir" = "."; then \
+	    dot_seen=yes; \
+	    local_target="$$target-am"; \
+	  else \
+	    local_target="$$target"; \
+	  fi; \
+	  (cd $$subdir && $(MAKE) $(AM_MAKEFLAGS) $$local_target) \
+	   || case "$$amf" in *=*) exit 1;; *k*) fail=yes;; *) exit 1;; esac; \
+	done; \
+	if test "$$dot_seen" = "no"; then \
+	  $(MAKE) $(AM_MAKEFLAGS) "$$target-am" || exit 1; \
+	fi; test -z "$$fail"
+
+mostlyclean-recursive clean-recursive distclean-recursive \
+maintainer-clean-recursive:
+	@set fnord $$MAKEFLAGS; amf=$$2; \
+	dot_seen=no; \
+	case "$@" in \
+	  distclean-* | maintainer-clean-*) list='$(DIST_SUBDIRS)' ;; \
+	  *) list='$(SUBDIRS)' ;; \
+	esac; \
+	rev=''; for subdir in $$list; do \
+	  if test "$$subdir" = "."; then :; else \
+	    rev="$$subdir $$rev"; \
+	  fi; \
+	done; \
+	rev="$$rev ."; \
+	target=`echo $@ | sed s/-recursive//`; \
+	for subdir in $$rev; do \
+	  echo "Making $$target in $$subdir"; \
+	  if test "$$subdir" = "."; then \
+	    local_target="$$target-am"; \
+	  else \
+	    local_target="$$target"; \
+	  fi; \
+	  (cd $$subdir && $(MAKE) $(AM_MAKEFLAGS) $$local_target) \
+	   || case "$$amf" in *=*) exit 1;; *k*) fail=yes;; *) exit 1;; esac; \
+	done && test -z "$$fail"
+tags-recursive:
+	list='$(SUBDIRS)'; for subdir in $$list; do \
+	  test "$$subdir" = . || (cd $$subdir && $(MAKE) $(AM_MAKEFLAGS) tags); \
+	done
+ctags-recursive:
+	list='$(SUBDIRS)'; for subdir in $$list; do \
+	  test "$$subdir" = . || (cd $$subdir && $(MAKE) $(AM_MAKEFLAGS) ctags); \
+	done
+
+ETAGS = etags
+ETAGSFLAGS =
+
+CTAGS = ctags
+CTAGSFLAGS =
+
+tags: TAGS
+
+ID: $(HEADERS) $(SOURCES) $(LISP) $(TAGS_FILES)
+	list='$(SOURCES) $(HEADERS) $(LISP) $(TAGS_FILES)'; \
+	unique=`for i in $$list; do \
+	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
+	  done | \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
+	mkid -fID $$unique
+
+TAGS: tags-recursive $(HEADERS) $(SOURCES)  $(TAGS_DEPENDENCIES) \
+		$(TAGS_FILES) $(LISP)
+	tags=; \
+	here=`pwd`; \
+	list='$(SUBDIRS)'; for subdir in $$list; do \
+	  if test "$$subdir" = .; then :; else \
+	    test -f $$subdir/TAGS && tags="$$tags -i $$here/$$subdir/TAGS"; \
+	  fi; \
+	done; \
+	list='$(SOURCES) $(HEADERS)  $(LISP) $(TAGS_FILES)'; \
+	unique=`for i in $$list; do \
+	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
+	  done | \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
+	test -z "$(ETAGS_ARGS)$$tags$$unique" \
+	  || $(ETAGS) $(ETAGSFLAGS) $(AM_ETAGSFLAGS) $(ETAGS_ARGS) \
+	     $$tags $$unique
+
+ctags: CTAGS
+CTAGS: ctags-recursive $(HEADERS) $(SOURCES)  $(TAGS_DEPENDENCIES) \
+		$(TAGS_FILES) $(LISP)
+	tags=; \
+	here=`pwd`; \
+	list='$(SOURCES) $(HEADERS)  $(LISP) $(TAGS_FILES)'; \
+	unique=`for i in $$list; do \
+	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
+	  done | \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
+	test -z "$(CTAGS_ARGS)$$tags$$unique" \
+	  || $(CTAGS) $(CTAGSFLAGS) $(AM_CTAGSFLAGS) $(CTAGS_ARGS) \
+	     $$tags $$unique
+
+GTAGS:
+	here=`$(am__cd) $(top_builddir) && pwd` \
+	  && cd $(top_srcdir) \
+	  && gtags -i $(GTAGS_ARGS) $$here
+
+distclean-tags:
+	-rm -f TAGS ID GTAGS GRTAGS GSYMS GPATH tags
+DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
+
+top_distdir = .
+distdir = $(PACKAGE)-$(VERSION)
+
+am__remove_distdir = \
+  { test ! -d $(distdir) \
+    || { find $(distdir) -type d ! -perm -200 -exec chmod u+w {} ';' \
+         && rm -fr $(distdir); }; }
+
+GZIP_ENV = --best
+distuninstallcheck_listfiles = find . -type f -print
+distcleancheck_listfiles = find . -type f -print
+
+distdir: $(DISTFILES)
+	$(am__remove_distdir)
+	mkdir $(distdir)
+	$(mkinstalldirs) $(distdir)/$(top_srcdir) $(distdir)/. $(distdir)/doc $(distdir)/includes $(distdir)/irssi $(distdir)/lib/silcmath/mpi $(distdir)/tutorial
+	@srcdirstrip=`echo "$(srcdir)" | sed 's|.|.|g'`; \
+	list='$(DISTFILES)'; for file in $$list; do \
+	  case $$file in \
+	    $(srcdir)/*) file=`echo "$$file" | sed "s|^$$srcdirstrip/||"`;; \
+	  esac; \
+	  if test -f $$file || test -d $$file; then d=.; else d=$(srcdir); fi; \
+	  dir=`echo "$$file" | sed -e 's,/[^/]*$$,,'`; \
+	  if test "$$dir" != "$$file" && test "$$dir" != "."; then \
+	    dir="/$$dir"; \
+	    $(mkinstalldirs) "$(distdir)$$dir"; \
+	  else \
+	    dir=''; \
+	  fi; \
+	  if test -d $$d/$$file; then \
+	    if test -d $(srcdir)/$$file && test $$d != $(srcdir); then \
+	      cp -pR $(srcdir)/$$file $(distdir)$$dir || exit 1; \
+	    fi; \
+	    cp -pR $$d/$$file $(distdir)$$dir || exit 1; \
+	  else \
+	    test -f $(distdir)/$$file \
+	    || cp -p $$d/$$file $(distdir)/$$file \
+	    || exit 1; \
+	  fi; \
+	done
+	list='$(DIST_SUBDIRS)'; for subdir in $$list; do \
+	  if test "$$subdir" = .; then :; else \
+	    test -d $(distdir)/$$subdir \
+	    || mkdir $(distdir)/$$subdir \
+	    || exit 1; \
+	    (cd $$subdir && \
+	      $(MAKE) $(AM_MAKEFLAGS) \
+	        top_distdir="$(top_distdir)" \
+	        distdir=../$(distdir)/$$subdir \
+	        distdir) \
+	      || exit 1; \
+	  fi; \
+	done
+	-find $(distdir) -type d ! -perm -777 -exec chmod a+rwx {} \; -o \
+	  ! -type d ! -perm -444 -links 1 -exec chmod a+r {} \; -o \
+	  ! -type d ! -perm -400 -exec chmod a+r {} \; -o \
+	  ! -type d ! -perm -444 -exec $(SHELL) $(install_sh) -c -m a+r {} {} \; \
+	|| chmod -R a+r $(distdir)
+dist-gzip: distdir
+	$(AMTAR) chof - $(distdir) | GZIP=$(GZIP_ENV) gzip -c >$(distdir).tar.gz
+	$(am__remove_distdir)
+
+dist dist-all: distdir
+	$(AMTAR) chof - $(distdir) | GZIP=$(GZIP_ENV) gzip -c >$(distdir).tar.gz
+	$(am__remove_distdir)
+
+# This target untars the dist file and tries a VPATH configuration.  Then
+# it guarantees that the distribution is self-contained by making another
+# tarfile.
+distcheck: dist
+	$(am__remove_distdir)
+	GZIP=$(GZIP_ENV) gunzip -c $(distdir).tar.gz | $(AMTAR) xf -
+	chmod -R a-w $(distdir); chmod a+w $(distdir)
+	mkdir $(distdir)/=build
+	mkdir $(distdir)/=inst
+	chmod a-w $(distdir)
+	dc_install_base=`$(am__cd) $(distdir)/=inst && pwd` \
+	  && dc_destdir="$${TMPDIR-/tmp}/am-dc-$$$$/" \
+	  && $(mkinstalldirs) $$dc_destdir \
+	  && cd $(distdir)/=build \
+	  && ../configure --srcdir=.. --prefix="$$dc_install_base" \
+	    $(DISTCHECK_CONFIGURE_FLAGS) \
+	  && $(MAKE) $(AM_MAKEFLAGS) \
+	  && $(MAKE) $(AM_MAKEFLAGS) dvi \
+	  && $(MAKE) $(AM_MAKEFLAGS) check \
+	  && $(MAKE) $(AM_MAKEFLAGS) install \
+	  && $(MAKE) $(AM_MAKEFLAGS) installcheck \
+	  && $(MAKE) $(AM_MAKEFLAGS) uninstall \
+	  && $(MAKE) $(AM_MAKEFLAGS) distuninstallcheck_dir="$$dc_install_base" \
+	        distuninstallcheck \
+	  && chmod -R a-w "$$dc_install_base" \
+	  && ({   $(MAKE) $(AM_MAKEFLAGS) DESTDIR="$$dc_destdir" install \
+	       && $(MAKE) $(AM_MAKEFLAGS) DESTDIR="$$dc_destdir" uninstall \
+	       && $(MAKE) $(AM_MAKEFLAGS) DESTDIR="$$dc_destdir" \
+	            distuninstallcheck_dir="$$dc_destdir" distuninstallcheck; \
+	      } || { rm -rf "$$dc_destdir"; exit 1; }) \
+	  && rm -rf "$$dc_destdir" \
+	  && $(MAKE) $(AM_MAKEFLAGS) dist-gzip \
+	  && rm -f $(distdir).tar.gz \
+	  && $(MAKE) $(AM_MAKEFLAGS) distcleancheck
+	$(am__remove_distdir)
+	@echo "$(distdir).tar.gz is ready for distribution" | \
+	  sed 'h;s/./=/g;p;x;p;x'
+distuninstallcheck:
+	cd $(distuninstallcheck_dir) \
+	&& test `$(distuninstallcheck_listfiles) | wc -l` -le 1 \
+	   || { echo "ERROR: files left after uninstall:" ; \
+	        if test -n "$(DESTDIR)"; then \
+	          echo "  (check DESTDIR support)"; \
+	        fi ; \
+	        $(distuninstallcheck_listfiles) ; \
+	        exit 1; } >&2
+distcleancheck: distclean
+	if test '$(srcdir)' = . ; then \
+	  echo "ERROR: distcleancheck can only run from a VPATH build" ; \
+	  exit 1 ; \
+	fi
+	test `$(distcleancheck_listfiles) | wc -l` -eq 0 \
+	  || { echo "ERROR: files left in build directory after distclean:" ; \
+	       $(distcleancheck_listfiles) ; \
+	       exit 1; } >&2
+check-am: all-am
+check: check-recursive
+all-am: Makefile
+installdirs: installdirs-recursive
+installdirs-am:
+
+install: install-recursive
+install-exec: install-exec-recursive
+install-data: install-data-recursive
+uninstall: uninstall-recursive
+
+install-am: all-am
+	@$(MAKE) $(AM_MAKEFLAGS) install-exec-am install-data-am
+
+installcheck: installcheck-recursive
+install-strip:
+	$(MAKE) $(AM_MAKEFLAGS) INSTALL_PROGRAM="$(INSTALL_STRIP_PROGRAM)" \
+	  INSTALL_STRIP_FLAG=-s \
+	  `test -z '$(STRIP)' || \
+	    echo "INSTALL_PROGRAM_ENV=STRIPPROG='$(STRIP)'"` install
+mostlyclean-generic:
+
+clean-generic:
+
+distclean-generic:
+	-rm -f Makefile $(CONFIG_CLEAN_FILES)
+
+maintainer-clean-generic:
+	@echo "This command is intended for maintainers to use"
+	@echo "it deletes files that may require special tools to rebuild."
+clean: clean-recursive
+
+clean-am: clean-generic clean-libtool mostlyclean-am
+
+distclean: distclean-recursive
+	-rm -f $(am__CONFIG_DISTCLEAN_FILES)
+distclean-am: clean-am distclean-generic distclean-libtool \
+	distclean-tags
+
+dvi: dvi-recursive
+
+dvi-am:
+
+info: info-recursive
+
+info-am:
+
+install-data-am:
+	@$(NORMAL_INSTALL)
+	$(MAKE) $(AM_MAKEFLAGS) install-data-hook
+
+install-exec-am:
+
+install-info: install-info-recursive
+
+install-man:
+
+installcheck-am:
+
+maintainer-clean: maintainer-clean-recursive
+	-rm -f $(am__CONFIG_DISTCLEAN_FILES)
+	-rm -rf autom4te.cache
+maintainer-clean-am: distclean-am maintainer-clean-generic
+
+mostlyclean: mostlyclean-recursive
+
+mostlyclean-am: mostlyclean-generic mostlyclean-libtool
+
+pdf: pdf-recursive
+
+pdf-am:
+
+ps: ps-recursive
+
+ps-am:
+
+uninstall-am: uninstall-info-am
+
+uninstall-info: uninstall-info-recursive
+
+.PHONY: $(RECURSIVE_TARGETS) CTAGS GTAGS all all-am check check-am clean \
+	clean-generic clean-libtool clean-recursive ctags \
+	ctags-recursive dist dist-all dist-gzip distcheck distclean \
+	distclean-generic distclean-libtool distclean-recursive \
+	distclean-tags distcleancheck distdir distuninstallcheck dvi \
+	dvi-am dvi-recursive info info-am info-recursive install \
+	install-am install-data install-data-am install-data-recursive \
+	install-exec install-exec-am install-exec-recursive \
+	install-info install-info-am install-info-recursive install-man \
+	install-recursive install-strip installcheck installcheck-am \
+	installdirs installdirs-am installdirs-recursive \
+	maintainer-clean maintainer-clean-generic \
+	maintainer-clean-recursive mostlyclean mostlyclean-generic \
+	mostlyclean-libtool mostlyclean-recursive pdf pdf-am \
+	pdf-recursive ps ps-am ps-recursive tags tags-recursive \
+	uninstall uninstall-am uninstall-info-am \
+	uninstall-info-recursive uninstall-recursive
+
+
+@INCLUDE_DEFINES_INT@
+
+#
+#includes-install: Makefile
+#	for i in $(include_HEADERS); do s=$(srcdir)/$$i;
+#d=$(silc_top_srcdir)/includes/$$i; \
+#	   ln $$s $$d 2>/dev/null || (rm -f $$d; cp -p $$s $$d;); \
+#	done;
+#
+#all-local: includes-install
+
+dist-bzip: distdir
+	-chmod -R a+r $(distdir)
+	-tar chof $(distdir).tar $(distdir)
+	-bzip2 $(distdir).tar
+	-rm -rf $(distdir)
+
+install-dirs:
+	-mkdir -p $(modulesdir)
+	-mkdir -p $(docdir)
+
+install-dirs-client: install-dirs
+	-mkdir -p $(helpdir)
+	-mkdir -p $(mandir)/man1
+
+install-dirs-server: install-dirs
+	-mkdir -p $(logsdir)
+	-mkdir -p $(mandir)/man5
+	-mkdir -p $(mandir)/man8
+
+doc-install:
+	-$(INSTALL_DATA) $(srcdir)/doc/CodingStyle $(docdir)/
+	-$(INSTALL_DATA) $(srcdir)/doc/FAQ $(docdir)/
+	-$(INSTALL_DATA) $(srcdir)/doc/*.txt $(docdir)/
+	-$(INSTALL_DATA) $(srcdir)/COPYING $(docdir)/
+	-$(INSTALL_DATA) $(srcdir)/CHANGES $(docdir)/
+	-$(INSTALL_DATA) $(srcdir)/CREDITS $(docdir)/
+	-$(INSTALL_DATA) $(srcdir)/README* $(docdir)/
+	-$(INSTALL_DATA) $(srcdir)/INSTALL $(docdir)/
+	-$(INSTALL_DATA) $(srcdir)/TODO $(docdir)/
+
+doc-install-client: doc-install
+	$(INSTALL_DATA) $(srcdir)/irssi/silc.conf $(docdir)/example_silc.conf
+	-@if test -f $(srcdir)/doc/silc.1 ; then \
+	 $(INSTALL_DATA) $(srcdir)/doc/silc.1 $(mandir)/man1; \
+	fi
+
+doc-install-server: doc-install
+	-$(INSTALL_DATA) $(srcdir)/doc/example_silcd.conf $(docdir)/
+	-@if test -f $(srcdir)/doc/silcd.8 ; then \
+	 $(INSTALL_DATA) $(srcdir)/doc/silcd.8 $(mandir)/man8; \
+	fi
+	-@if test -f $(srcdir)/doc/silcd.conf.5 ; then \
+	 $(INSTALL_DATA) $(srcdir)/doc/silcd.conf.5 $(mandir)/man5; \
+	fi
+
+etc-install-client:
+	-@if test '!' -d $(srcdir)/irssi ; then \
+	  if test '!' -f $(etcdir)/silc.conf ; then \
+	    $(INSTALL_DATA) $(srcdir)/irssi/silc.conf \
+	    	$(etcdir)/silc.conf; \
+	  fi; \
+	fi
+
+etc-install-server:
+	-@if test '!' -f $(etcdir)/silcd.conf ; then \
+	  $(INSTALL_DATA) $(srcdir)/doc/example_silcd.conf \
+		$(etcdir)/silcd.conf; \
+	  $(INSTALL_DATA) $(srcdir)/doc/silcalgs.conf \
+		$(etcdir)/silcalgs.conf; \
+          chmod go= $(etcdir)/silcd.conf; \
+	fi
+
+sim-install:
+	-$(INSTALL_DATA) $(srcdir)/lib/silcsim/*.so $(modulesdir)/
+
+toolkit-install:
+	-mkdir -p $(docdir)/toolkit/
+	-$(INSTALL_DATA) $(srcdir)/doc/toolkit/* $(docdir)/toolkit
+	-$(INSTALL_DATA) $(srcdir)/lib/doc/*.gif $(docdir)/toolkit
+	-cp -R $(srcdir)/tutorial $(DESTDIR)$(datadir)/
+
+examples-install:
+	-mkdir -p $(docdir)/examples/
+	-$(INSTALL_DATA) $(srcdir)/doc/examples/README $(docdir)/examples/
+	-$(INSTALL_DATA) $(srcdir)/doc/examples/silc* $(docdir)/examples/
+
+generate-server-key:
+	-@if test '!' -f $(etcdir)/silcd.pub ; then \
+	  $(sbindir)/silcd -C $(etcdir); \
+	fi
+
+@SILC_DIST_CLIENT_TRUE@install-data-hook: install-dirs-client sim-install doc-install-client etc-install-client
+@SILC_DIST_CLIENT_FALSE@@SILC_DIST_TOOLKIT_TRUE@install-data-hook: install-dirs sim-install toolkit-install examples-install
+@SILC_DIST_CLIENT_FALSE@@SILC_DIST_TOOLKIT_FALSE@install-data-hook: install-dirs-server sim-install doc-install-server examples-install etc-install-server generate-server-key
+# Tell versions [3.59,3.63) of GNU make to not export all variables.
+# Otherwise a system limit (for SysV at least) may be exceeded.
+.NOEXPORT:
diff -Naur silc-toolkit-0.9.11/lib/silcsim/Makefile.in silc-toolkit-0.9.11-patched/lib/silcsim/Makefile.in
--- silc-toolkit-0.9.11/lib/silcsim/Makefile.in	Thu Nov 13 16:25:45 2003
+++ silc-toolkit-0.9.11-patched/lib/silcsim/Makefile.in	Sat Nov 29 11:22:28 2003
@@ -565,7 +565,7 @@
 
 $(SIM_CIPHER_OBJS):
 	@if test '!' -f lib$*.la ; then \
-	  $(LIBTOOL) --mode=link $(CCLD) -rpath $(silc_modulesdir) \
+	  $(LIBTOOL) --mode=link $(CCLD) -rpath $(silc_modulesdir) -module \
 		../silccrypt/$*.lo -o lib$*.la $(LTFLAGS); \
 	  cd $(srcdir) && $(LN_S) -f $(srcdir)/.libs/lib$*.so \
 		$(srcdir)/$*.sim.so; \
@@ -573,7 +573,7 @@
 
 $(SIM_HASH_OBJS):
 	@if test '!' -f lib$*.la ; then \
-	  $(LIBTOOL) --mode=link $(CCLD) -rpath $(silc_modulesdir) \
+	  $(LIBTOOL) --mode=link $(CCLD) -rpath $(silc_modulesdir) -module \
 		../silccrypt/$*.lo -o lib$*.la $(LTFLAGS); \
 	  cd $(srcdir) && $(LN_S) -f $(srcdir)/.libs/lib$*.so \
 		$(srcdir)/$*.sim.so; \
