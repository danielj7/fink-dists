diff -Nurd -x'*~' fribidi-0.19.5.orig/bin/fribidi-main.c fribidi-0.19.5/bin/fribidi-main.c
--- fribidi-0.19.5.orig/bin/fribidi-main.c	2012-12-02 11:25:39.000000000 -0500
+++ fribidi-0.19.5/bin/fribidi-main.c	2013-06-10 13:55:02.000000000 -0400
@@ -519,7 +519,7 @@
 				  idx++;
 				}
 #endif /* !FRIBIDI_MAIN_USE_ICONV_H */
-			    if (wid < 0 && idx > st + 1)
+			    if (wid < 0 && idx - st > 1)
 			      idx--;
 			    inlen = idx - st;
 
diff -Nurd -x'*~' fribidi-0.19.5.orig/lib/fribidi-bidi.h fribidi-0.19.5/lib/fribidi-bidi.h
--- fribidi-0.19.5.orig/lib/fribidi-bidi.h	2012-12-02 11:25:39.000000000 -0500
+++ fribidi-0.19.5/lib/fribidi-bidi.h	2013-06-10 13:55:48.000000000 -0400
@@ -43,7 +43,7 @@
 
 #include "fribidi-begindecls.h"
 
-#define fribidi_get_par_embedding_levels FRIBIDI_NAMESPACE(get_par_embedding_levels)
+#define fribidi_get_par_direction FRIBIDI_NAMESPACE(get_par_direction)
 /* fribidi_get_par_direction - get base paragraph direction
  *
  * This function finds the base direction of a single paragraph,
