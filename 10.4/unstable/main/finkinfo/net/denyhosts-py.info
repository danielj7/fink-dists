Info2: <<
Package: denyhosts-py%type_pkg[python]
Version: 2.6
Revision: 1
Distribution: (%type_pkg[python] = 23) 10.3, (%type_pkg[python] = 23) 10.4

Type: python (2.3 2.4 2.5)

Maintainer: Murali Vadivelu <murali1080@users.sf.net>

Depends: python%type_pkg[python], python%type_pkg[python]-socket, daemonic
Conflicts: denyhosts-py%type_pkg[python]
Replaces: denyhosts--py%type_pkg[python]

Description: Script to thwart ssh server attacks
Homepage: http://denyhosts.sourceforge.net/
License: GPL

Source: mirror:sourceforge:denyhosts/DenyHosts-%v.tar.gz
SourceDirectory: DenyHosts-%v
Source-MD5: fc2365305a9402886a2b0173d1beb7df

PatchScript: sed 's,@PREFIX@,%p,g' < %a/denyhosts-py.patch | sed 's,python2.X,python%type_raw[python],g' | sed 's,python2X,py%type_pkg[python],g' | patch -p1

CompileScript: %p/bin/python%type_raw[python] setup.py build

InstallScript: <<
%p/bin/python%type_raw[python] setup.py install --root=%d
mkdir -p %i/etc/denyhosts-py%type_pkg[python]
cp %i/share/denyhosts-py%type_pkg[python]/denyhosts.cfg-dist %i/etc/denyhosts-py%type_pkg[python]/denyhosts.cfg
mv %i/bin/denyhosts.py %i/bin/denyhosts-py%type_pkg[python].py
mkdir -p %i/etc/daemons
mv %b/denyhosts-py %i/etc/daemons/denyhosts-py%type_pkg[python].xml
echo DenyHosts | cat > %i/lib/python%type_raw[python]/site-packages/DenyHosts.pth
<<

ConfFiles: %p/etc/denyhosts-py%type_pkg[python]/denyhosts.cfg

PostInstScript: <<
daemonic enable denyhosts-py%type_pkg[python]
touch /etc/hosts.deny
<<

PreRmScript: <<
 if [ $1 != "upgrade" ]; then
   daemonic remove denyhosts-py%type_pkg[python]
   rm -f %p/var/run/denyhosts*
 fi
<<

DocFiles: LICENSE.txt CHANGELOG.txt README.txt

DescDetail: <<
DenyHosts is a Python script that analyzes
the sshd server log messages to determine 
what hosts are attempting to hack into 
your system. It also determines what user
accounts are being targeted. It keeps 
track of the frequency of attempts from 
each host. Additionally, upon discovering 
a repeated attack host, the /etc/hosts.deny
file is updated to prevent future break-in 
attempts from that host. An email report 
can be sent to a system 
admin.
<<
<<

 	  	 
