Package: ledger
Version: 2.6
Revision: 1
Source: mirror:sourceforge:%n/%n-%v.tar.gz
Maintainer: Jesse Alama <alama@stanford.edu>
Homepage: http://www.newartisans.com/ledger.html
License: OSI-Approved
Description: Maintain double-entry ledgers
Source-MD5: 049da75e139dc5094ebf57e1f7e1cb5f
PatchScript: sed 's|@PREFIX@|%p|g' < %a/%n.patch | patch -p1
BuildDepends: gmp, libofx1, libwww, pcre, expat, opensp4-dev, libgettext3-dev, libiconv-dev
GCC: 4.0
Depends: %N-shlibs (= %v-%r), libofx1-shlibs, libwww-shlibs, expat-shlibs, opensp4-shlibs, libgettext3-shlibs, libiconv
Suggests: gnuplot 
Enhances: gnucash
SetCPPFLAGS: -I%p/include/libofx -I%p/include/w3c-libwww
InfoDocs: ledger
CompileScript: <<
  EMACS="no" ./configure %c
  make
<<
InstallScript: <<
  make install-binPROGRAMS prefix=%i
  make install-pkgincludeHEADERS prefix=%i
  make install-libLTLIBRARIES prefix=%i
  mkdir -p %i/share/emacs/site-lisp/ledger
  install -m 644 ledger.el %i/share/emacs/site-lisp/ledger
  mkdir -p %i/lib/emacsen-common/packages/install
  mkdir -p %i/lib/emacsen-common/packages/remove
  install -m 755 fink/emacsen-install %i/lib/emacsen-common/packages/install/%n
  install -m 755 fink/emacsen-remove %i/lib/emacsen-common/packages/remove/%n
  mkdir -p %i/share/doc/ledger/scripts
  install -m 755 scripts/* %i/share/doc/ledger/scripts
  mkdir -p %i/share/doc/ledger/extras
  install -m 644 ledger.vim %i/share/doc/ledger/extras
  mkdir -p %i/share/doc/ledger/examples
  install -m 644 sample.dat %i/share/doc/ledger/examples
  mkdir -p %i/share/info
  install -m 644 ledger.info %i/share/info/ledger
<<
DocFiles: LICENSE README NEWS ChangeLog
DescDetail: <<
Ledger is a command-line accounting tool for maintaing doubly-entry
ledgers.  The syntax for ledger files is simple (see the file
`sample.dat' in the `examples' subdirectory of the Ledger
documentation directory) and can be maintained using only a text
editor.  But it is not necessary to use a text editor to maintain
ledger files: it's possible to use the Gnucash package for this
purpose.

Several example python scripts for performing typical calculations are
included.  They can be found in the ledger documentation directory, in
the `extras' subdirectory.  Some of these scripts draw graphs using
the Gnuplot package.

A vim configuration can be found in the `extras' subdirectory of the
ledger documentation directory %p/share/doc/ledger .
<<
SplitOff: <<
  Package: ledger-shlibs
  Description: Shared libraries for ledger
  Depends: gmp-shlibs, pcre-shlibs
  Shlibs: %p/lib/libledger-2.6.dylib 0.0.0 %n (>= 2.6-1)
  Files: lib/libledger-2.6.dylib
<<
SplitOff2: <<
  Package: ledger-dev
  Depends: %N-shlibs (= %v-%r)
  Description: Header files for ledger
  BuildDependsOnly: True
  Files: lib/libledger.a lib/libledger.la lib/libledger.dylib include
<<
SplitOff3: <<
  Package: ledger-el
  Depends: emacsen, ledger
  Description: Maintain a double-entry ledger with emacs
  Files: <<
    share/emacs/site-lisp/ledger/ledger.el
    lib/emacsen-common/packages/install/%N
    lib/emacsen-common/packages/remove/%N
  <<
  PreRmScript: <<
    mkdir -p %p/share/doc/ledger-el
    %p/lib/emacsen-common/emacs-package-remove %n
  <<
  PostInstScript: <<
    mkdir -p %p/share/doc/ledger-el
    %p/lib/emacsen-common/emacs-package-install %n
  <<
  DescDetail: <<
To enable this package within emacs, simply add the command

  (require 'ledger)

to your emacs initialization file.  Then, issue the command `M-x
ledger' when you're visiting ledger files to turn on ledger mode.  A
useful tip: put a file-local variable

; -*- mode: ledger; -*-

into the top or bottom of your ledger files to get emacs to
automatically turn on ledger-mode when visiting ledger files.
  <<
<<

