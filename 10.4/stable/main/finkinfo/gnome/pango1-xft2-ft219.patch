diff -Nurd -x'*~' pango-1.20.4.orig/Makefile.in pango-1.20.4/Makefile.in
--- pango-1.20.4.orig/Makefile.in	2008-06-30 21:01:17.000000000 -0400
+++ pango-1.20.4/Makefile.in	2008-06-30 22:21:39.000000000 -0400
@@ -256,7 +256,7 @@
 target_alias = @target_alias@
 top_builddir = @top_builddir@
 top_srcdir = @top_srcdir@
-SUBDIRS = pango modules pango-view examples docs tools tests
+SUBDIRS = pango modules pango-view          docs tools tests
 EXTRA_DIST = \
 	autogen.sh		\
 	pango.pc.in		\
diff -Nurd -x'*~' pango-1.20.4.orig/docs/Makefile.in pango-1.20.4/docs/Makefile.in
--- pango-1.20.4.orig/docs/Makefile.in	2008-06-30 21:01:13.000000000 -0400
+++ pango-1.20.4/docs/Makefile.in	2008-06-30 22:21:39.000000000 -0400
@@ -266,9 +266,9 @@
 	-DPANGO_ENABLE_ENGINE	\
 	-I$(top_srcdir)		\
 	$(GLIB_CFLAGS)		\
+	$(FREETYPE_CFLAGS)	\
 	$(XFT_CFLAGS)		\
 	$(CAIRO_CFLAGS)		\
-	$(FREETYPE_CFLAGS)	\
 	$(X_CFLAGS)
 
 
diff -Nurd -x'*~' pango-1.20.4.orig/docs/html/pango-Miscellaneous-Utilities.html pango-1.20.4/docs/html/pango-Miscellaneous-Utilities.html
--- pango-1.20.4.orig/docs/html/pango-Miscellaneous-Utilities.html	2008-06-30 21:03:06.000000000 -0400
+++ pango-1.20.4/docs/html/pango-Miscellaneous-Utilities.html	2008-06-30 22:21:39.000000000 -0400
@@ -427,7 +427,7 @@
 <a class="indexterm" name="id3268840"></a><pre class="programlisting">char*               pango_config_key_get                (const char *key);</pre>
 <p>
 Looks up a key in the Pango config database
-(pseudo-win.ini style, read from $sysconfdir/pango/pangorc,
+(pseudo-win.ini style, read from @SYSCONFDIR@/pango/pangorc,
  ~/.pangorc, and getenv (PANGO_RC_FILE).)</p>
 <p>
 
diff -Nurd -x'*~' pango-1.20.4.orig/docs/pango-querymodules.1 pango-1.20.4/docs/pango-querymodules.1
--- pango-1.20.4.orig/docs/pango-querymodules.1	2008-06-30 21:03:05.000000000 -0400
+++ pango-1.20.4/docs/pango-querymodules.1	2008-06-30 22:21:39.000000000 -0400
@@ -30,7 +30,7 @@
 The Pango module path is specified by the key
 Pango/ModulesPath
 in the Pango config database, which is read from
-\fI\fIsysconfdir\fR\fR\fI/pango/pangorc\fR,
+\fI\fI@SYSCONFDIR@\fR\fR\fI/pango/pangorc\fR,
 \fI~/\.pangorc\fR
 and the file specified in the environment variable
 \fBPANGO_RC_FILE\fR\.
diff -Nurd -x'*~' pango-1.20.4.orig/pango/Makefile.in pango-1.20.4/pango/Makefile.in
--- pango-1.20.4.orig/pango/Makefile.in	2008-06-30 21:01:16.000000000 -0400
+++ pango-1.20.4/pango/Makefile.in	2008-06-30 22:21:39.000000000 -0400
@@ -424,11 +424,11 @@
 	-DSYSCONFDIR=\"$(sysconfdir)\"			\
 	-DLIBDIR=\"$(libdir)\"				\
 	-I$(top_srcdir)					\
+	$(FREETYPE_CFLAGS)				\
 	$(PANGO_DEBUG_FLAGS)				\
 	$(GLIB_CFLAGS)					\
 	$(XFT_CFLAGS)					\
 	$(CAIRO_CFLAGS)					\
-	$(FREETYPE_CFLAGS)				\
 	$(X_CFLAGS)
 
 BUILT_SOURCES = pango-enum-types.h pango-enum-types.c pango-features.h
@@ -533,9 +533,9 @@
 libpangoft2_1_0_la_LIBADD = \
 	opentype/libharfbuzz-1.la		\
 	libpango-$(PANGO_API_VERSION).la	\
+	$(FREETYPE_LIBS)			\
 	$(INCLUDED_FC_MODULES)			\
 	$(GLIB_LIBS)				\
-	$(FREETYPE_LIBS)			\
 	$(libm)
 
 libpangoft2_1_0_la_DEPENDENCIES = opentype/libharfbuzz-1.la \
@@ -564,8 +564,8 @@
 	libpangoft2-$(PANGO_API_VERSION).la	\
 	libpango-$(PANGO_API_VERSION).la	\
 	$(GLIB_LIBS)				\
-	$(X_LIBS)				\
 	$(XFT_LIBS)				\
+	$(X_LIBS)				\
 	$(libm)
 
 libpangoxft_1_0_la_DEPENDENCIES = \
diff -Nurd -x'*~' pango-1.20.4.orig/pangoxft.pc.in pango-1.20.4/pangoxft.pc.in
--- pango-1.20.4.orig/pangoxft.pc.in	2008-05-03 13:23:06.000000000 -0400
+++ pango-1.20.4/pangoxft.pc.in	2008-06-30 22:21:39.000000000 -0400
@@ -6,6 +6,6 @@
 Name: Pango Xft
 Description: Xft font support for Pango
 Version: @VERSION@
-Requires: pango pangoft2 xft
+Requires: pango pangoft2 xft pangox
 Libs: -L${libdir} -lpangoxft-@PANGO_API_VERSION@
 Cflags: -I${includedir}/pango-1.0
diff -Nurd -x'*~' pango-1.20.4.orig/tests/Makefile.in pango-1.20.4/tests/Makefile.in
--- pango-1.20.4.orig/tests/Makefile.in	2008-06-30 21:01:16.000000000 -0400
+++ pango-1.20.4/tests/Makefile.in	2008-06-30 22:21:39.000000000 -0400
@@ -283,7 +283,7 @@
 CLEANFILES = pangorc
 DISTCLEANFILES = all-unicode.txt runtests.log
 INCLUDES = -I$(top_srcdir) $(PANGO_DEBUG_FLAGS) $(GLIB_CFLAGS) \
-	$(XFT_CFLAGS) $(CAIRO_CFLAGS) $(FREETYPE_CFLAGS) $(X_CFLAGS) \
+	$(FREETYPE_CFLAGS) $(XFT_CFLAGS) $(CAIRO_CFLAGS) $(X_CFLAGS) \
 	$(am__append_1) $(am__append_2) $(am__append_3)
 TESTS_ENVIRONMENT = \
    srcdir=$(srcdir)                    \
diff -Nurd -x'*~' pango-1.20.4.orig/update-pango-modules pango-1.20.4/update-pango-modules
--- pango-1.20.4.orig/update-pango-modules	1969-12-31 19:00:00.000000000 -0500
+++ pango-1.20.4/update-pango-modules	2008-06-30 22:21:39.000000000 -0400
@@ -0,0 +1,20 @@
+#!/bin/sh -e
+#
+# update-pango-modules
+#
+#   Packages which install pango module(s) should call update-pango-modules
+#   in their PostInstScript and PostRmScript to update the pango.module file.
+#
+
+CONFDIR=@SYSCONFDIR@/pango
+CONFFILE=$CONFDIR/pango.modules
+
+mkdir -p $CONFDIR
+
+TMPFILE=`tempfile`
+pango-querymodules >$TMPFILE
+
+mv -f $TMPFILE $CONFFILE
+chmod 0644 $CONFFILE
+
+exit 0
