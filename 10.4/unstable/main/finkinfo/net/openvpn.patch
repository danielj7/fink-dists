diff -rauN openvpn-2.2.0-ipv6/openvpn.8 openvpn-2.2.0-ipv6-debian/openvpn.8
--- openvpn-2.2.0-ipv6/openvpn.8	2011-05-08 13:51:31.000000000 +0200
+++ openvpn-2.2.0-ipv6-debian/openvpn.8	2011-05-08 15:15:59.000000000 +0200
@@ -21,13 +21,13 @@
 .\"  59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
 .\"
 .\" Manual page for openvpn
-.\
+.\"
 .\" SH section heading
 .\" SS subsection heading
 .\" LP paragraph
 .\" IP indented paragraph
 .\" TP hanging label
-.\
+.\"
 .\" .nf -- no formatting
 .\" .fi -- resume formatting
 .\" .ft 3 -- boldface
@@ -949,7 +949,7 @@
 otherwise 0.
 
 The default can be specified by leaving an option blank or setting
-it to "default".
+it to "nil".
 
 The
 .B network
diff -rauN openvpn-2.2.0-ipv6/socket.c openvpn-2.2.0-ipv6-debian/socket.c
--- openvpn-2.2.0-ipv6/socket.c	2011-05-08 13:51:31.000000000 +0200
+++ openvpn-2.2.0-ipv6-debian/socket.c	2011-05-08 15:15:40.000000000 +0200
@@ -872,9 +872,15 @@
   else if (flags & SF_USE_IP_PKTINFO)
     {
       int pad = 1;
+#ifdef IPV6_RECVPKTINFO
       if (setsockopt (sd, IPPROTO_IPV6, IPV6_RECVPKTINFO,
 		      (void*)&pad, sizeof(pad)) < 0)
 	msg(M_SOCKERR, "UDP: failed setsockopt for IPV6_RECVPKTINFO");
+#else
+      if (setsockopt (sd, IPPROTO_IPV6, IPV6_PKTINFO,
+		      (void*)&pad, sizeof(pad)) < 0)
+	msg(M_SOCKERR, "UDP: failed setsockopt for IPV6_RECVPKTINFO");
+#endif
     }
 #endif
   return sd;
@@ -1737,6 +1743,10 @@
       resolve_bind_local (sock);
       resolve_remote (sock, 1, NULL, NULL);
     }
+
+  /* set socket file descriptor to not pass across execs, so that
+     scripts don't have access to it */
+  set_cloexec (sock->sd);
 }
 
 /* finalize socket initialization */
@@ -1978,10 +1988,6 @@
   /* set socket to non-blocking mode */
   set_nonblock (sock->sd);
 
-  /* set socket file descriptor to not pass across execs, so that
-     scripts don't have access to it */
-  set_cloexec (sock->sd);
-
 #ifdef ENABLE_SOCKS
   if (socket_defined (sock->ctrl_sd))
     set_cloexec (sock->ctrl_sd);
