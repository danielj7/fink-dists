Binary files stellarium-0.6.1.orig/.DS_Store and stellarium-0.6.1/.DS_Store differ
diff -ru stellarium-0.6.1.orig/configure stellarium-0.6.1/configure
--- stellarium-0.6.1.orig/configure	Sun Oct 17 08:12:27 2004
+++ stellarium-0.6.1/configure	Sat Oct 23 23:50:08 2004
@@ -3341,8 +3341,8 @@
 
 
 
-CFLAGS=" -Wall -s -O3"
-CXXFLAGS=" -Wall -s -O3"
+CFLAGS=" -Wall -O3"
+CXXFLAGS=" -Wall -O3"
 
 ac_ext=c
 ac_cpp='$CPP $CPPFLAGS'
@@ -5653,7 +5653,7 @@
 CFLAGS="$CFLAGS $X_CFLAGS"
 
 case "$host" in
-*-*-darwin*)
+*-*-skip*)
 SDL_VERSION=1.2.0
 ;;
 
@@ -6359,7 +6359,7 @@
 
 
 case "$host" in
-*-*-darwin*)
+*-*-skip*)
 PKGDATADIR="Stellarium.app/Contents/Resources"
 ;;
 *)
@@ -6384,7 +6384,7 @@
 #define MACOSX 1
 _ACEOF
 
-	LDFLAGS="$LDFLAGS -flat_namespace -undefined suppress -lz "
+	LDFLAGS="$LDFLAGS -flat_namespace -undefined suppress -lmx -lz "
 	LIBS="$LIBS -framework OpenGL -lobjc "
 ;;
 
diff -ru stellarium-0.6.1.orig/src/main.cpp stellarium-0.6.1/src/main.cpp
--- stellarium-0.6.1.orig/src/main.cpp	Fri Oct  8 20:14:04 2004
+++ stellarium-0.6.1/src/main.cpp	Sat Oct 23 22:51:37 2004
@@ -142,7 +142,7 @@
 
 	// If the system is non unix (windows) or if it's macosx the config file is in the
 	// config/ directory of the dataRoot directory
-#if defined(WIN32) || defined(CYGWIN) || defined(__MINGW32__) || defined(MACOSX)
+#if defined(WIN32) || defined(CYGWIN) || defined(__MINGW32__)
 	CDIR = DATA_ROOT + "/config/";
 
 	if ((tempFile = fopen((CDIR + "config.ini").c_str(),"r")))
diff -ru stellarium-0.6.1.orig/src/observator.cpp stellarium-0.6.1/src/observator.cpp
--- stellarium-0.6.1.orig/src/observator.cpp	Fri Oct  8 20:14:04 2004
+++ stellarium-0.6.1/src/observator.cpp	Sun Oct 24 00:01:56 2004
@@ -170,7 +170,7 @@
 	struct tm *timeinfo;
 	time_t rawtime; time(&rawtime);
 	timeinfo = localtime(&rawtime);
-	return (float)timeinfo->tm_gmtoff/3600 + (timeinfo->tm_isdst!=0);
+	return (float)timeinfo->tm_gmtoff/3600;
 #else
 	return -(float)timezone/3600 + (daylight!=0);
 
diff -ru stellarium-0.6.1.orig/src/stel_sdl.cpp stellarium-0.6.1/src/stel_sdl.cpp
--- stellarium-0.6.1.orig/src/stel_sdl.cpp	Mon Oct 11 18:37:27 2004
+++ stellarium-0.6.1/src/stel_sdl.cpp	Sat Oct 23 22:59:35 2004
@@ -219,15 +219,36 @@
 					break;
 
 				case SDL_MOUSEMOTION:
-				  	core->handle_move(E.motion.x,E.motion.y);
+					if (core->get_Fullscreen())
+					{
+				  		core->handle_move(E.motion.x,E.motion.y);
+				  	}
+				  	else
+				  	{
+				  		core->handle_move(E.motion.x,(core->get_screen_H()-E.motion.y));
+				  	}
 					break;
 
 				case SDL_MOUSEBUTTONDOWN:
-					core->handle_clic(E.button.x,E.button.y,E.button.button,E.button.state);
+					if (core->get_Fullscreen())
+					{
+						core->handle_clic(E.button.x,E.button.y,E.button.button,E.button.state);
+					}
+					else
+					{
+						core->handle_clic(E.button.x,(core->get_screen_H()-E.motion.y),E.button.button,E.button.state);
+					}
 					break;
 
 				case SDL_MOUSEBUTTONUP:
-					core->handle_clic(E.button.x,E.button.y,E.button.button,E.button.state);
+					if (core->get_Fullscreen())
+					{
+						core->handle_clic(E.button.x,E.button.y,E.button.button,E.button.state);
+					}
+					else
+					{
+						core->handle_clic(E.button.x,(core->get_screen_H()-E.motion.y),E.button.button,E.button.state);
+					}
 					break;
 
 				case SDL_KEYDOWN:
