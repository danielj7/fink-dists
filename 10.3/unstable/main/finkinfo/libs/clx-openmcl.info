Package: clx-openmcl
Version: 040210
Revision: 2
Description: Low-level X11 client library for Common Lisp
License: BSD
Maintainer: Lars Rosengreen <lars@margay.org>

# Dependencies
Depends: openmcl (>= 0.14.2-p1), x11

# Unpack Phase
Source: ftp://clozure.com/pub/CLX/clx-%v.tar.gz

SourceDirectory: clx

Source-MD5: c9e54607da4c1f6a9285fed02f7205ea

# Compile Phase
CompileScript: <<
  echo '(load "clx/defsystem.lisp")' > ../build-clx.lisp
  echo '(cl-user::compile-clx "clx/*.lisp")' >> ../build-clx.lisp
  echo '(load "clx/concat-clx.lisp")' >> ../build-clx.lisp
  echo '(cl-user::concat-clx "clx" "clx/")' >> ../build-clx.lisp
  cd .. ; cat build-clx.lisp | openmcl --batch
<<

# Install Phase
InstallScript: <<
  find . -type d -name CVS -depth -exec rm -rf {} \;
  mkdir -p %i/share/openmcl/ccl/library
  cp ../clx.dfsl %i/share/openmcl/ccl/library
  cd .. ; cp -R clx %i/share/openmcl
<<

DocFiles: README README.OpenMCL

# Additional Data
Homepage: http://www.cliki.net/CLX/

DescDetail: <<
CLX is the common lisp equivilent of Xlib for C.
<< 

DescUsage: << 
Evaluate (require :clx) to load CLX support.
<<

