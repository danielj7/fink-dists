Package: librep
Version: 0.16.2
Revision: 10
GCC: 3.3
BuildDepends: readline (>= 4.3-15), gdbm
Depends: %N-shlibs (= %v-%r)
Source: mirror:sourceforge:librep/librep-%v.tar.gz
Source-MD5: b0f219f9f3d51bc06ebb1bd1861b6e5c
PatchScript: mv doc docs
ConfigureParams: --without-gmp --infodir=%p/share/info --libexecdir='${prefix}/lib'
SetCPPFLAGS: -no-cpp-precomp
SetCFLAGS: -g -O0
InstallScript: <<
 make install host_type=powerpc-apple-darwin DESTDIR=%d
 mkdir -p %i/lib
<<
SplitOff: <<
  Package: %N-shlibs
  Depends: gdbm-shlibs, readline-shlibs (>= 4.3-15), texinfo
  Replaces: %N (<= 0.16.2-10)
  Files: lib/librep.*.dylib
  Shlibs: %p/lib/librep.9.dylib 13.0.0 %n (>= 0.16.2-10)
  DocFiles: README COPYING AUTHORS NEWS THANKS
<<
SplitOff2: <<
  Package: %N-dev
  BuildDependsOnly: True
  Depends: %N-shlibs (= %v-%r)
  Replaces: %N (<= 0.16.2-10)
  Files: include lib/*.la lib/librep.dylib share/aclocal
  DocFiles: README COPYING AUTHORS NEWS THANKS
<<
DocFiles: README COPYING AUTHORS NEWS THANKS
InfoDocs: librep.info
#
Description: Embedable interpreter for a Lisp dialect
DescDetail: <<
librep implements a Lisp dialect called rep. The interpreter can be
run standalone or it can be embeded in applications via a library. The
language can be extended through loadable modules.
<<
DescPort: <<

Unsure if these still needed:
The compiler shipped with Mac OS X 10.1 generates incorrect code when
the default optimization (-O2) is used. We force -O0, which seems to
work so far.

mkdir() doesn't like names that end with a slash. We patch the
make-directory implementation to remove a trailing slash if present
(a mid-range hack :-).

added --libexecdir= flag to comply with fink's policy
<<
License: GPL
Homepage: http://librep.sourceforge.net/
Maintainer: None <fink-devel@lists.sourceforge.net>
