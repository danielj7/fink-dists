Package: fpc
Version: 2.2.2
Revision: 2
Architecture: powerpc, i386
Depends: fpc-config
Recommends: fpc-doc

CustomMirror: <<
eur-AT: ftp://gd.tuwien.ac.at/languages/pascal/fpc/
eur-BE: ftp://ftp.freepascal.org/pub/fpc/
eur-HU: ftp://ftp.hu.freepascal.org/pub/fpc/
eur-IL: http://mirror.mirimar.net/freepascal/
eur-NL: ftp://freepascal.stack.nl/mirrors/fpc/
eur-NO: ftp://ftp.no.freepascal.org/pub/fpc/
eur-RU: ftp://ftp.chg.ru/pub/lang/pascal/fpc/
Primary: ftp://ftp.freepascal.org/pub/fpc/
<<
Source: mirror:custom:dist/source-%v/fpcbuild-%v.tar.gz
Source-MD5: ec3d463ec9859da4122e9edfa2ab992d

Source2: mirror:custom:dist/source-%v/fpc-%v.universal-darwin.bootstrap.tar.bz2
Source2-MD5: c83b970e66468a084d6fff6c2e4a5ed1

SourceDirectory: fpcbuild-%v/fpcsrc

CompileScript: <<
#!/bin/sh -ev

# compile the compiler
  if [ "%m" = "powerpc" ]; then ppcarch="ppcppc" ; else ppcarch="ppc386" ; fi
  make all     PP=%b/../../ppcuniversal

# compile the ide
  make ide  PP=%b/compiler/$ppcarch
<<

InfoTest: <<
  TestScript: <<
#!/bin/sh -ev
  mkdir -p       freepascal-tests
  cp -R rtl      freepascal-tests
  cp -R tests    freepascal-tests
  cp -R packages freepascal-tests
  chmod -R 777   freepascal-tests
  cd             freepascal-tests/tests
<<
<<

InstallScript: <<
#!/bin/sh -ev
  if [ "%m" = "powerpc" ]; then ppcarch="ppcppc" ; else ppcarch="ppc386" ; fi
  make install           INSTALL_PREFIX=%i       PP=%b/compiler/$ppcarch FPCMAKE=%b/utils/fpcm/fpcmake
  ln -sf ../lib/fpc/%v/$ppcarch %i/bin/$ppcarch
  make ide_install       INSTALL_PREFIX=%i       PP=%b/compiler/$ppcarch FPCMAKE=%b/utils/fpcm/fpcmake
  make -C ../install/man INSTALL_PREFIX=%i/share
  make -C ../install/doc INSTALL_PREFIX=%i/share PP=%b/compiler/$ppcarch 
<<

RuntimeVars: <<
FPCDIR: %p
PPC_CONFIG_PATH: %p/etc/
<<

License: GPL/LGPL

Description: Free Pascal (aka FPK Pascal) compiler

DescDetail: <<
Free Pascal (aka FPK Pascal) is a 32 and 64 bit professional Pascal
compiler. Supported processors: Intel x86, Amd64/x86 64, PowerPC, 
Sparc, ARM.
Supported operating systems: Linux, FreeBSD, Mac OS X/Darwin, 
Mac OS classic, DOS, Win32, OS/2, Netware (libc and classic) and MorphOS.

The language syntax has excellent compatibility with TP 7.0 as well as 
with most versions of Delphi (classes, rtti, exceptions, ansistrings,
widestrings, interfaces). A Mac Pascal compatibility mode is also provided
to assist users of previous Pascal compilers for the Mac. 
Furthermore, Free Pascal supports function overloading, operator 
overloading, global properties and other modern features.

http://wiki.freepascal.org/User_Changes_2.2.2 also lists changes in fpc 2.2.2.
<<

DescUsage: <<
 This Pascal compiler produces PowerPC and x86 executables, which run 
 natively on PowerPC and x86 Macs. PowerPC executables also runs in 
 Rosetta emulation on x86 Macs. 
 Use lipo to combine PowerPC and x86 binaries to universal binaries.
 get help with: fpc -h
 compile and link a Pascal file with: 

   fpc FILENAME

 For setting up the Free Pascal IDE see: 
    http://www.freepascal.org/wiki/index.php/Textmode_IDE
 For using Free Pascal with Xcode see:
    http://www.freepascal.org/xcode.html

 With "fink --test rebuild fpc" the test suite of the compiler is executed.
 This takes quite some time, in particular on slow machines.
 Expect a small number of failed tests.

 For more documentation about Free Pascal in HTML and pdf, install fpc-doc
<<

DescPort: <<
 New:
 1) fpc.cfg file is now set in a separate package. This prepares for cross compilers.
 Still to do: universal binaries and 
 extra packages with dependent C libraries (gtk ...) .
<<

Homepage: http://www.freepascal.org
Maintainer: Karl-Michael Schindler <karl-michael.schindler@physik.uni-halle.de>
