Package: glib2
Version: 2.6.4
Revision: 1
Depends: %N-shlibs (>= %v-%r)
BuildDepends: pkgconfig (>= 0.15.0-2), gettext-dev, gettext-bin, gettext-tools, libiconv-dev
DescPackaging: <<
  Provides a .pc so other pkgs can use pkgconfig to compile against us
<<
Replaces: %N-common
Conflicts: %N-common
Source: mirror:gnome:sources/glib/2.6/glib-%v.tar.bz2
Source-MD5: af7eeb8aae764ff763418471ed6eb93d
Patch: %n.patch
NoSetCPPFLAGS: true
NoSetLDFLAGS: true
SetLIBS: -L%p/lib
SetCPPFLAGS: -no-cpp-precomp -isystem %p/include
SetCFLAGS: -O3 -funroll-loops -fstrict-aliasing
SetLIBRARY_PATH: %p/lib
ConfigureParams: --mandir=%p/share/man --disable-gtk-doc --disable-dependency-tracking
CompileScript: <<
  ./configure %c
  make -j2
  make check
<<
InstallScript: make install DESTDIR=%d
SplitOff: <<
  Package: %N-shlibs
  Depends: gettext, libiconv
  Files: lib/lib*-2.0.*.dylib
  Shlibs: <<
    %p/lib/libglib-2.0.0.dylib 601.0.0 %n (>= 2.6.4-1)
    %p/lib/libgmodule-2.0.0.dylib 601.0.0 %n (>= 2.6.4-1)
    %p/lib/libgobject-2.0.0.dylib 601.0.0 %n (>= 2.6.4-1)
    %p/lib/libgthread-2.0.0.dylib 601.0.0 %n (>= 2.6.4-1)
  <<
  DocFiles: AUTHORS COPYING ChangeLog NEWS README
<<
SplitOff2: <<
  Package: %N-dev
  Depends: %N (>= %v-%r)
  Replaces: %N (<< 2.4.0-1)
  BuildDependsOnly: True
  Files: bin include lib share/aclocal share/glib-2.0 share/gtk-doc share/man
  DocFiles: AUTHORS COPYING ChangeLog NEWS README
<<
DocFiles: AUTHORS COPYING ChangeLog NEWS README
Description: Handy library of utility functions
DescPort: <<
  glib2 provides etc/glib-2.0/charset.alias for darwin because there's
  no system-wide charset.alias.

  check doesn't run automatically, so do it manually

  check uses some C++ but it doesn't leak out into the installed
  package

  Patch array-test.c to avoid triggering bug in Apple's gcc3.3
  (claimed to be fixed in gcc4.0 and wontfix in gcc3.3). See
    http://bugzilla.gnome.org/show_bug.cgi?id=173127
<<
License: LGPL
Maintainer: The Gnome Core Team <fink-gnome-core@lists.sourceforge.net>
Homepage: http://www.gtk.org
