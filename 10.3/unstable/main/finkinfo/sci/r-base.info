Package: r-base
Version: 2.0.1
Revision: 1
Maintainer: Jeffrey Whitaker <jswhit@fastmail.fm>
Depends: tcltk, tcltk-shlibs, readline-shlibs, libjpeg-shlibs, libpng3-shlibs, pcre-shlibs
BuildDepends: readline, libjpeg, libpng3, tcltk-dev, g77, texinfo, pcre, bzip2-dev, ncurses-dev, tetex-base
Source:  http://cran.r-project.org/src/base/R-2/R-%v.tar.gz
Source-MD5: fb47b1fdef4323031e24d541a2f36b2b
GCC: 3.3
SetLDFLAGS: -lcc_dynamic
Patch: %n.patch
SourceDirectory: R-%v
ConfigureParams: --without-gnome --mandir='${prefix}/share/man' --with-tcl-config=%p/lib/tclConfig.sh --with-tk-config=%p/lib/tkConfig.sh --with-blas="-framework vecLib" --with-lapack --with-aqua  --enable-R-framework=%p/Library/Frameworks
Conflicts: r-recommended
CompileScript: <<
 #!/bin/sh
 export F77=%p/bin/g77
 ./configure %c
 make
<<
InstallScript: <<
 #!/bin/sh
 make install prefix=%i/Library/Frameworks
 make install-aqua FINKPREFIX=%i 
 perl -pi.bak -e 's|%i|%p|g' %i/Library/Frameworks/R.framework/Resources/bin/R
 perl -pi.bak -e 's|%i|%p|g' %i/Library/Frameworks/R.framework/Resources/bin/RAqua
 perl -pi.bak -e 's|%i|%p|g' %i/Library/Frameworks/R.framework/Resources/etc/Makeconf
 mkdir -p %i/bin
 ln -s %p/Library/Frameworks/R.framework/Resources/bin/R %i/bin/R
 /bin/rm -f %i/Applications/R.app/R.app
 mkdir -p %i/share/man/man1
 ln -s %p/Library/Frameworks/R.framework/Versions/%v/Resources/man1/R.1 %i/share/man/man1/R.1
<<
PostInstScript: <<
 mkdir -p /Applications/Fink
 ln -fs %p/Applications/R.app /Applications/Fink/R.app
<<
PreRmScript: <<
 /bin/rm -f /Applications/Fink/R.app
<<
Description: Environment for statistical computing
DescDetail: <<
R is similar to S, which was developed at Bell Laboratories
by John Chambers et al. It provides a wide variety of statistical and
graphical techniques (linear and nonlinear modelling, statistical
tests, time series analysis, classification, clustering, ...).
R is designed as a true computer language with control-flow
constructions for iteration and alternation, and it allows users to
add additional functionality by defining new functions. For
computationally intensive tasks, C and Fortran code can be linked and
called at run time.

The "recommended" R packages are now included in the distribution, so there
is no longer a need for a r-recommended package.  If you already have installed
an earlier version of r-recommended, remove it before installing this package.

Builds R Framework, installs in %p/Library/Frameworks.
Installs R.app in %p/Applications, with a symlink in /Applications/Fink.
command line R in %p/bin.
<<
DescPort: <<
 R_HOME_DIR variable in wrapper scripts must be re-set to installation
 directory after make install.
 Patch to configure so libR.dylib gets an install_name.
 Patch to Makefile.in to get R.app to install in %i.
 Patch to Makefile.in to prevent addition of install_name to libR.dylib.
 Patch to Makefile.in to add %p to framework path when building extensions.
<<
License: GPL
Homepage: http://cran.R-project.org/
