Info2: <<
Package: subvertpy-py%type_pkg[python]
Version: 0.9.1
Revision: 0.2461
Type: python (2.5 2.6 2.7)
Description: Python bindings for subversion
DescDetail: <<
    Python bindings for the Subversion version control system that are
    aimed to be complete, fast and feel native to Python programmers.

    Bindings are provided for the working copy, client, delta, remote
    access and repository APIs. A hookable server side implementation of
    the custom Subversion protocol (svn_ra) is also provided.

    subvertpy covers more of the APIs than python-svn. It provides a more
    "Pythonic" API than python-subversion, which wraps the Subversion C API
    pretty much directly. Neither provide a hookable server-side.
<<
Maintainer: Daniel Johnson <daniel@daniel-johnson.org>
License: LGPL2+
Homepage: http://samba.org/~jelmer/subvertpy/

#Source: http://samba.org/~jelmer/subvertpy/subvertpy-%v.tar.gz
Source: https://github.com/jelmer/subvertpy/archive/4c1bc329d5ad87033e8d99c30692ef3869c12b82.zip
SourceRename: subvertpy-2461.zip
SourceDirectory: subvertpy-4c1bc329d5ad87033e8d99c30692ef3869c12b82
Source-MD5: 0a3558569a9039569a1a2158fae30745

Depends: python%type_pkg[python], svn15-shlibs, libapr.0-shlibs
BuildDepends: fink (>= 0.24.12), svn15-dev, libapr.0-dev, libaprutil.0-dev

CompileScript: <<
    SVN_PREFIX=%p %p/bin/python%type_raw[python] setup.py build
<<

# Tests currently broken in test_info (subvertpy.tests.test_client.TestClient)
InfoTest: <<
    TestDepends: (%type_pkg[python] << 27) unittest2-py%type_pkg[python]
    TestScript: <<
        #!/bin/bash -ev
        export PYTHONPATH=`ls -d %b/build/lib*`/subvertpy
        
        if [ '%type_pkg[python]' -lt '27' ]; then
        	%p/bin/python%type_raw[python] -m unittest2.__main__ subvertpy.tests.test_suite || exit 1
        else
        	%p/bin/python%type_raw[python] -m unittest subvertpy.tests.test_suite || exit 1
        fi
    <<
<<
        
InstallScript: <<
    SVN_PREFIX=%p %p/bin/python%type_raw[python] setup.py install \
	--root=%d
	/bin/mv %i/bin/subvertpy-fast-export %i/bin/subvertpy-fast-export-py%type_pkg[python]
<<

PostInstScript: <<
	update-alternatives --install %p/bin/subvertpy-fast-export subvertpy-fast-export %p/bin/subvertpy-fast-export-py%type_pkg[python] %type_pkg[python]
<<

PreRmScript: <<
	if [ $1 != "upgrade" ]; then
		update-alternatives --remove subvertpy-fast-export %p/bin/subvertpy-fast-export-py%type_pkg[python]
	fi
<<

DocFiles: AUTHORS COPYING NEWS TODO examples
<<
