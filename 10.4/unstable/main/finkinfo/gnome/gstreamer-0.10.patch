diff -Nurd gstreamer-0.10.26/configure.ac gstreamer-0.10.26-new/configure.ac
--- gstreamer-0.10.26/configure.ac	2010-02-10 09:29:02.000000000 -0500
+++ gstreamer-0.10.26-new/configure.ac	2010-02-11 11:56:20.000000000 -0500
@@ -63,7 +63,6 @@
 
 dnl set up gettext
 dnl the version check needs to stay here because autopoint greps for it
-AM_GNU_GETTEXT_VERSION([0.17])
 AM_GNU_GETTEXT([external])
 AG_GST_GETTEXT([gstreamer-$GST_MAJORMINOR])
 
diff -Nurd gstreamer-0.10.26/docs/plugins/Makefile.am gstreamer-0.10.26-new/docs/plugins/Makefile.am
--- gstreamer-0.10.26/docs/plugins/Makefile.am	2009-11-18 04:31:00.000000000 -0500
+++ gstreamer-0.10.26-new/docs/plugins/Makefile.am	2010-02-11 11:56:20.000000000 -0500
@@ -103,7 +103,7 @@
 
 # CFLAGS and LDFLAGS for compiling scan program. Only needed if your app/lib
 # contains GtkObjects/GObjects and you want to document signals and properties.
-GTKDOC_CFLAGS = $(GST_OBJ_CFLAGS) -I$(top_builddir) -I$(top_builddir)/libs
+GTKDOC_CFLAGS = -I$(top_builddir) -I$(top_builddir)/libs $(GST_OBJ_CFLAGS)
 GTKDOC_LIBS = $(SCANOBJ_DEPS) $(GST_OBJ_LIBS)
 
 GTKDOC_CC=$(LIBTOOL) --tag=CC --mode=compile $(CC)
diff -Nurd gstreamer-0.10.26/docs/plugins/Makefile.am.orig gstreamer-0.10.26-new/docs/plugins/Makefile.am.orig
--- gstreamer-0.10.26/docs/plugins/Makefile.am.orig	1969-12-31 19:00:00.000000000 -0500
+++ gstreamer-0.10.26-new/docs/plugins/Makefile.am.orig	2009-11-18 04:31:00.000000000 -0500
@@ -0,0 +1,117 @@
+GST_DOC_SCANOBJ = $(top_srcdir)/common/gstdoc-scangobj
+
+## Process this file with automake to produce Makefile.in
+
+# The name of the module, e.g. 'glib'.
+#DOC_MODULE=gst-plugins-libs-@GST_MAJORMINOR@
+MODULE=gstreamer
+DOC_MODULE=$(MODULE)-plugins
+
+# for upload-doc.mak
+DOC=$(MODULE)-plugins
+FORMATS=html
+html: html-build.stamp
+include $(top_srcdir)/common/upload-doc.mak
+
+# Extra environment needed for Core only...
+INSPECT_EXTRA_ENVIRONMENT= \
+    GST_PLUGIN_SCANNER=$(top_builddir)/libs/gst/helpers/gst-plugin-scanner
+
+# generated basefiles
+#basefiles = \
+##		$(DOC_MODULE).types \
+#		$(DOC_MODULE)-sections.txt \
+#		$(DOC_MODULE)-docs.sgml
+
+# ugly hack to make -unused.sgml work
+#unused-build.stamp:
+#	BUILDDIR=`pwd` && \
+#	cd $(srcdir)/tmpl && \
+#	ln -sf gstreamer-libs-unused.sgml \
+#		$$BUILDDIR/tmpl/gstreamer-libs-@GST_MAJORMINOR@-unused.sgml
+#	touch unused-build.stamp
+
+# these rules are added to create parallel docs using GST_MAJORMINOR
+#$(basefiles): gstreamer-libs-@GST_MAJORMINOR@%: gstreamer-libs%
+#	cp $< $@
+
+#CLEANFILES = $(basefiles)
+
+# The top-level SGML file. Change it if you want.
+DOC_MAIN_SGML_FILE=$(DOC_MODULE)-docs.sgml
+
+# The directory containing the source code. Relative to $(top_srcdir).
+# gtk-doc will search all .c & .h files beneath here for inline comments
+# documenting functions and macros.
+DOC_SOURCE_DIR = $(top_srcdir)/plugins
+
+# Extra options to supply to gtkdoc-scan.
+SCAN_OPTIONS=
+
+# Extra options to supply to gtkdoc-mkdb.
+MKDB_OPTIONS=--sgml-mode
+
+# Extra options to supply to gtkdoc-fixref.
+FIXXREF_OPTIONS=--extra-dir=$(GLIB_PREFIX)/share/gtk-doc/html \
+	--extra-dir=$(datadir)/gtk-doc/html
+
+# Used for dependencies.
+HFILE_GLOB=$(DOC_SOURCE_DIR)/*/*.h
+CFILE_GLOB=$(DOC_SOURCE_DIR)/*/*.c
+
+# this is a wingo addition
+# thomasvs: another nice wingo addition would be an explanation on why
+# this is useful ;)
+
+SCANOBJ_DEPS =
+
+# Header files to ignore when scanning.
+IGNORE_HFILES =
+IGNORE_CFILES =
+
+# we add all .h files of elements that have signals/args we want
+# sadly this also pulls in the private methods - maybe we should
+# move those around in the source ?
+# also, we should add some stuff here conditionally based on whether
+# or not the plugin will actually build
+# but I'm not sure about that - it might be this Just Works given that
+# the registry won't have the element
+
+EXTRA_HFILES = \
+	$(top_srcdir)/plugins/elements/gstcapsfilter.h \
+	$(top_srcdir)/plugins/elements/gstfakesrc.h \
+	$(top_srcdir)/plugins/elements/gstfakesink.h \
+	$(top_srcdir)/plugins/elements/gstfdsink.h \
+	$(top_srcdir)/plugins/elements/gstfdsrc.h \
+	$(top_srcdir)/plugins/elements/gstfilesrc.h \
+	$(top_srcdir)/plugins/elements/gstfilesink.h \
+	$(top_srcdir)/plugins/elements/gstidentity.h \
+	$(top_srcdir)/plugins/elements/gstmultiqueue.h \
+	$(top_srcdir)/plugins/elements/gstqueue.h \
+	$(top_srcdir)/plugins/elements/gstqueue2.h \
+	$(top_srcdir)/plugins/elements/gsttypefindelement.h \
+	$(top_srcdir)/plugins/elements/gsttee.h
+
+# Images to copy into HTML directory.
+HTML_IMAGES =
+
+# Extra SGML files that are included by $(DOC_MAIN_SGML_FILE).
+content_files =
+
+# Other files to distribute.
+extra_files =
+
+# CFLAGS and LDFLAGS for compiling scan program. Only needed if your app/lib
+# contains GtkObjects/GObjects and you want to document signals and properties.
+GTKDOC_CFLAGS = $(GST_OBJ_CFLAGS) -I$(top_builddir) -I$(top_builddir)/libs
+GTKDOC_LIBS = $(SCANOBJ_DEPS) $(GST_OBJ_LIBS)
+
+GTKDOC_CC=$(LIBTOOL) --tag=CC --mode=compile $(CC)
+GTKDOC_LD=$(LIBTOOL) --tag=CC --mode=link $(CC)
+
+# If you need to override some of the declarations, place them in this file
+# and uncomment this line.
+#DOC_OVERRIDES = $(DOC_MODULE)-overrides.txt
+DOC_OVERRIDES =
+
+include $(top_srcdir)/common/gtk-doc-plugins.mak
diff -Nurd gstreamer-0.10.26/gst/Makefile.am gstreamer-0.10.26-new/gst/Makefile.am
--- gstreamer-0.10.26/gst/Makefile.am	2009-10-06 15:03:56.000000000 -0400
+++ gstreamer-0.10.26-new/gst/Makefile.am	2010-02-11 11:56:20.000000000 -0500
@@ -119,7 +119,7 @@
 # DISTCLEANFILES is for files generated by configure
 DISTCLEANFILES = $(built_header_configure)
 
-libgstreamer_@GST_MAJORMINOR@_la_CFLAGS =		\
+libgstreamer_@GST_MAJORMINOR@_la_CPPFLAGS =		\
 	-D_GNU_SOURCE					\
 	-DGST_EXPORTS					\
 	-DG_LOG_DOMAIN=g_log_domain_gstreamer 		\
diff -Nurd gstreamer-0.10.26/gst/parse/Makefile.am gstreamer-0.10.26-new/gst/parse/Makefile.am
--- gstreamer-0.10.26/gst/parse/Makefile.am	2009-05-21 14:43:04.000000000 -0400
+++ gstreamer-0.10.26-new/gst/parse/Makefile.am	2010-02-11 11:56:20.000000000 -0500
@@ -14,7 +14,7 @@
 nodist_libgstparse_la_SOURCES = lex._gst_parse_yy.c grammar.tab.c
 CLEANFILES += grammar.tab.c lex._gst_parse_yy.c
 
-libgstparse_la_CFLAGS = $(GST_ALL_CFLAGS)
+libgstparse_la_CPPFLAGS = $(GST_ALL_CFLAGS)
 libgstparse_la_LIBADD = $(GST_ALL_LIBS)
 
 noinst_HEADERS = grammar.tab.h types.h
diff -Nurd gstreamer-0.10.26/libs/gst/base/Makefile.am gstreamer-0.10.26-new/libs/gst/base/Makefile.am
--- gstreamer-0.10.26/libs/gst/base/Makefile.am	2009-10-08 04:36:38.000000000 -0400
+++ gstreamer-0.10.26-new/libs/gst/base/Makefile.am	2010-02-11 11:56:20.000000000 -0500
@@ -15,7 +15,7 @@
 	gsttypefindhelper.c	\
 	gstdataqueue.c
 
-libgstbase_@GST_MAJORMINOR@_la_CFLAGS = $(GST_OBJ_CFLAGS)
+libgstbase_@GST_MAJORMINOR@_la_CPPFLAGS = $(GST_OBJ_CFLAGS)
 libgstbase_@GST_MAJORMINOR@_la_LIBADD = $(GST_OBJ_LIBS)
 libgstbase_@GST_MAJORMINOR@_la_LDFLAGS = $(GST_LIB_LDFLAGS) $(GST_ALL_LDFLAGS) $(GST_LT_LDFLAGS)
 
diff -Nurd gstreamer-0.10.26/libs/gst/base/Makefile.am.orig gstreamer-0.10.26-new/libs/gst/base/Makefile.am.orig
--- gstreamer-0.10.26/libs/gst/base/Makefile.am.orig	1969-12-31 19:00:00.000000000 -0500
+++ gstreamer-0.10.26-new/libs/gst/base/Makefile.am.orig	2009-10-08 04:36:38.000000000 -0400
@@ -0,0 +1,84 @@
+lib_LTLIBRARIES = libgstbase-@GST_MAJORMINOR@.la
+
+libgstbase_@GST_MAJORMINOR@_la_DEPENDENCIES = \
+	$(top_builddir)/gst/libgstreamer-@GST_MAJORMINOR@.la
+libgstbase_@GST_MAJORMINOR@_la_SOURCES = \
+	gstadapter.c		\
+	gstbasesink.c		\
+	gstbasesrc.c		\
+	gstbasetransform.c	\
+	gstbitreader.c		\
+	gstbytereader.c		\
+	gstbytewriter.c         \
+	gstcollectpads.c	\
+	gstpushsrc.c		\
+	gsttypefindhelper.c	\
+	gstdataqueue.c
+
+libgstbase_@GST_MAJORMINOR@_la_CFLAGS = $(GST_OBJ_CFLAGS)
+libgstbase_@GST_MAJORMINOR@_la_LIBADD = $(GST_OBJ_LIBS)
+libgstbase_@GST_MAJORMINOR@_la_LDFLAGS = $(GST_LIB_LDFLAGS) $(GST_ALL_LDFLAGS) $(GST_LT_LDFLAGS)
+
+libgstbase_@GST_MAJORMINOR@includedir =		\
+	$(includedir)/gstreamer-@GST_MAJORMINOR@/gst/base
+
+libgstbase_@GST_MAJORMINOR@include_HEADERS =	\
+	gstadapter.h		\
+	gstbasesink.h		\
+	gstbasesrc.h		\
+	gstbasetransform.h	\
+	gstbitreader.h		\
+	gstbytereader.h		\
+	gstbytewriter.h         \
+	gstcollectpads.h	\
+	gstpushsrc.h		\
+	gsttypefindhelper.h	\
+	gstdataqueue.h
+
+noinst_HEADERS = \
+	gstbytereader-docs.h
+
+CLEANFILES = *.gcno *.gcda *.gcov
+
+%.c.gcov: .libs/libgstbase_@GST_MAJORMINOR@_la-%.gcda %.c
+	$(GCOV) -b -f -o $^ > $@.out
+
+gcov: $(libgstbase_@GST_MAJORMINOR@_la_SOURCES:=.gcov)
+
+if HAVE_INTROSPECTION
+BUILT_GIRSOURCES = GstBase-@GST_MAJORMINOR@.gir
+
+gir_headers=$(patsubst %,$(srcdir)/%, $(libgstbase_@GST_MAJORMINOR@include_HEADERS))
+gir_sources=$(patsubst %,$(srcdir)/%, $(libgstbase_@GST_MAJORMINOR@_la_SOURCES))
+gir_cincludes=$(patsubst %,--c-include='gst/base/%',$(libgstbase_@GST_MAJORMINOR@include_HEADERS))
+
+GstBase-@GST_MAJORMINOR@.gir: $(INTROSPECTION_SCANNER) libgstbase-@GST_MAJORMINOR@.la
+	PKG_CONFIG_PATH="$(PKG_CONFIG_PATH):$(top_builddir)/pkgconfig" \
+		$(INTROSPECTION_SCANNER) -v --namespace GstBase \
+		--nsversion=@GST_MAJORMINOR@ \
+		--strip-prefix=Gst \
+		-I$(top_srcdir) \
+		$(gir_cincludes) \
+		--add-include-path=$(top_builddir)/gst \
+		--library=gstbase-0.10 \
+		--include=Gst-0.10 \
+		--libtool="$(top_builddir)/libtool" \
+		--pkg gstreamer-0.10 \
+		--output $@ \
+		$(gir_headers) \
+		$(gir_sources)
+
+# INTROSPECTION_GIRDIR/INTROSPECTION_TYPELIBDIR aren't the right place to
+# install anything - we need to install inside our prefix.
+girdir = $(datadir)/gir-1.0
+gir_DATA = $(BUILT_GIRSOURCES)
+
+typelibsdir = $(libdir)/girepository-1.0/
+
+typelibs_DATA = $(BUILT_GIRSOURCES:.gir=.typelib)
+
+%.typelib: %.gir $(INTROSPECTION_COMPILER)
+	$(INTROSPECTION_COMPILER) --includedir=$(srcdir) --includedir=$(builddir) --includedir=$(top_builddir)/gst $(INTROSPECTION_COMPILER_OPTS) $< -o $(@F)
+
+CLEANFILES += $(BUILT_GIRSOURCES) $(typelibs_DATA)
+endif
diff -Nurd gstreamer-0.10.26/libs/gst/check/Makefile.am gstreamer-0.10.26-new/libs/gst/check/Makefile.am
--- gstreamer-0.10.26/libs/gst/check/Makefile.am	2009-11-18 14:20:57.000000000 -0500
+++ gstreamer-0.10.26-new/libs/gst/check/Makefile.am	2010-02-11 11:57:04.000000000 -0500
@@ -13,7 +13,7 @@
 	gstcheck.c				\
 	gstconsistencychecker.c
 
-libgstcheck_@GST_MAJORMINOR@_la_CFLAGS = $(GST_OBJ_CFLAGS) \
+libgstcheck_@GST_MAJORMINOR@_la_CPPFLAGS = $(GST_OBJ_CFLAGS) \
 	-I$(top_builddir)/libs \
 	-I$(top_builddir)/libs/gst/check \
 	-I$(top_builddir)/libs/gst/check/libcheck
diff -Nurd gstreamer-0.10.26/libs/gst/controller/Makefile.am gstreamer-0.10.26-new/libs/gst/controller/Makefile.am
--- gstreamer-0.10.26/libs/gst/controller/Makefile.am	2009-10-06 15:03:56.000000000 -0400
+++ gstreamer-0.10.26-new/libs/gst/controller/Makefile.am	2010-02-11 11:56:20.000000000 -0500
@@ -21,7 +21,7 @@
 	gstinterpolationcontrolsource.c \
 	gstlfocontrolsource.c
 
-libgstcontroller_@GST_MAJORMINOR@_la_CFLAGS = $(GST_OBJ_CFLAGS)
+libgstcontroller_@GST_MAJORMINOR@_la_CPPFLAGS = $(GST_OBJ_CFLAGS)
 libgstcontroller_@GST_MAJORMINOR@_la_LIBADD = $(GST_OBJ_LIBS) $(LIBM)
 libgstcontroller_@GST_MAJORMINOR@_la_LDFLAGS = $(GST_LIB_LDFLAGS) $(GST_ALL_LDFLAGS) $(GST_LT_LDFLAGS)
 
diff -Nurd gstreamer-0.10.26/libs/gst/dataprotocol/Makefile.am gstreamer-0.10.26-new/libs/gst/dataprotocol/Makefile.am
--- gstreamer-0.10.26/libs/gst/dataprotocol/Makefile.am	2009-10-06 15:03:56.000000000 -0400
+++ gstreamer-0.10.26-new/libs/gst/dataprotocol/Makefile.am	2010-02-11 11:56:20.000000000 -0500
@@ -8,7 +8,7 @@
 libgstdataprotocol_@GST_MAJORMINOR@_la_SOURCES = \
     dataprotocol.c
 
-libgstdataprotocol_@GST_MAJORMINOR@_la_CFLAGS = $(GST_OBJ_CFLAGS)
+libgstdataprotocol_@GST_MAJORMINOR@_la_CPPFLAGS = $(GST_OBJ_CFLAGS)
 libgstdataprotocol_@GST_MAJORMINOR@_la_LIBADD = $(GST_OBJ_LIBS)
 libgstdataprotocol_@GST_MAJORMINOR@_la_LDFLAGS = $(GST_LIB_LDFLAGS) $(GST_ALL_LDFLAGS) $(GST_LT_LDFLAGS)
 
diff -Nurd gstreamer-0.10.26/libs/gst/net/Makefile.am gstreamer-0.10.26-new/libs/gst/net/Makefile.am
--- gstreamer-0.10.26/libs/gst/net/Makefile.am	2009-10-06 15:03:56.000000000 -0400
+++ gstreamer-0.10.26-new/libs/gst/net/Makefile.am	2010-02-11 11:56:20.000000000 -0500
@@ -12,7 +12,7 @@
     gstnettimepacket.c \
     gstnettimeprovider.c
 
-libgstnet_@GST_MAJORMINOR@_la_CFLAGS = $(GST_OBJ_CFLAGS)
+libgstnet_@GST_MAJORMINOR@_la_CPPFLAGS = $(GST_OBJ_CFLAGS)
 libgstnet_@GST_MAJORMINOR@_la_LIBADD = $(GST_OBJ_LIBS) $(INET_ATON_LIBS) $(WIN32_LIBS)
 libgstnet_@GST_MAJORMINOR@_la_LDFLAGS = $(GST_LIB_LDFLAGS) $(GST_ALL_LDFLAGS) $(GST_LT_LDFLAGS)
 
diff -Nurd gstreamer-0.10.26/plugins/elements/Makefile.am gstreamer-0.10.26-new/plugins/elements/Makefile.am
--- gstreamer-0.10.26/plugins/elements/Makefile.am	2009-11-02 03:49:56.000000000 -0500
+++ gstreamer-0.10.26-new/plugins/elements/Makefile.am	2010-02-11 11:56:20.000000000 -0500
@@ -26,7 +26,7 @@
 	gsttypefindelement.c	\
 	gstmultiqueue.c
 
-libgstcoreelements_la_CFLAGS = $(GST_OBJ_CFLAGS)
+libgstcoreelements_la_CPPFLAGS = $(GST_OBJ_CFLAGS)
 libgstcoreelements_la_LIBADD = \
 	$(top_builddir)/libs/gst/base/libgstbase-@GST_MAJORMINOR@.la \
 	$(GST_OBJ_LIBS)
diff -Nurd gstreamer-0.10.26/plugins/elements/Makefile.am.orig gstreamer-0.10.26-new/plugins/elements/Makefile.am.orig
--- gstreamer-0.10.26/plugins/elements/Makefile.am.orig	1969-12-31 19:00:00.000000000 -0500
+++ gstreamer-0.10.26-new/plugins/elements/Makefile.am.orig	2009-11-02 03:49:56.000000000 -0500
@@ -0,0 +1,60 @@
+
+plugin_LTLIBRARIES = libgstcoreelements.la
+
+if HAVE_SYS_SOCKET_H
+GSTFDSRC = gstfdsrc.c
+GSTFDSINK = gstfdsink.c
+else
+GSTFDSRC =
+GSTFDSINK =
+endif
+
+libgstcoreelements_la_DEPENDENCIES = $(top_builddir)/gst/libgstreamer-@GST_MAJORMINOR@.la
+libgstcoreelements_la_SOURCES =	\
+	gstcapsfilter.c		\
+	gstelements.c		\
+	gstfakesrc.c		\
+	gstfakesink.c		\
+	$(GSTFDSRC)		\
+	$(GSTFDSINK)		\
+	gstfilesink.c		\
+	gstfilesrc.c		\
+	gstidentity.c		\
+	gstqueue.c		\
+	gstqueue2.c		\
+	gsttee.c		\
+	gsttypefindelement.c	\
+	gstmultiqueue.c
+
+libgstcoreelements_la_CFLAGS = $(GST_OBJ_CFLAGS)
+libgstcoreelements_la_LIBADD = \
+	$(top_builddir)/libs/gst/base/libgstbase-@GST_MAJORMINOR@.la \
+	$(GST_OBJ_LIBS)
+libgstcoreelements_la_LDFLAGS = $(GST_PLUGIN_LDFLAGS)
+libgstcoreelements_la_LIBTOOLFLAGS = --tag=disable-static
+
+noinst_HEADERS =		\
+	gstcapsfilter.h		\
+	gstfakesink.h		\
+	gstfakesrc.h		\
+	gstfdsrc.h		\
+	gstfdsink.h		\
+	gstfilesink.h		\
+	gstfilesrc.h		\
+	gstidentity.h		\
+	gstqueue.h		\
+	gstqueue2.h		\
+	gsttee.h		\
+	gsttypefindelement.h	\
+	gstmultiqueue.h
+
+EXTRA_DIST = gstfdsrc.c \
+	     gstfdsink.c
+
+
+CLEANFILES = *.gcno *.gcda *.gcov *.gcov.out
+
+%.c.gcov: .libs/libgstcoreelements_la-%.gcda %.c
+	$(GCOV) -b -f -o $^ > $@.out
+
+gcov: $(libgstcoreelements_la_SOURCES:=.gcov)
diff -Nurd gstreamer-0.10.26/plugins/indexers/Makefile.am gstreamer-0.10.26-new/plugins/indexers/Makefile.am
--- gstreamer-0.10.26/plugins/indexers/Makefile.am	2009-05-21 14:43:04.000000000 -0400
+++ gstreamer-0.10.26-new/plugins/indexers/Makefile.am	2010-02-11 11:56:20.000000000 -0500
@@ -16,7 +16,7 @@
 
 libgstcoreindexers_la_DEPENDENCIES = $(top_builddir)/gst/libgstreamer-@GST_MAJORMINOR@.la
 libgstcoreindexers_la_SOURCES = gstindexers.c gstmemindex.c $(GST_LOADSAVE_SRC)
-libgstcoreindexers_la_CFLAGS = $(GST_OBJ_CFLAGS)
+libgstcoreindexers_la_CPPFLAGS = $(GST_OBJ_CFLAGS)
 libgstcoreindexers_la_LIBADD = $(GST_OBJ_LIBS) $(GST_FILEINDEX_LIBS)
 libgstcoreindexers_la_LDFLAGS = $(GST_PLUGIN_LDFLAGS)
 libgstcoreindexers_la_LIBTOOLFLAGS = --tag=disable-static
diff -Nurd gstreamer-0.10.26/tests/benchmarks/Makefile.am gstreamer-0.10.26-new/tests/benchmarks/Makefile.am
--- gstreamer-0.10.26/tests/benchmarks/Makefile.am	2009-10-07 04:38:28.000000000 -0400
+++ gstreamer-0.10.26-new/tests/benchmarks/Makefile.am	2010-02-11 11:56:20.000000000 -0500
@@ -9,7 +9,7 @@
 	gstbufferstress
 
 LDADD = $(GST_OBJ_LIBS)
-AM_CFLAGS = $(GST_OBJ_CFLAGS)
+AM_CPPFLAGS = $(GST_OBJ_CFLAGS)
 
 controller_CFLAGS  = $(GST_OBJ_CFLAGS) -I$(top_builddir)/libs
 controller_LDFLAGS = $(top_builddir)/libs/gst/controller/libgstcontroller-@GST_MAJORMINOR@.la
diff -Nurd gstreamer-0.10.26/tests/benchmarks/Makefile.am.orig gstreamer-0.10.26-new/tests/benchmarks/Makefile.am.orig
--- gstreamer-0.10.26/tests/benchmarks/Makefile.am.orig	1969-12-31 19:00:00.000000000 -0500
+++ gstreamer-0.10.26-new/tests/benchmarks/Makefile.am.orig	2009-10-07 04:38:28.000000000 -0400
@@ -0,0 +1,16 @@
+noinst_PROGRAMS = \
+        caps \
+        complexity \
+        controller \
+        init \
+        mass-elements \
+        gstpollstress \
+        gstclockstress	\
+	gstbufferstress
+
+LDADD = $(GST_OBJ_LIBS)
+AM_CFLAGS = $(GST_OBJ_CFLAGS)
+
+controller_CFLAGS  = $(GST_OBJ_CFLAGS) -I$(top_builddir)/libs
+controller_LDFLAGS = $(top_builddir)/libs/gst/controller/libgstcontroller-@GST_MAJORMINOR@.la
+
diff -Nurd gstreamer-0.10.26/tests/check/Makefile.am gstreamer-0.10.26-new/tests/check/Makefile.am
--- gstreamer-0.10.26/tests/check/Makefile.am	2009-11-18 04:31:00.000000000 -0500
+++ gstreamer-0.10.26-new/tests/check/Makefile.am	2010-02-11 11:57:53.000000000 -0500
@@ -141,7 +141,7 @@
 EXTRA_DIST = \
 	libs/test_transform.c
 
-AM_CFLAGS = $(GST_OBJ_CFLAGS) $(CHECK_CFLAGS)
+AM_CPPFLAGS = $(GST_OBJ_CFLAGS) $(CHECK_CFLAGS)
 LDADD = $(top_builddir)/libs/gst/check/libgstcheck-@GST_MAJORMINOR@.la \
 	$(top_builddir)/libs/gst/base/libgstbase-@GST_MAJORMINOR@.la \
 	$(GST_OBJ_LIBS) \
@@ -151,13 +151,13 @@
 
 libs_gdp_SOURCES = \
 	libs/gdp.c
-libs_gdp_CFLAGS = $(AM_CFLAGS)
+libs_gdp_CPPFLAGS = $(AM_CPPFLAGS)
 libs_gdp_LDADD = \
 	$(top_builddir)/libs/gst/dataprotocol/libgstdataprotocol-@GST_MAJORMINOR@.la \
 	$(LDADD)
 
-elements_fdsrc_CFLAGS=$(GST_OBJ_CFLAGS) $(CHECK_CFLAGS) -DTESTFILE=\"$(top_srcdir)/configure.ac\"
-elements_filesrc_CFLAGS=$(GST_OBJ_CFLAGS) $(CHECK_CFLAGS) -DTESTFILE=\"$(top_srcdir)/configure.ac\"
+elements_fdsrc_CPPFLAGS=$(GST_OBJ_CFLAGS) $(CHECK_CFLAGS) -DTESTFILE=\"$(top_srcdir)/configure.ac\"
+elements_filesrc_CPPFLAGS=$(GST_OBJ_CFLAGS) $(CHECK_CFLAGS) -DTESTFILE=\"$(top_srcdir)/configure.ac\"
 
 libs_controller_LDADD = \
 	$(top_builddir)/libs/gst/controller/libgstcontroller-@GST_MAJORMINOR@.la \
diff -Nurd gstreamer-0.10.26/tests/examples/adapter/Makefile.am gstreamer-0.10.26-new/tests/examples/adapter/Makefile.am
--- gstreamer-0.10.26/tests/examples/adapter/Makefile.am	2009-05-21 14:43:04.000000000 -0400
+++ gstreamer-0.10.26-new/tests/examples/adapter/Makefile.am	2010-02-11 11:56:20.000000000 -0500
@@ -1,4 +1,4 @@
 noinst_PROGRAMS = adapter_test
 
 adapter_test_LDADD = $(GST_OBJ_LIBS) $(top_builddir)/libs/gst/base/libgstbase-@GST_MAJORMINOR@.la
-adapter_test_CFLAGS = $(GST_OBJ_CFLAGS)
+adapter_test_CPPFLAGS = $(GST_OBJ_CFLAGS)
diff -Nurd gstreamer-0.10.26/tests/examples/controller/Makefile.am gstreamer-0.10.26-new/tests/examples/controller/Makefile.am
--- gstreamer-0.10.26/tests/examples/controller/Makefile.am	2009-05-21 14:43:04.000000000 -0400
+++ gstreamer-0.10.26-new/tests/examples/controller/Makefile.am	2010-02-11 11:56:20.000000000 -0500
@@ -1,5 +1,5 @@
 noinst_PROGRAMS = audio-example
 
-audio_example_CFLAGS  = $(GST_OBJ_CFLAGS) -I$(top_builddir)/libs
+audio_example_CPPFLAGS  = -I$(top_builddir)/libs $(GST_OBJ_CFLAGS)
 audio_example_LDADD = $(GST_OBJ_LIBS)
 audio_example_LDFLAGS = $(top_builddir)/libs/gst/controller/libgstcontroller-@GST_MAJORMINOR@.la
diff -Nurd gstreamer-0.10.26/tests/examples/helloworld/Makefile.am gstreamer-0.10.26-new/tests/examples/helloworld/Makefile.am
--- gstreamer-0.10.26/tests/examples/helloworld/Makefile.am	2009-05-21 14:43:04.000000000 -0400
+++ gstreamer-0.10.26-new/tests/examples/helloworld/Makefile.am	2010-02-11 11:56:20.000000000 -0500
@@ -1,4 +1,4 @@
 noinst_PROGRAMS = helloworld
 
 helloworld_LDADD = $(GST_OBJ_LIBS)
-helloworld_CFLAGS = $(GST_OBJ_CFLAGS)
+helloworld_CPPFLAGS = $(GST_OBJ_CFLAGS)
diff -Nurd gstreamer-0.10.26/tests/examples/launch/Makefile.am gstreamer-0.10.26-new/tests/examples/launch/Makefile.am
--- gstreamer-0.10.26/tests/examples/launch/Makefile.am	2009-05-21 14:43:04.000000000 -0400
+++ gstreamer-0.10.26-new/tests/examples/launch/Makefile.am	2010-02-11 11:56:20.000000000 -0500
@@ -1,7 +1,7 @@
 noinst_PROGRAMS = mp3parselaunch
 
 mp3parselaunch_LDADD = $(GST_OBJ_LIBS)
-mp3parselaunch_CFLAGS = $(GST_OBJ_CFLAGS)
+mp3parselaunch_CPPFLAGS = $(GST_OBJ_CFLAGS)
 
 #noinst_SCRIPTS = mp3play
 #EXTRA_DIST = mp3play
diff -Nurd gstreamer-0.10.26/tests/examples/metadata/Makefile.am gstreamer-0.10.26-new/tests/examples/metadata/Makefile.am
--- gstreamer-0.10.26/tests/examples/metadata/Makefile.am	2009-05-21 14:43:04.000000000 -0400
+++ gstreamer-0.10.26-new/tests/examples/metadata/Makefile.am	2010-02-11 11:56:20.000000000 -0500
@@ -1,4 +1,4 @@
 noinst_PROGRAMS = read-metadata
 
 read_metadata_LDADD = $(GST_OBJ_LIBS)
-read_metadata_CFLAGS = $(GST_OBJ_CFLAGS)
+read_metadata_CPPFLAGS = $(GST_OBJ_CFLAGS)
diff -Nurd gstreamer-0.10.26/tests/examples/queue/Makefile.am gstreamer-0.10.26-new/tests/examples/queue/Makefile.am
--- gstreamer-0.10.26/tests/examples/queue/Makefile.am	2009-05-21 14:43:04.000000000 -0400
+++ gstreamer-0.10.26-new/tests/examples/queue/Makefile.am	2010-02-11 11:56:20.000000000 -0500
@@ -1,5 +1,5 @@
 noinst_PROGRAMS = queue
 
 queue_LDADD = $(GST_OBJ_LIBS)
-queue_CFLAGS = $(GST_OBJ_CFLAGS)
+queue_CPPFLAGS = $(GST_OBJ_CFLAGS)
 
diff -Nurd gstreamer-0.10.26/tests/examples/typefind/Makefile.am gstreamer-0.10.26-new/tests/examples/typefind/Makefile.am
--- gstreamer-0.10.26/tests/examples/typefind/Makefile.am	2009-05-21 14:43:04.000000000 -0400
+++ gstreamer-0.10.26-new/tests/examples/typefind/Makefile.am	2010-02-11 11:56:20.000000000 -0500
@@ -1,5 +1,5 @@
 noinst_PROGRAMS = typefind
 
 typefind_LDADD = $(GST_OBJ_LIBS)
-typefind_CFLAGS = $(GST_OBJ_CFLAGS)
+typefind_CPPFLAGS = $(GST_OBJ_CFLAGS)
 
diff -Nurd gstreamer-0.10.26/tests/examples/xml/Makefile.am gstreamer-0.10.26-new/tests/examples/xml/Makefile.am
--- gstreamer-0.10.26/tests/examples/xml/Makefile.am	2009-10-27 20:43:38.000000000 -0400
+++ gstreamer-0.10.26-new/tests/examples/xml/Makefile.am	2010-02-11 11:58:11.000000000 -0500
@@ -1,7 +1,7 @@
 noinst_PROGRAMS = createxml runxml
 
 createxml_LDADD = $(GST_OBJ_LIBS) $(XML_LIBS)
-createxml_CFLAGS = $(GST_OBJ_CFLAGS)
+createxml_CPPFLAGS = $(GST_OBJ_CFLAGS)
 runxml_LDADD = $(GST_OBJ_LIBS) $(XML_LIBS)
-runxml_CFLAGS = $(GST_OBJ_CFLAGS)
+runxml_CPPFLAGS = $(GST_OBJ_CFLAGS)
 
diff -Nurd gstreamer-0.10.26/tools/Makefile.am gstreamer-0.10.26-new/tools/Makefile.am
--- gstreamer-0.10.26/tools/Makefile.am	2009-05-21 14:43:04.000000000 -0400
+++ gstreamer-0.10.26-new/tools/Makefile.am	2010-02-11 11:56:20.000000000 -0500
@@ -38,24 +38,24 @@
 # make sure each versioned tool has the right source file and flags
 if !GST_DISABLE_LOADSAVE
 gst_xmllaunch_@GST_MAJORMINOR@_SOURCES = gst-launch.c tools.h
-gst_xmllaunch_@GST_MAJORMINOR@_CFLAGS = $(GST_OBJ_CFLAGS)
+gst_xmllaunch_@GST_MAJORMINOR@_CPPFLAGS = $(GST_OBJ_CFLAGS)
 gst_xmllaunch_@GST_MAJORMINOR@_LDFLAGS = $(GST_OBJ_LIBS)
 endif
 
 if !GST_DISABLE_PARSE
 gst_launch_@GST_MAJORMINOR@_SOURCES = gst-launch.c tools.h
-gst_launch_@GST_MAJORMINOR@_CFLAGS = $(GST_OBJ_CFLAGS)
+gst_launch_@GST_MAJORMINOR@_CPPFLAGS = $(GST_OBJ_CFLAGS)
 gst_launch_@GST_MAJORMINOR@_LDFLAGS = $(GST_OBJ_LIBS)
 endif
 
 gst_inspect_@GST_MAJORMINOR@_SOURCES = gst-inspect.c tools.h
-gst_inspect_@GST_MAJORMINOR@_CFLAGS = $(GST_OBJ_CFLAGS)
+gst_inspect_@GST_MAJORMINOR@_CPPFLAGS = $(GST_OBJ_CFLAGS)
 gst_inspect_@GST_MAJORMINOR@_LDFLAGS = $(GST_OBJ_LIBS)
 gst_typefind_@GST_MAJORMINOR@_SOURCES = gst-typefind.c tools.h
-gst_typefind_@GST_MAJORMINOR@_CFLAGS = $(GST_OBJ_CFLAGS)
+gst_typefind_@GST_MAJORMINOR@_CPPFLAGS = $(GST_OBJ_CFLAGS)
 gst_typefind_@GST_MAJORMINOR@_LDFLAGS = $(GST_OBJ_LIBS)
 gst_xmlinspect_@GST_MAJORMINOR@_SOURCES = gst-xmlinspect.c tools.h
-gst_xmlinspect_@GST_MAJORMINOR@_CFLAGS = $(GST_OBJ_CFLAGS)
+gst_xmlinspect_@GST_MAJORMINOR@_CPPFLAGS = $(GST_OBJ_CFLAGS)
 gst_xmlinspect_@GST_MAJORMINOR@_LDFLAGS = $(GST_OBJ_LIBS)
 
 gst-feedback-@GST_MAJORMINOR@: gst-feedback-m.m
@@ -77,7 +77,7 @@
 gst_xmlinspect_SOURCES = gst-run.c
 
 # CFLAGS and libs for nonversioned frontend binaries
-AM_CFLAGS = $(GLIB_ONLY_CFLAGS)
+#AM_CFLAGS = $(GLIB_ONLY_CFLAGS)
 LDADD = $(GLIB_ONLY_LIBS)
 # due to depcomp not using AM_CFLAGS for rh9/yd3, we also set AM_CPPFLAGS
 AM_CPPFLAGS = $(GLIB_ONLY_CFLAGS)
