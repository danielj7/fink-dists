diff -Nurd -x'*~' gdm-2.20.3.orig/daemon/gdm-xdmcp-manager.c gdm-2.20.3/daemon/gdm-xdmcp-manager.c
--- gdm-2.20.3.orig/daemon/gdm-xdmcp-manager.c	2008-01-07 14:39:37.000000000 -0500
+++ gdm-2.20.3/daemon/gdm-xdmcp-manager.c	2008-01-09 17:33:11.000000000 -0500
@@ -367,7 +367,7 @@
 		if (ai->ai_flags & AI_NUMERICHOST) {
 			g_string_append (str, "numhost ");
 		}
-		if (ai->ai_flags & AI_NUMERICSERV) {
+		if (ai->ai_flags & NI_NUMERICSERV) {
 			g_string_append (str, "numserv ");
 		}
 		if (ai->ai_flags & AI_V4MAPPED) {
diff -Nurd -x'*~' gdm-2.20.3.orig/daemon/slave.c gdm-2.20.3/daemon/slave.c
--- gdm-2.20.3.orig/daemon/slave.c	2008-01-07 14:39:38.000000000 -0500
+++ gdm-2.20.3/daemon/slave.c	2008-01-09 17:33:11.000000000 -0500
@@ -4407,8 +4407,10 @@
 
 			u->ut_type = DEAD_PROCESS;
 			u->ut_tv.tv_sec = record.ut_tv.tv_sec;
+#ifndef __APPLE__
 			u->ut_exit.e_termination = 0;
 			u->ut_exit.e_exit = 0;
+#endif
 
 			pututxline (u);
 
