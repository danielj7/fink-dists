Info2: <<
Package: rubycocoa-rb%type_pkg[ruby]
Version: 0.4.3
Revision: 1
Type: ruby (1.8)
Description: Ruby interface to Cocoa programming.
License: LGPL
Maintainer: Benjamin Reed <rubycocoa-rb@fink.racoonfink.com>

Depends: ruby%type_pkg[ruby]
BuildDepends: ruby%type_pkg[ruby]-dev

Source: mirror:sourceforge:rubycocoa/rubycocoa-%vd2.tgz
Source-MD5: 0942184d42114e92a3998071ce88beb3
Patch: rubycocoa-rb.patch

CompileScript: <<
#!/bin/sh -ev

	ruby%type_raw[ruby] install.rb config --install-prefix="%i" --install-root="%d"
	ruby%type_raw[ruby] install.rb setup
<<
# Install Phase:
InstallScript: <<
#!/bin/sh -ev

	# install
	ruby%type_raw[ruby] install.rb install

	# docs
	install -d -m 755 %i/share/doc/%N
	mv "%d/Developer"/* %i/share/doc/%N/
	rmdir "%d/Developer"
	mv "%d/Library/Application Support" "%i/share/doc/%N/"

	# move the framework
	mv "%d/Library/Frameworks" "%i/"
	rmdir "%d/Library"
	install_name_tool -change "/Library/Frameworks/RubyCocoa.framework/RubyCocoa" "%p/Frameworks/RubyCocoa.framework/RubyCocoa" "%i/Frameworks/RubyCocoa.framework/RubyCocoa"

	# clean up the examples
	find %i/share/doc/%N -name project.pbxproj | xargs perl -pi -e 's,/Library/Frameworks/RubyCocoa,%p/Frameworks/RubyCocoa,g; s,FRAMEWORK_SEARCH_PATHS = "",FRAMEWORK_SEARCH_PATHS = %p/Frameworks,g'
<<

DocFiles: ChangeLog LGPL ReadMe* VERSION doc/*
DescDetail: <<
	RubyCocoa is a framework for Mac OS X that allows Cocoa programming in the
	object-oriented scripting language Ruby.  RubyCocoa lets you write a Cocoa
	application in Ruby.  It allows you to create and use a Cocoa object in a
	Ruby script.  It's possible to write a Cocoa application that mixes Ruby
	and Objective-C code.
<<
Homepage: http://rubycocoa.sourceforge.net/
<<
