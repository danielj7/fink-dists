Package: libquicktime1
Version: 1.1.1
Revision: 1
###
Source: mirror:sourceforge:libquicktime/libquicktime-%v.tar.gz
Source-MD5: 88df838a450b6c6768819d45bacc0926
###
Depends: %N-shlibs (= %v-%r), gettext-bin (>=0.14.0-1), libavcodec51-shlibs (>=0.4.20071217-6), libavformat52-shlibs (>=0.4.20071217-6), libavutil49-shlibs (>=0.4.20071217-6), libpostproc51-shlibs (>=0.4.20071217-6), libswscale0-shlibs (>=0.4.20071217-6), libfaad1-shlibs (>=2.0.0-1013), libvorbis0-shlibs (>=1.2.0-1), libtheora0-shlibs (>=1.0-0.alpha5.100), libpng3-shlibs (>=1:1.2.29-1), a52dec-shlibs (>=0.7.4-2), libjpeg-shlibs, amrnb-shlibs, faac-shlibs, libgnugetopt-shlibs, lame-shlibs, libx264-57-shlibs, xvidcore-shlibs, libogg-shlibs, libiconv
#
BuildDepends: fink (>= 0.24.12), autoconf (>=2.59-1), automake1.10, pkgconfig, libgettext3-dev (>=0.14.0-1), libiconv-dev, doxygen, ffmpeg-dev (>=0.4.20071217-6), libavcodec-dev (>=0.4.20071217-6), libavformat-dev (>=0.4.20071217-6), libavutil-dev (>=0.4.20071217-6), libpostproc-dev (>=0.4.20071217-6), libswscale-dev (>=0.4.20071217-6), libfaad1-dev (>=2.0.0-1013), libvorbis0 (>=1.2.0-1), libtheora0 (>=1.0-0.alpha5.100), libpng3 (>=1:1.2.29-1), a52dec-dev (>=0.7.4-2), libjpeg, amrnb-dev, faac-dev, libgnugetopt, lame-dev, libx264-dev, xvidcore, libogg
#
BuildDependsOnly: True
Conflicts: libquicktime0
Replaces: libquicktime0
#
PatchFile: %n.patch
PatchFIle-MD5: 1b20bd6a4e2ba185a40b4dd16edb4c3c 
###
ConfigureParams:  --enable-libswscale --with-lame --without-opengl --without-alsa --without-gtk --without-libdv --with-libjpeg --with-avcodec=%p --with-libpng --with-faac --with-faad2 --with-x264 --with-vorbis=%p --with-libiconv-prefix=%p --with-libintl-prefix=%p --enable-gpl --x-libraries=/usr/X11R6/lib --x-includes=/usr/X11R6/include
CompileScript: <<
LIBRARY_PATH="%p/lib:$LIBRARY_PATH"  ./configure %c
make
<<
InstallScript: make install DESTDIR=%d
###
DocFiles: README COPYING
License: LGPL
###
Description: Library for working with Quicktime files
###
SplitOff: <<
    Package: %N-shlibs
    Description: Shared libraries for libquicktime
	Depends: gettext-bin (>=0.14.0-1), libavcodec51-shlibs (>=0.4.20071217-6), libswscale0-shlibs (>=0.4.20071217-6), libfaad1-shlibs (>=2.0.0-1013), libvorbis0-shlibs (>=1.2.0-1), libtheora0-shlibs (>=1.0-0.alpha5.100), libpng3-shlibs (>=1:1.2.29-1), a52dec-shlibs (>=0.7.4-2), libjpeg-shlibs, amrnb-shlibs, faac-shlibs, libgnugetopt-shlibs, lame-shlibs, libx264-57-shlibs, xvidcore-shlibs, libogg-shlibs, libiconv
    Files: <<
      lib/libquicktime.1.0.0.dylib
      lib/libquicktime.1.dylib
      lib/libquicktime1/lqt_audiocodec.so
      lib/libquicktime1/lqt_faac.so
      lib/libquicktime1/lqt_faad2.so
      lib/libquicktime1/lqt_ffmpeg.so
      lib/libquicktime1/lqt_lame.so
      lib/libquicktime1/lqt_mjpeg.so
      lib/libquicktime1/lqt_png.so
      lib/libquicktime1/lqt_rtjpeg.so
      lib/libquicktime1/lqt_videocodec.so
      lib/libquicktime1/lqt_vorbis.so
      lib/libquicktime1/lqt_x264.so
    <<
    Shlibs: %p/lib/libquicktime.1.dylib 2.0.0 %n (>= 1.1.1-1)
    DocFiles: README COPYING AUTHORS ChangeLog NEWS TODO
<<
SplitOff2: <<    
    Package: %N-bin
    Depends: %N-shlibs (>= %v-%r), x11
	Conflicts: libquicktime0-bin
	Replaces: libquicktime0-bin
    Description: Various commands using libquicktime
    Files: <<
        bin/lqt_transcode
        bin/lqtplay
        bin/qtdechunk
        bin/qtdump
        bin/qtinfo
        bin/qt2text
        bin/qtrechunk
        bin/qtstreamize
        bin/qtyuv4toyuv
        share/man
    <<
    DocFiles: README COPYING
<<
###
DescDetail: <<
libquicktime is an enhanced version of quicktime4linux with plug-in 
support for dealing with various audio/video media types.

The goal is to have a simple and stable library, which can create reasonable
compatible Quicktime and AVI files either uncompressed (for high-end or
production applications) or with decent compression codecs for end user
applications. Today, we write Quicktime files with a wide range of
uncompressed codecs for professional use. Together with sample accurate
seeking, this makes libquicktime the library of choice for editing
applications.

Find more info at http://libquicktime.sourceforge.net/ 
<<
DescPort: <<
Sorted out various flags and stuff to make 'configure' compatible with 
MacOS 10.1 compiler and fink libs + includes.  Also libjpeg/libpng 
tests were not working... but now ok.

Some of the filenames in the tarball are 'case sensitive' in that there 
are two different files whose names differ only in case (RTjpeg.c and 
rtjpeg.c also RTjpeg.h and rtjpeg.h) these have  been renamed, the 
Makefile.in changed and #includes fixed.  Argh!

Oh no. There's a framework called Quicktime - 
Other packages' #include <quicktime/quicktime.h> picks up the one from
libquicktime0 instead, so we bury ours in a libquicktime0 subdir of
%p/include. Our lqt-config passes the needed -I flag to find it, but
it's invisible otherwise.

The plugin loading needs to use dlsym_auto_underscore instead of dlsym.  
For some reason the programs using the library need to run as root 
- suspect it's the plugin loading.

Don't compile utils/lqtplay.c as it uses sys/soundcard.h 
... one day might might fix it.

...why did I choose this as my first! - needs splitoffs - back to the 
manuals again... done!

Lots of fun with libtool!  ltmain.sh (~1.4.?) has various known 
problems patched but had to disable relinking completely - but why 
was it doing it?  Seems fine without it - which is probably what you
would expect.

No need for static libs or libtool stuff for runtime plugin modules
<<
###
Homepage: http://libquicktime.sourceforge.net/
Maintainer: Hans-Christoph Steiner <hans@at.or.at>
