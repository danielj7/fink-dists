diff -urN Imaging-1.1.6/setup.py Imaging-1.1.6.new/setup.py
--- Imaging-1.1.6/setup.py	2006-12-03 05:37:29.000000000 -0600
+++ Imaging-1.1.6.new/setup.py	2007-01-27 23:49:29.000000000 -0600
@@ -34,7 +34,7 @@
 #
 # TIFF_ROOT = libinclude("/opt/tiff")
 
-FREETYPE_ROOT = None
+FREETYPE_ROOT = libinclude("@PREFIX@/lib/freetype221")
 JPEG_ROOT = None
 TIFF_ROOT = None
 ZLIB_ROOT = None
@@ -131,14 +131,14 @@
 
         elif sys.platform == "darwin":
             # attempt to make sure we pick freetype2 over other versions
-            add_directory(include_dirs, "/sw/include/freetype2")
-            add_directory(include_dirs, "/sw/lib/freetype2/include")
+            add_directory(include_dirs, "@PREFIX@/lib/freetype2/lib")
+            add_directory(include_dirs, "@PREFIX@/lib/freetype2/include/freetype2/freetype")
             # fink installation directories
-            add_directory(library_dirs, "/sw/lib")
-            add_directory(include_dirs, "/sw/include")
+            add_directory(library_dirs, "@PREFIX@/lib")
+            add_directory(include_dirs, "@PREFIX@/include")
             # darwin ports installation directories
-            add_directory(library_dirs, "/opt/local/lib")
-            add_directory(include_dirs, "/opt/local/include")
+            #add_directory(library_dirs, "/opt/local/lib")
+            #add_directory(include_dirs, "/opt/local/include")
 
         add_directory(library_dirs, "/usr/local/lib")
         # FIXME: check /opt/stuff directories here?
@@ -302,30 +302,30 @@
                 "_imagingtiff", ["_imagingtiff.c"], libraries=["tiff"]
                 ))
 
-        if sys.platform == "darwin":
-            # locate Tcl/Tk frameworks
-            frameworks = []
-            framework_roots = [
-                "/Library/Frameworks",
-                "/System/Library/Frameworks"
-                ]
-            for root in framework_roots:
-                if (os.path.exists(os.path.join(root, "Tcl.framework")) and
-                    os.path.exists(os.path.join(root, "Tk.framework"))):
-                    print "--- using frameworks at", root
-                    frameworks = ["-framework", "Tcl", "-framework", "Tk"]
-                    dir = os.path.join(root, "Tcl.framework", "Headers")
-                    add_directory(self.compiler.include_dirs, dir, 0)
-                    dir = os.path.join(root, "Tk.framework", "Headers")
-                    add_directory(self.compiler.include_dirs, dir, 1)
-                    break
-            if frameworks:
-                exts.append(Extension(
-                    "_imagingtk", ["_imagingtk.c", "Tk/tkImaging.c"],
-                    extra_compile_args=frameworks, extra_link_args=frameworks
-                    ))
-                feature.tcl = feature.tk = 1 # mark as present
-        elif feature.tcl and feature.tk:
+       #if sys.platform == "darwin":
+       #    # locate Tcl/Tk frameworks
+       #    frameworks = []
+       #    framework_roots = [
+       #        "/Library/Frameworks",
+       #        "/System/Library/Frameworks"
+       #        ]
+       #    for root in framework_roots:
+       #        if (os.path.exists(os.path.join(root, "Tcl.framework")) and
+       #            os.path.exists(os.path.join(root, "Tk.framework"))):
+       #            print "--- using frameworks at", root
+       #            frameworks = ["-framework", "Tcl", "-framework", "Tk"]
+       #            dir = os.path.join(root, "Tcl.framework", "Headers")
+       #            add_directory(self.compiler.include_dirs, dir, 0)
+       #            dir = os.path.join(root, "Tk.framework", "Headers")
+       #            add_directory(self.compiler.include_dirs, dir, 1)
+       #            break
+       #    if frameworks:
+       #        exts.append(Extension(
+       #            "_imagingtk", ["_imagingtk.c", "Tk/tkImaging.c"],
+       #            extra_compile_args=frameworks, extra_link_args=frameworks
+       #            ))
+       #        feature.tcl = feature.tk = 1 # mark as present
+        if feature.tcl and feature.tk:
             exts.append(Extension(
                 "_imagingtk", ["_imagingtk.c", "Tk/tkImaging.c"],
                 libraries=[feature.tcl, feature.tk]
