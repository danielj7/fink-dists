Package: fpc
Version: 2.2.1
Revision: 1
Architecture: powerpc, i386
Recommends: fpc-doc
Source: http://michael-ep3.physik.uni-halle.de/fink-sources/fpcbuild.tar.bz2
Source-MD5: 6f9b138d3f8afb65c291ca9087eb3d64
SourceDirectory: fpc_%v
Patchscript: <<
#!/bin/sh -ev
  sed -i.bak 's|/usr/local/|%p/|g'       fpc.cfg
  sed -i.bak 's|$fpcversion|%v|g'        fpc.cfg
  sed -i.bak 's|$fpctarget|%m-darwin/|g' fpc.cfg
<<
CompileScript: <<
#!/bin/sh -ev
  if [ "%m" = "powerpc" ]; then ppcarch="ppcppc" ; else ppcarch="ppc386" ; fi
  make all     PP=%b/ppcuniversal
  make fv ide  PP=%b/compiler/$ppcarch
<<
InstallScript: <<
#!/bin/sh -ev
  if [ "%m" = "powerpc" ]; then ppcarch="ppcppc" ; else ppcarch="ppc386" ; fi
  make install                 INSTALL_PREFIX=%i PP=%b/compiler/$ppcarch FPCMAKE=%b/utils/fpcm/fpcmake
  ln -sf ../lib/fpc/%v/$ppcarch %i/bin/$ppcarch
  make fv_install ide_install  INSTALL_PREFIX=%i PP=%b/compiler/$ppcarch FPCMAKE=%b/utils/fpcm/fpcmake
  make -C man       INSTALL_PREFIX=%i/share
  make -C doc       INSTALL_PREFIX=%i/share PP=%b/compiler/$ppcarch 
  mkdir %i/etc
  install -c -m 644 %b/fpc.cfg %i/etc/
<<
ConfFiles: %p/etc/fpc.cfg
RuntimeVars: <<
FPCDIR: %p
PPC_CONFIG_PATH: %p/etc/
<<
License: GPL/LGPL
Description: Free Pascal (aka FPK Pascal) compiler
DescDetail: <<
Free Pascal (aka FPK Pascal) is a 32 and 64 bit professional Pascal
compiler. Supported processors: Intel x86, Amd64/x86 64, PowerPC, Sparc.
Supported operating systems: Linux, FreeBSD, Mac OS X/Darwin, Mac OS
classic, DOS, Win32, OS/2, Netware (libc and classic) and MorphOS.

The language syntax has excellent compatibility with TP 7.0 as well as with
most versions of Delphi (classes, rtti, exceptions, ansistrings,
widestrings, interfaces). A Mac Pascal compatibility mode is also provided
to assist Apple users. Furthermore, Free Pascal supports function
overloading, operator overloading, global properties and other such
features.
<<
DescUsage: <<
 This Pascal compiler produces PowerPC and x86 executables, which run natively 
 on PowerPC and x86 Macs. PowerPC executables also runs in Rosetta emulation 
 on x86 Macs. 

 get help with: "fpc -h"

 compile and link a Pascal source code file with: "fpc FILENAME"

 Use lipo to combine PowerPC and x86 binaries to universal binaries.

 fpc.cfg will be installed in /sw/etc and is used through setting the
 environment variable PPC_CONFIG_PATH. fpc.cfg remains there after a 
 "fink remove fpc". Remove it by "fink install fpc" followed by
 "fink purge fpc" or without installing and "sudo dpkg --purge fpc".

 For setting up the Free Pascal IDE see: 
    http://www.freepascal.org/wiki/index.php/Textmode_IDE

 For using Free Pascal with Xcode see:
    http://www.freepascal.org/xcode.html

 For more documentation about Free Pascal in HTML and pdf, install fpc-doc
<<
DescPort: <<
 stabs format of debugging is not working on 10.5.
 ToDo: universal binaries and packages with dependent C libraries (gtk ...) .
<<
Homepage: http://www.freepascal.org
Maintainer: Karl-Michael Schindler <karl-michael.schindler@physik.uni-halle.de>
