Package: darcs
Version: 1.0.0rc3
Revision: 1
Description: Advanced distributed revision control system
License: GPL
Maintainer: Lars Rosengreen <lars@margay.org>

Depends: ncurses-shlibs, readline-shlibs, curl-shlibs | curl-ssl-shlibs, gmp-shlibs
BuildDepends: autoconf2.5, ncurses-dev, readline, curl | curl-ssl, curl-dev | curl-ssl-dev, ghc-dev (>= 6.2), tetex | system-tetex, latex2html
Recommends: darcs-bash-completion

Source: http://abridgegame.org/%n/%n-%v.tar.gz
Source-MD5: 1c4206244c25a764809fdb0ae3827a8e

Patch: darcs.patch

ConfigureParams: --mandir=%p/share/man

InstallScript: make install DESTDIR=%d

DocFiles: AUTHORS COPYING

DescDetail: << 
Darcs (David's Advanced Revision Control System) is a revision control
system, along the lines of CVS and arch.  That means that it keeps
track of various revisions and branches of your project, allows for
changes to propagate from one branch to another. Darcs is intended to
be an ``advanced'' revision control system.  Darcs has two
particularly distinctive features which differ from other revision
control systems: 1) each copy of the source is a fully functional
branch, and 2) underlying darcs is a consistent and powerful theory of
patches.
<<

Homepage: http://abridgegame.org/darcs/

SplitOff: <<
  Package: %N-bash-completion
  Description: Bash completion for Darcs
  
  Depends: %N, bash-completion

  InstallScript: <<
    install -m 755 -d %i/etc/bash_completion.d
    cp %N_completion %i/etc/bash_completion.d/%N
    chmod 755 %i/etc/bash_completion.d/%N
  << 
<<

DescPort: <<
Previous versions by Vadim Zaliva

As suggested by dmacks, use a SplitOff for the bash completion script.
In the future (after 1.0), additional SplitOffs could be used for zsh
completion and the darcs server.
<<
