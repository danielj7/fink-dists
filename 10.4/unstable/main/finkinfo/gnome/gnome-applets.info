Package: gnome-applets
Version: 2.26.2
Revision: 3
Depends: <<
	atk1-shlibs (>= 1.26.0-1),
	audiofile-shlibs (>= 0.2.5-1),
	cairo-shlibs (>= 1.8-1),
	dbus-shlibs (>= 1.2.1-1),
	esound-shlibs (>= 0.2.38-1),
	expat1-shlibs,
	fontconfig2-shlibs (>= 2.4.1-1),
	freetype219-shlibs (>= 2.3.8-2),
	gconf2 (>= 2.26.0-1),
	gconf2-shlibs (>= 2.26.0-1),
	glib2-shlibs (>= 2.20.0-1),
	glitz-shlibs,
	gnome-desktop2.11-shlibs,
	gnome-panel-shlibs (>= 2.26.0-1),
	gnome-python2-py26 (>= 2.26.0-1),
	gnome-vfs2-unified-shlibs (>= 1:2.24.1-1),
	gnutls26-shlibs (>= 2.8.0-1),
	gst-plugins-base-0.10-shlibs (>= 0.10.23-1),
	gstreamer-0.10-shlibs (>= 0.10.23-1),
	gtk+2 (>= 2.16.0-1),
	gtk+2-shlibs (>= 2.16.0-1),
	gucharmap7-shlibs (>= 2.26.0-1),
	libart2-shlibs (>= 2.3.16-1),
	libavahi-client3-shlibs,
	libavahi-common3-shlibs,
	libavahi-glib1-shlibs,
	libbonobo2-shlibs (>= 2.24.1-1),
	libbonoboui2-shlibs(>= 2.24.1-1),
	libgcrypt-shlibs (>= 1.4.3-2),
	libgettext3-shlibs,
	libglade2-shlibs (>= 2.6.4-1),
	libgnome2-shlibs (>= 2.26.0-1),
	libgnomecanvas2-shlibs (>= 2.26.0-1),
	libgnomekbd2-3-shlibs (>= 2.26.0-1),
	libgpg-error-shlibs (>= 1.6-1),
	libgtop2.0.7-shlibs (>= 2.26.0-1),
	libgweather-shlibs (>= 2.26.0-1),
	libiconv,
	libpng3-shlibs,
	libsoup2.4.1-ssl-shlibs (>= 2.26.0-1),
	libtasn1-3-shlibs (>= 2.2-2),
	libwnck1.22-shlibs (>= 2.26.0-1),
	libxklavier12-shlibs (>= 3.9-1),
	libxml2-shlibs (>= 2.6.30-1),
	orbit2-shlibs (>= 2.14.17-1),
	pango1-xft2-ft219-shlibs (>= 1.24.0-1),
	pixman-shlibs (>= 0.14.0-1),
	popt-shlibs,
	pygobject2-py26 (>= 2.18.0-1),
	pygtk2-gtk-py26 (>= 2.15.1-1),
	python26,
	rarian-compat,
	startup-notification-shlibs (>= 0.9-1),
	x11
<<
BuildDepends: <<
	atk1 (>= 1.26.0-1),
	avahi-dev,
	audiofile (>= 0.2.5-1),
	cairo (>= 1.8-1),
	dbus-dev (>= 1.2.1-1),
	docbook-utils,
	esound (>= 0.2.38-1),
	expat1,
	fink (>= 0.24.12),
	fontconfig2-dev (>= 2.4.1-1),
	freetype219 (>= 2.3.8-2),
	gconf2-dev (>= 2.26.0-1),
	gettext-bin,
	gettext-tools (>= 0.17),
	glib2-dev (>= 2.20.0-1),
	glitz,
	gnome-desktop2.11-dev,
	gnome-doc-utils (>= 0.16.0-1),
	gnome-icon-theme (>= 2.26.0-1),
	gnome-panel-dev (>= 2.26.0-1),
	gnome-python2-py26-dev (>= 2.26.0-1),
	gnome-vfs2-unified-dev (>= 1:2.24.1-1),
	gnutls26 (>= 2.8.0-1),
	gst-plugins-base-0.10-dev (>= 0.10.23-1),
	gstreamer-0.10-dev (>= 0.10.23-1),
	gtk+2-dev (>= 2.16.0-1),
	gucharmap7-dev (>= 2.26.0-1),
	gtk-doc (>= 1.8-1),
	intltool40,
	libart2 (>= 2.3.16-1),
	libavahi-glib1-dev,
	libbonobo2-dev (>= 2.24.1-1),
	libbonoboui2-dev (>= 2.24.1-1),
	libgcrypt (>= 1.4.3-2),
	libgettext3-dev,
	libglade2 (>= 2.6.4-1),
	libgnome2-dev (>= 2.26.0-1),
	libgnomecanvas2-dev (>= 2.26.0-1),
	libgnomekbd2-3-dev (>= 2.26.0-1),
	libgpg-error (>= 1.6-1),
	libgtop2.0.7-dev (>= 2.26.0-1),
	libgweather (>= 2.26.0-1),
	libiconv-dev,
	libpng3,
	libsoup2.4.1-ssl (>= 2.26.0-1),
	libtasn1-3 (>= 2.2-2),
	libwnck1.22 (>= 2.26.0-1),
	libxklavier12 (>= 3.9-1),
	libxml2 (>= 2.6.30-1),
	libxslt-bin,
	orbit2-dev (>= 2.14.17-1),
	pango1-xft2-ft219-dev (>= 1.24.0-1),
	pixman (>= 0.14.0-1),
	pkgconfig (>= 0.23),
	popt,
	pygobject2-py26-dev (>= 2.18.0-1),
	pygtk2-gtk-py26-dev (>= 2.15.1-1),
	startup-notification-dev (>= 0.9-1),
	x11-dev,
	xft2-dev
<<
Conflicts: gnome-applets-dev
Replaces: gnome-applets-dev, gnome-applets-shlibs
Source: mirror:gnome:sources/%n/2.26/%n-%v.tar.bz2
Source-MD5: c127d973670336717fbcfd3056def45e
PatchFile: %n.patch
PatchFile-MD5: 4a9b4b989bec0a4f0ca0773bd05bdc5f
PatchScript: <<
#!/bin/sh -ev
	%{default_script}

	# recode ./some/path/AUTHORS as AUTHORSs/AUTHORS.some.path
	mkdir AUTHORSs
	for cl in `find . -name AUTHORS` ; do
		cp $cl AUTHORSs/`echo $cl | sed 's/^\.\(.*\)\/\(AUTHORS\)/\2\1/;s/\//./g'`
	done

	# recode ./some/path/ChangeLog as ChangeLogs/ChangeLog.some.path
	mkdir ChangeLogs
	for cl in `find . -name ChangeLog` ; do
		cp $cl ChangeLogs/`echo $cl | sed 's/^\.\(.*\)\/\(ChangeLog\)/\2\1/;s/\//./g'`
	done

	# recode ./some/path/README as READMEs/README.some.path
	mkdir READMEs
	for cl in `find . -name README` ; do
		cp $cl READMEs/`echo $cl | sed 's/^\.\(.*\)\/\(README\)/\2\1/;s/\//./g'`
	done

	perl -pi -e 's|/usr/bin/env\s+python|%p/bin/python2.6|' invest-applet/invest/*.py

	perl -pi -e 's/(LIBNOTIFY_REQUIRED\s*=).*/${1}99999.FORCE.NONDETECT/' configure
	perl -pi -e 's/(gnome-settings-daemon)/${1} > 99999.FORCE.NONDETECT/' configure
	perl -pi -e 's/-lutil//g' configure

	# Fix build with gnome-doc-utils-1.18
	perl -pi -e 's/^"Plural-Forms: 2\\n"\n//' gweather/docs/el/el.po
	perl -pi -e 's/^"Plural-Forms: 2\\n"\n//' multiload/docs/el/el.po
<<
SetCPPFLAGS: -I%p/lib/fontconfig2/include
SetLDFLAGS: -L%p/lib/fontconfig2/lib
SetCFLAGS: -Os
ConfigureParams: --disable-schemas-install --disable-scrollkeeper --libexecdir=%p/lib/%n --mandir=%p/share/man --disable-dependency-tracking PKG_CONFIG_PATH="%p/lib/fontconfig2/lib/pkgconfig:$PKG_CONFIG_PATH" --without-hal --disable-polkit --enable-mixer-applet
CompileScript: <<
	PYTHON=%p/bin/python2.6 ./configure %c
	make
<<
InstallScript: <<
	make -j1 install DESTDIR="%d"
	mkdir -p %i/share/xmodmap/BROKEN
	mv %i/share/xmodmap/xmodmap.* %i/share/xmodmap/BROKEN
<<
DocFiles: AUTHORSs/* COPYING* ChangeLogs/* NEWS READMEs/*

ConfFiles: <<
	%p/etc/gconf/schemas/charpick.schemas
	%p/etc/gconf/schemas/drivemount.schemas
	%p/etc/gconf/schemas/geyes.schemas
	%p/etc/gconf/schemas/mixer.schemas
	%p/etc/gconf/schemas/multiload.schemas
	%p/etc/gconf/schemas/stickynotes.schemas
<<
PostInstScript: <<
	. %p/bin/init.sh
	if [ configure = "$1" ]; then
		scrollkeeper-update
		export GCONF_CONFIG_SOURCE=`gconftool-2 --get-default-source`
		for s in charpick drivemount geyes mixer multiload stickynotes; do
			gconftool-2 --makefile-install-rule %p/etc/gconf/schemas/$s.schemas >/dev/null
		done
		%p/bin/gtk-update-icon-cache -f -t %p/share/icons/hicolor
	fi
<<
PostRmScript: <<
	. %p/bin/init.sh
	if [ upgrade != "$1" ]; then
		scrollkeeper-update
		%p/bin/gtk-update-icon-cache -f -t %p/share/icons/hicolor
	fi
<<

DescPort: <<
	The xmodmap files are broken, so move them out of the way.
	See: http://article.gmane.org/gmane.os.apple.fink.gnome/2167
<<
DescPackaging: <<
	Make sure we get the correct python interp.

	Don't bother checking for HAL because it's only used for
	battstat, which is disabled on this platform.

	Force libnotify detection to fail because it's always been
	disabled in this package

	Have no libutil, but have forkpty() in libSystem, so scrap
	mandatory -lutil from symbol check. See:
	http://bugzilla.gnome.org/show_bug.cgi?id=568461

	Don't need gnome-settings-daemon check because it's not used
	for anything. See:
	http://bugzilla.gnome.org/show_bug.cgi?id=568463

	Old %N had %N-dev with Depends:%N=%v-%r. %N-dev is dead (was
	old libversion of libgweather and nothing bdep on it), so
	%N:Conflicts/Replaces:%N-dev to uninstall that package.
	Otherwise, its deps would prevent upgrading to new %N-%v-%r
	that has no corresponding %N-dev.

	Fix build with gnome-doc-utils-1.18 as in gnome-terminal. See:
	http://git.gnome.org/cgit/gnome-terminal/commit/?id=30f29e7d8e1b67c40cd18a7155ba30c4382692d5

<<
Description: The Gnome Applets
DescDetail: <<
GNOME (GNU Network Object Model Environment) is a user-friendly
set of applications and desktop tools to be used in conjunction with a
window manager for the X Window System.  GNOME is similar in purpose and
scope to CDE and KDE, but GNOME is based completely on Open Source
software.  The gnome-applets package provides Panel applets which
enhance your GNOME experience.

You should install the gnome-applets package if you would like embed small
utilities in the GNOME panel.
<<
License: GPL/GFDL
Maintainer: The Gnome Core Team <fink-gnome-core@lists.sourceforge.net>
Homepage: http://www.gnome.org/
