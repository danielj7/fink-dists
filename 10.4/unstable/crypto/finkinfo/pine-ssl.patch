--- pine/pine/osdep/os-osx.h.orig	Wed Nov 21 13:28:51 2001
+++ pine/pine/osdep/os-osx.h	Wed Nov 21 13:30:51 2001
@@ -178,10 +178,10 @@
 
 /*----- System-wide config file ----------------------------------------*/
 #ifndef SYSTEM_PINERC
-#define SYSTEM_PINERC             "/usr/local/lib/pine.conf"
+#define SYSTEM_PINERC             "@PREFIX@/lib/pine.conf"
 #endif
 #ifndef SYSTEM_PINERC_FIXED
-#define SYSTEM_PINERC_FIXED       "/usr/local/lib/pine.conf.fixed"
+#define SYSTEM_PINERC_FIXED       "@PREFIX@/lib/pine.conf.fixed"
 #endif
 
 
diff -Naur pine4.53-orig/contrib/krb5-setup pine4.53/contrib/krb5-setup
--- pine4.53-orig/contrib/krb5-setup	Fri Feb  4 12:06:29 2000
+++ pine4.53/contrib/krb5-setup	Tue Nov 26 11:03:40 2002
@@ -74,11 +74,11 @@
 
 
 # This is where c-client expects the libraries to be.
-if [ \( -f krb5/lib/libgssapi_krb5.a -o -f krb5/lib/libgssapi_krb5.so \) -a \
-     \( -f krb5/lib/libkrb5.a        -o -f krb5/lib/libkrb5.so \)        -a \
+if [ \( -f krb5/lib/libgssapi_krb5.a -o -f krb5/lib/libgssapi_krb5.dylib \) -a \
+     \( -f krb5/lib/libkrb5.a        -o -f krb5/lib/libkrb5.dylib \)        -a \
      \( -f krb5/lib/libcrypto.a      -o -f krb5/lib/libk5crypto.a    -o \
-        -f krb5/lib/libcrypto.so     -o -f krb5/lib/libk5crypto.so \)    -a \
-     \( -f krb5/lib/libcom_err.a     -o -f krb5/lib/libcom_err.so \) ]
+        -f krb5/lib/libcrypto.dylib     -o -f krb5/lib/libk5crypto.dylib \)    -a \
+     \( -f krb5/lib/libcom_err.a     -o -f krb5/lib/libcom_err.dylib \) ]
 then
     exit 0
 fi
diff -ruN pine4.64/imap/Makefile pine4.64-patched/imap/Makefile
--- pine4.64/imap/Makefile	2005-04-30 13:50:20.000000000 -0700
+++ pine4.64-patched/imap/Makefile	2007-09-09 16:54:34.000000000 -0700
@@ -345,7 +345,7 @@
 
 oxp:	an
 	$(BUILD) BUILDTYPE=osx \
-	IP=6 EXTRAAUTHENTICATORS="$(EXTRAAUTHENTICATORS) gss" \
+	IP=6 \
 	SPECIALS="SSLDIR=/System/Library/OpenSSL SSLINCLUDE=/usr/include/openssl SSLLIB=/usr/lib PAMLDFLAGS=-lpam" \
 	PASSWDTYPE=pam \
 	EXTRACFLAGS="$(EXTRACFLAGS) -DMAC_OSX_KLUDGE=1"
diff -ruN pine4.64/imap/src/osdep/unix/env_unix.c pine4.64-patched/imap/src/osdep/unix/env_unix.c
--- pine4.64/imap/src/osdep/unix/env_unix.c	2004-09-13 14:31:19.000000000 -0700
+++ pine4.64-patched/imap/src/osdep/unix/env_unix.c	2007-09-09 10:53:53.000000000 -0700
@@ -21,6 +21,7 @@
 #include <grp.h>
 #include <signal.h>
 #include <sys/wait.h>
+#define setpgrp setpgid
 
 /* c-client environment parameters */
 
