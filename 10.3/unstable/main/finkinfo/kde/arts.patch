diff -uNr ../arts-1.2.0/examples/Makefile.am ./examples/Makefile.am
--- ../arts-1.2.0/examples/Makefile.am	Sat Jan 17 07:11:59 2004
+++ ./examples/Makefile.am	Fri Feb  6 14:19:31 2004
@@ -37,7 +37,7 @@
 ## if we link testthreads.cc against libmcop_mt, it will be able to use
 ## real threading, if we don't, we won't
 testthreads_SOURCES = testthreads.cc
-testthreads_LDFLAGS = $(LDFLAGS) 
+testthreads_LDFLAGS = $(all_libraries)
 testthreads_LDADD   = $(top_builddir)/mcop_mt/libmcop_mt.la
 testnothreads_SOURCES = testthreads.cc
 
@@ -63,7 +63,7 @@
 artscrec_LDADD = $(top_builddir)/artsc/libartsc.la
 artscrec_SOURCES = artscrec.c
 
-artscmt_LDFLAGS = $(LDFLAGS) $(USE_THREADS)
+artscmt_LDFLAGS = $(all_libraries) $(USE_THREADS)
 artscmt_LDADD = $(top_builddir)/artsc/libartsc.la -lm $(LIBPTHREAD) $(LIBPOSIX4)
 artscmt_SOURCES = artscmt.c
 
diff -uNr ../arts-1.2.0/flow/Makefile.am ./flow/Makefile.am
--- ../arts-1.2.0/flow/Makefile.am	Thu Aug 28 13:28:59 2003
+++ ./flow/Makefile.am	Fri Feb  6 14:20:03 2004
@@ -13,7 +13,7 @@
 
 libartsflow_la_LIBADD = $(top_builddir)/mcop/libmcop.la libartsflow_idl.la $(top_builddir)/flow/gslpp/libgslpp.la $(LIBAUDIOFILE) $(LIBASOUND) $(LIBAUDIOIO) $(LIBOSSAUDIO) $(LIBAUDIONAS) $(LIBCSL) $(SGILIBAUDIO) $(LIBESD) $(LIBMAS) -lm \
   $(top_builddir)/flow/gsl/libgsl.la
-libartsflow_la_LDFLAGS = $(MAS_LDFLAGS) -no-undefined -version-info 1:0
+libartsflow_la_LDFLAGS = $(MAS_LDFLAGS) $(all_libraries) -no-undefined -version-info 1:0
 libartsflow_la_COMPILE_FIRST = artsflow.h
 libartsflow_la_SOURCES =  synth_play_impl.cc \
   gslschedule.cc audiosubsys.cc \
diff -uNr ../arts-1.2.0/flow/gslpp/Makefile.am ./flow/gslpp/Makefile.am
--- ../arts-1.2.0/flow/gslpp/Makefile.am	Wed Jul  3 17:54:22 2002
+++ ./flow/gslpp/Makefile.am	Fri Feb  6 14:19:48 2004
@@ -4,4 +4,4 @@
 
 libgslpp_la_SOURCES = datahandle.cpp
 #libgslpp_la_LIBADD = $(top_builddir)/mcop/libmcop.la $(top_builddir)/flow/gsl/libgsl.la -lm $(LIBPOSIX4)
-#libgslpp_la_LDFLAGS = -no-undefined
+#libgslpp_la_LDFLAGS = -no-undefined $(all_libraries)
diff -uNr ../arts-1.2.0/mcop_mt/Makefile.am ./mcop_mt/Makefile.am
--- ../arts-1.2.0/mcop_mt/Makefile.am	Sun Sep 21 04:49:44 2003
+++ ./mcop_mt/Makefile.am	Fri Feb  6 14:20:39 2004
@@ -4,4 +4,4 @@
 
 libmcop_mt_la_SOURCES = threads_posix.cc
 libmcop_mt_la_LIBADD = $(top_builddir)/mcop/libmcop.la $(top_builddir)/flow/libartsflow.la $(LIBPTHREAD) $(LIBPOSIX4)
-libmcop_mt_la_LDFLAGS = -no-undefined -version-info 1:0 $(USE_THREADS) 
+libmcop_mt_la_LDFLAGS = -no-undefined -version-info 1:0 $(all_libraries) $(USE_THREADS) 
diff -uNr ../arts-1.2.0/qtmcop/Makefile.am ./qtmcop/Makefile.am
--- ../arts-1.2.0/qtmcop/Makefile.am	Wed Feb 13 15:54:53 2002
+++ ./qtmcop/Makefile.am	Fri Feb  6 14:21:06 2004
@@ -5,8 +5,7 @@
 
 libqtmcop_la_SOURCES = qiomanager.cc
 libqtmcop_la_LIBADD = $(top_builddir)/mcop/libmcop.la $(LIB_QT)
-libqtmcop_la_LDFLAGS = -no-undefined -version-info 1:0 $(KDE_RPATH) $(KDE_MT_LDFLAGS) $(QT_LDFLAGS) \
-  $(X_LDFLAGS) $(USER_LDFLAGS)
+libqtmcop_la_LDFLAGS = -no-undefined -version-info 1:0 $(all_libraries)
 
 METASOURCES = qiomanager_p.moc
 
diff -uNr ../arts-1.2.0/x11/Makefile.am ./x11/Makefile.am
--- ../arts-1.2.0/x11/Makefile.am	Sun Mar 23 15:32:09 2003
+++ ./x11/Makefile.am	Fri Feb  6 14:22:16 2004
@@ -4,7 +4,7 @@
 
 libx11globalcomm_la_SOURCES = x11globalcomm.cc x11globalcomm_impl.cc
 libx11globalcomm_la_LIBADD = $(top_builddir)/mcop/libmcop.la $(LIB_X11)
-libx11globalcomm_la_LDFLAGS = -no-undefined -module -version-info 1:0 $(X_LDFLAGS) $(all_libraries)
+libx11globalcomm_la_LDFLAGS = -no-undefined -module -version-info 1:0 $(all_libraries) $(X_LDFLAGS)
 
 DISTCLEANFILES = x11globalcomm.cc x11globalcomm.h \
                  x11globalcomm.mcoptype x11globalcomm.mcopclass
diff -uNr ../arts-1.2.0/x11/configure.in.in ./x11/configure.in.in
--- ../arts-1.2.0/x11/configure.in.in	Wed Dec 31 19:00:00 1969
+++ ./x11/configure.in.in	Fri Feb  6 14:18:17 2004
@@ -0,0 +1,3 @@
+if test "x$kde_use_qt_mac" = "xyes"; then
+	DO_NOT_COMPILE="$DO_NOT_COMPILE x11"
+fi
