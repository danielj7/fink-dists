Package: fribidi
Version: 0.19.5
Revision: 1
BuildDepends: fink-package-precedence
Depends: %N-shlibs (= %v-%r)
Source: http://fribidi.org/download/%n-%v.tar.bz2
Source-MD5: 925bafb97afee8a2fc2d0470c072a155
# upstream patches:
#   78dc3af68ed0e1aafe54c176b28dadee66eb306c Fix theoretically possible overflow

#   8bdf69afcd07fe0085bd2131d23a3fe6741291a3 Fix misprint
PatchFile: %n.patch
PatchFile-MD5: 9d00edf598e44d528b8d9e4f35d1ea58
PatchScript: <<
	%{default_script}

	# don't regenerate manpage (patch doesn't change its results)
	# fink doesn't have the c2man tool (see:
	# https://bugs.freedesktop.org/show_bug.cgi?id=69234 )
	# Don't use unix epoch 0 here (bug in some timezones). See:
	# http://permalink.gmane.org/gmane.os.apple.fink.general/37303
	touch -t 197101010000 lib/fribidi-bidi.h
<<
# be sure we don't autodetect glib
ConfigureParams: --without-glib
CompileScript: <<
	%{default_script}
	fink-package-precedence --prohibit-bdep=%n-dev .
<<
SplitOff: <<
  Package: %N-shlibs
  Files: lib/libfribidi.*.dylib
  Shlibs: %p/lib/libfribidi.0.dylib 4.0.0 %n (>= 0.19.2-1)
  Description: Shared libraries for fribidi package
  DocFiles: AUTHORS COPYING ChangeLog INSTALL NEWS README THANKS TODO
<<
SplitOff2: <<
  Package: %N-dev
  Depends: %N-shlibs (= %v-%r)
  Replaces: %N (<= 0.19.2-1)
  BuildDependsOnly: True
  Files: include lib/libfribidi.dylib lib/libfribidi.la lib/pkgconfig share/man
  Description: Developer files for fribidi package
  DocFiles: AUTHORS COPYING ChangeLog INSTALL NEWS README THANKS TODO
<<
DocFiles: AUTHORS COPYING ChangeLog INSTALL NEWS README THANKS TODO
Description: Unicode bidirectional (BiDi) algorithm lib
License: LGPL
Homepage: http://fribidi.org
Maintainer:  Dave Morrison <drm@finkproject.org>
