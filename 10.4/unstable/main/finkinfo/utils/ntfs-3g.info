Package: ntfs-3g
Version: 1.616
Revision: 3

Source: http://www.ntfs-3g.org/%n-%v.tgz
Source-MD5: fdb1c55f00263c962a52d0707a6d075e

BuildDepends: fink (>= 0.24.12), fuse-dev, pkgconfig

Depends: %N4-shlibs (=%v-%r)

PatchFile: %n.patch
PatchFile-MD5: 1e213e4a8aef2deee70b422df1d9ce50
PatchScript: <<
	patch -p1 < %{PatchFile}
	perl -pi -e 's,/sbin,/\$\(sbindir\),g; s,mount\.ntfs-3g,mount_ntfs-3g,g' src/Makefile.in
<<

ConfigureParams: --disable-dependency-tracking --mandir=%p/share/man --exec_prefix=%p

InstallScript: <<
	make install DESTDIR=%d
	/usr/sbin/chown root:wheel %i/bin/ntfs-3g
	/bin/chmod u+s %i/bin/ntfs-3g
<<

DocFiles: AUTHORS ChangeLog COPYING CREDITS INSTALL NEWS README

Description: FUSE NTFS filesystem
DescDetail: <<
	The NTFS-3G driver is an open source, freely available NTFS driver
	for Linux with read and write support. It provides safe and fast
	handling of the Windows XP, Windows Server 2003, Windows 2000 and
	Windows Vista file systems. Most POSIX file system operations are
	supported, with the exception of full file ownership and access
	right support.
<<
DescUsage: <<
	To connect to an NTFS volume:
	
	first unmount the NTFS disk if currently mounted read-only
	(you can use Disk Utility to do this and also to get the partition)
	
	mkdir mountpoint
	ntfs-3g /dev/diskpartition mountpoint -ovolname="Volume Name"
	
	where mountpoint is directory to mount the disk,
	diskpartition is the NTFS disk's partition in /dev
	and Volume Name is the disk's volume name.
	
	To disconnect:
	umount mountpoint
	or eject from the Finder.
	
	See ntfs-3g man page for more options.
<<
DescPackaging: <<
	Incorporated patch from MacPorts (originally from MacFuse source).
	Not sure if it's really necessary since it doesn't seem to affect use.
	Changed mount.ntfs-3g symlink to mount_ntfs-3g to match standard on darwin.
	Made %p/bin/ntfs-3g setuid so non-root users can mount volumes. It drops
	root privileges after mounting, so should be safe.
<<

SplitOff: <<
	Package: %N4-shlibs
	
	Depends: fuse-shlibs
	
	Files: lib/lib%N.*.dylib
	DocFiles: COPYING README
	
	Shlibs: %p/lib/lib%N.4.dylib 5.0.0 %n (>= 1.616-1)
<<

SplitOff2: <<
	Package: %N4-dev
	
	Depends: %N4-shlibs (=%v-%r)
	BuildDependsOnly: True
	Conflicts: %N-dev, %N2-dev
	Replaces: %N-dev, %N2-dev
	
	Files: <<
		include
		lib/lib%N.a
		lib/lib%N.dylib
		lib/lib%N.la
	<<
	DocFiles: COPYING README
<<

License: GPL
Homepage: http://www.ntfs-3g.org/
Maintainer: Daniel Johnson <daniel@daniel-johnson.org>
