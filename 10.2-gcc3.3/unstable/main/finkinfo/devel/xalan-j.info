Package: xalan-j
Version: 2.6.0
Revision: 1
Maintainer: Benjamin Reed <rangerrick@users.sourceforge.net>
#
BuildDepends: ant (>= 1.6.1-1), system-java13-dev, xerces-j (>= 2.6.2-1)
Depends: system-java13 | system-java14 | system-java15, xerces-j (>= 2.6.2-1)
CustomMirror: <<
 nam-US: http://apache.i-connexion.net/dist/
 nam-US: http://mir2.ovh.net/ftp.apache.org/dist/
 nam-US: ftp://mir1.ovh.net/ftp.apache.org/dist/
 nam-US: http://nagoya.apache.org/mirror/
 nam-US: http://www.apache.org/dist/
 eur-FR: http://apache.crihan.fr/dist/
<<
Source: mirror:custom:xml/%n/source/%n_2_6_0-src.tar.gz
SourceDirectory: %n_2_6_0
Source-MD5: a210f7108e680ab60a11977ec99ab1f9
PatchScript: <<
  perl -pi.bak -e 's,\r,,g' build.sh
<<
CompileScript: <<
#!/bin/sh

  JAVAVER=`find /System/Library/Frameworks/JavaVM.framework/Versions -name include 2>/dev/null | perl -p -e 's,.*Versions/(.*?)/.*,$1,g' | grep -E '^1.3' | tail -1`
  export JAVA_HOME=/System/Library/Frameworks/JavaVM.framework/Versions/$JAVAVER/Home
  export PATH="$JAVA_HOME/bin:$PATH"
  sh build.sh jar
<<
InstallScript: # nothing to do
DocFiles: License
JarFiles: build/*.jar
Description: Java XSLT processor.
DescDetail: <<
 Xalan is an XSLT processor for transforming XML documents into HTML,
 text, or other XML document types. It implements the W3C Recommendations
 for XSL Transformations (XSLT) and the XML Path Language (XPath).
 It can be used from the command line, in an applet or a servlet,
 or as a module in other program.
<<
DescPort: <<
 build.sh is a dos file and darwin doesn't handle it
 so I've patched it to remove all those line endings (^M)
<<
DescPackaging: <<
  avoid the lengthy build of docs (install xalan-j-docs if you want that)
<<
Homepage: http://xml.apache.org/xalan-j/index.html
License: BSD
