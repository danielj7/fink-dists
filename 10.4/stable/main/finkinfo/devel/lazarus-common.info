Package: lazarus-common
Version: 0.9.26
Revision: 1
Distribution: 10.4, 10.5
License: GPL/LGPL

Depends: fpc (>= 2.2.2), gdk-pixbuf-shlibs, glib-shlibs, gtk+-shlibs, gtk+2-shlibs
Builddepends: gdk-pixbuf, glib, gtk+, gtk+2

Recommends: fpc-doc, lazarus-aqua, lazarus-gtk

Conflicts: lazarus
Replaces:  lazarus

Source: http://downloads.sourceforge.net/lazarus/lazarus-%v-0.tgz
Source-MD5: f1a7b2f89d1e6a246f25abb235880594
SourceDirectory: lazarus

Source2: ftp://ftp.freepascal.org/pub/fpc/dist/source-2.2.2/fpcbuild-2.2.2.tar.gz
Source2-MD5: ec3d463ec9859da4122e9edfa2ab992d

CompileScript: <<
#!/bin/sh -ev

if [[ $(sw_vers -productVersion) < 10.5 ]]; then
  debug_options="-gl"
else
  debug_options="-gw"
fi

# ** Start compiling **
# ** the lazarus component libraries

  make lcl LCL_PLATFORM=gtk    OPT="$debug_options"
  make lcl LCL_PLATFORM=gtk2   OPT="$debug_options"
  make lcl LCL_PLATFORM=carbon OPT="$debug_options"

# ** Finish compiling Lazarus libraries **
#
<<

InstallScript: <<
# ** install the lcl library **

  mkdir -p %i/share/lazarus
  mv lcl   %i/share/lazarus

# ** Create etc directory **

  install -m 755 -d %i/etc/lazarus

# ** install the docs

  mkdir -p %i/share/doc/lazarus
  install -c -m 644 docs/*.txt %i/share/doc/lazarus
  install -c -m 644 docs/*.pdf %i/share/doc/lazarus

# ** Copy the sources of the rtl, packages and utils of FreePascal **

  install -m 755 -d %i/share/fpcsrc/rtl
  install -m 755 -d %i/share/fpcsrc/packages
  install -m 755 -d %i/share/fpcsrc/utils

  mv %b/../fpcbuild-2.2.2/fpcsrc/rtl		%i/share/fpcsrc
  mv %b/../fpcbuild-2.2.2/fpcsrc/packages	%i/share/fpcsrc
  mv %b/../fpcbuild-2.2.2/fpcsrc/utils		%i/share/fpcsrc

<<

Description: Free Pascal IDE: common parts
DescDetail: <<
Lazarus is an open-source development system that builds on the Free Pascal 
compiler by adding an integrated development environment (IDE).
It includes a syntax-highlighting code editor and a visual form designer, 
as well as a component library that is highly compatible with Delphi's 
Visual Component Library (VCL).  The Lazarus Component Library (LCL) 
includes  equivalents for many of the familiar VCL controls such as 
forms, buttons, text boxes and so on, which are used to create 
applications with a graphical user interface (GUI).

<<
DescUsage: <<
 This is the common part of the lazarus packages.
<<
DescPort: <<
Lazarus with a gtk2 interface does not work, yet. It crashes on startup,
but gtk2 can probably still be used to build own applications.
<<
Homepage: http://wiki.freepascal.org/Main_Page
Maintainer: Karl-Michael Schindler <karl-michael.schindler@web.de>