diff -u xrootconsole-0.5.orig/Makefile xrootconsole-0.5/Makefile
--- xrootconsole-0.5.orig/Makefile	2001-12-19 04:48:51.000000000 -0500
+++ xrootconsole-0.5/Makefile	2002-07-14 02:02:29.000000000 -0400
@@ -33,7 +33,9 @@
 ###########################################################################
 
 EXEC = xrootconsole
-BINDIR = /usr/local/bin
+MANFILE = xrootconsole.1
+BINDIR = $(prefix)/bin
+MANDIR = $(prefix)/share/man/man1
 
 VERSION = $(shell tag=$$(echo '$$Name: RELEASE-0_5 $$' | sed -e 's/\$$//g' -e 's/Name://g'); \
         if [ $$tag ]; \
@@ -41,18 +43,19 @@
             else echo Bleeding Edge Version; \
         fi;)
 
-CC = gcc
+CC = cc
 CPPFLAGS =
 
 # for production
-CFLAGS = -O2 -DNDEBUG -Wall "-DXROOTCONSOLE_VERSION=\"$(VERSION)\""
-LDFLAGS = -s
+CFLAGS = -O2 -DNDEBUG -Wall "-DXROOTCONSOLE_VERSION=\"$(VERSION)\"" \
+	-I/usr/X11R6/include
+LDFLAGS = 
 
 # for testing
 #CFLAGS = -g -Wall "-DXROOTCONSOLE_VERSION=\"$(VERSION) (debug build)\""
 #LDFLAGS = 
 
-LIBS = -L/usr/X11R6/lib -lX11 -lutil
+LIBS = -L/usr/X11R6/lib -lX11
 
 OBJS = main.o util.o
 
@@ -72,4 +75,9 @@
 	rm -f $(EXEC) *.o core *~
 
 install: $(EXEC)
-	cp $(EXEC) $(BINDIR)
+	install -D $(EXEC) $(BINDIR)/$(EXEC)
+	install -D $(MANFILE) $(MANDIR)/$(MANFILE)
+
+uninstall:
+	rm -f $(BINDIR)/$(EXEC)
+	rm -f $(MANDIR)/$(MANFILE)
diff -u xrootconsole-0.5.orig/main.c xrootconsole-0.5/main.c
--- xrootconsole-0.5.orig/main.c	2002-07-01 02:24:02.000000000 -0400
+++ xrootconsole-0.5/main.c	2002-07-13 21:42:24.000000000 -0400
@@ -40,6 +40,7 @@
 #include "util.h"
 #include <X11/Xlib.h>
 #include <X11/Xutil.h>
+#include <X11/Xos.h>
 #include <assert.h>
 #include <errno.h>
 #include <stdio.h>
