--- F2PY/other/scipy_distutils/gnufcompiler.py	Wed Feb 18 01:51:39 2004
+++ F2PY/other/scipy_distutils/gnufcompiler.py	Thu Mar  4 06:28:32 2004
@@ -27,7 +27,7 @@
         'compiler_f77' : [fc_exe,"-Wall","-fno-second-underscore"],
         'compiler_f90' : None,
         'compiler_fix' : None,
-        'linker_so'    : [fc_exe],
+        'linker_so'    : ["gcc"],
         'archiver'     : ["ar", "-cr"],
         'ranlib'       : ["ranlib"],
         }
@@ -48,7 +48,8 @@
     def get_flags_linker_so(self):
         opt = []
         if sys.platform=='darwin':
-            opt.extend(["-Wl,-framework","-Wl,Python","-lcc_dynamic","-bundle"])
+#           opt.extend(["-Wl,-framework","-Wl,Python","-lcc_dynamic","-bundle"])
+            opt.extend(["-bundle","-flat_namespace","-undefined","suppress","-lcc_dynamic","-L@PREFIX@/lib"])
         else:
             opt.append("-shared")
         if sys.platform[:5]=='sunos':
