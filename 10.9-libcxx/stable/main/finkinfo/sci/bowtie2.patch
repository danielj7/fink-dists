diff -ruN bowtie2-2.2.6-orig/Makefile bowtie2-2.2.6/Makefile
--- bowtie2-2.2.6-orig/Makefile	2015-07-22 09:11:34.000000000 -0500
+++ bowtie2-2.2.6/Makefile	2015-08-16 14:44:08.000000000 -0500
@@ -449,12 +449,30 @@
 MANUAL: MANUAL.markdown
 	perl doc/strip_markdown.pl < $^ > $@
 
+.PHONY: man
+man:
+	help2man --name="wrapper for bowtie2-align" --no-info \
+		`pwd`/bowtie2 > bowtie2.1
+	help2man --name="building a colorspace index for bowtie2" --no-info \
+		`pwd`/bowtie2-build > bowtie2-build.1
+	help2man --name="extracts information from a bowtie2 index" --no-info \
+		`pwd`/bowtie2-inspect > bowtie2-inspect.1
+	help2man --name="ultrafast and memory-efficient tool for aligning sequencing reads to long reference sequences" --no-info \
+	    `pwd`/bowtie2-align-s> bowtie2-align.1
+
 .PHONY: install
-install: all
+install: all doc man
 	mkdir -p $(DESTDIR)$(bindir)
 	for file in $(BOWTIE2_BIN_LIST) bowtie2-inspect bowtie2-build bowtie2 ; do \
 		cp -f $$file $(DESTDIR)$(bindir) ; \
 	done
+	mkdir -p $(DESTDIR)$(prefix)/share/doc/bowtie2
+	cp -R doc/* $(DESTDIR)$(prefix)/share/doc/bowtie2
+	mkdir -p $(DESTDIR)$(prefix)/share/man/man1
+	cp bowtie2{,-build,-inspect,-align}.1 $(DESTDIR)$(prefix)/share/man/man1
+	mkdir -p $(DESTDIR)$(prefix)/share/bowtie2/examples
+	cp -R example/* $(DESTDIR)$(prefix)/share/bowtie2/examples
+	cp -R scripts $(DESTDIR)$(prefix)/share/bowtie2/examples
 
 .PHONY: clean
 clean:
Description: Patch injects hardening C(PP,XX) FLAGS and LDFLAGS
Author: Alexandre Mestiashvili <alex@biotec.tu-dresden.de>
        Sascha Steinbiss <satta@debian.org>
Origin: Debian Med Packaging Team <debian-med-packaging@lists.alioth.debian.org>
Last-Update: Thu, 25 Aug 2016 13:47:22 +0000
--- bowtie2.orig/Makefile
+++ bowtie2/Makefile
@@ -271,7 +271,9 @@
      $(FILE_FLAGS) \
      $(PREF_DEF) \
      $(MM_DEF) \
-     $(SHMEM_DEF)
+     $(SHMEM_DEF)\
+     $(CPPFLAGS) \
+     $(CFLAGS)
 
 #
 # bowtie2-build targets
@@ -283,7 +285,7 @@
 		$(INC) \
 		-o $@ $< \
 		$(SHARED_CPPS) $(BUILD_CPPS_MAIN) \
-		$(LIBS) $(BUILD_LIBS)
+		$(LIBS) $(BUILD_LIBS) $(LDFLAGS)
 
 bowtie2-build-l: bt2_build.cpp $(SHARED_CPPS) $(HEADERS)
 	$(CXX) $(RELEASE_FLAGS) $(RELEASE_DEFS) $(EXTRA_FLAGS) \
@@ -291,7 +293,7 @@
 		$(INC) \
 		-o $@ $< \
 		$(SHARED_CPPS) $(BUILD_CPPS_MAIN) \
-		$(LIBS) $(BUILD_LIBS)
+		$(LIBS) $(BUILD_LIBS) $(LDFLAGS)
 
 bowtie2-build-s-debug: bt2_build.cpp $(SHARED_CPPS) $(HEADERS)
 	$(CXX) $(DEBUG_FLAGS) $(DEBUG_DEFS) $(EXTRA_FLAGS) \
@@ -299,7 +301,7 @@
 		$(INC) \
 		-o $@ $< \
 		$(SHARED_CPPS) $(BUILD_CPPS_MAIN) \
-		$(LIBS) $(BUILD_LIBS)
+		$(LIBS) $(BUILD_LIBS) $(LDFLAGS)
 
 bowtie2-build-l-debug: bt2_build.cpp $(SHARED_CPPS) $(HEADERS)
 	$(CXX) $(DEBUG_FLAGS) $(DEBUG_DEFS) $(EXTRA_FLAGS) \
@@ -307,7 +309,7 @@
 		$(INC) \
 		-o $@ $< \
 		$(SHARED_CPPS) $(BUILD_CPPS_MAIN) \
-		$(LIBS) $(BUILD_LIBS)
+		$(LIBS) $(BUILD_LIBS) $(LDFLAGS)
 
 #
 # bowtie2-align targets
@@ -319,7 +321,7 @@
 		$(INC) \
 		-o $@ $< \
 		$(SHARED_CPPS) $(SEARCH_CPPS_MAIN) \
-		$(LIBS) $(SEARCH_LIBS)
+		$(LIBS) $(SEARCH_LIBS) $(LDFLAGS)
 
 bowtie2-align-l: bt2_search.cpp $(SEARCH_CPPS) $(SHARED_CPPS) $(HEADERS) $(SEARCH_FRAGMENTS)
 	$(CXX) $(RELEASE_FLAGS) $(RELEASE_DEFS) $(EXTRA_FLAGS) \
@@ -327,7 +329,7 @@
 		$(INC) \
 		-o $@ $< \
 		$(SHARED_CPPS) $(SEARCH_CPPS_MAIN) \
-		$(LIBS) $(SEARCH_LIBS)
+		$(LIBS) $(SEARCH_LIBS) $(LDFLAGS)
 
 bowtie2-align-s-debug: bt2_search.cpp $(SEARCH_CPPS) $(SHARED_CPPS) $(HEADERS) $(SEARCH_FRAGMENTS)
 	$(CXX) $(DEBUG_FLAGS) \
@@ -336,7 +338,7 @@
 		$(INC) \
 		-o $@ $< \
 		$(SHARED_CPPS) $(SEARCH_CPPS_MAIN) \
-		$(LIBS) $(SEARCH_LIBS)
+		$(LIBS) $(SEARCH_LIBS) $(LDFLAGS)
 
 bowtie2-align-l-debug: bt2_search.cpp $(SEARCH_CPPS) $(SHARED_CPPS) $(HEADERS) $(SEARCH_FRAGMENTS)
 	$(CXX) $(DEBUG_FLAGS) \
@@ -345,7 +347,7 @@
 		$(INC) \
 		-o $@ $< \
 		$(SHARED_CPPS) $(SEARCH_CPPS_MAIN) \
-		$(LIBS) $(SEARCH_LIBS)
+		$(LIBS) $(SEARCH_LIBS) $(LDFLAGS)
 
 #
 # bowtie2-inspect targets
@@ -358,7 +360,7 @@
 		$(INC) -I . \
 		-o $@ $< \
 		$(SHARED_CPPS) \
-		$(LIBS) $(INSPECT_LIBS)
+		$(LIBS) $(INSPECT_LIBS) $(LDFLAGS)
 
 bowtie2-inspect-l: bt2_inspect.cpp $(HEADERS) $(SHARED_CPPS)
 	$(CXX) $(RELEASE_FLAGS) \
@@ -367,7 +369,7 @@
 		$(INC) -I . \
 		-o $@ $< \
 		$(SHARED_CPPS) \
-		$(LIBS) $(INSPECT_LIBS)
+		$(LIBS) $(INSPECT_LIBS) $(LDFLAGS)
 
 bowtie2-inspect-s-debug: bt2_inspect.cpp $(HEADERS) $(SHARED_CPPS)
 	$(CXX) $(DEBUG_FLAGS) \
@@ -376,7 +378,7 @@
 		$(INC) -I . \
 		-o $@ $< \
 		$(SHARED_CPPS) \
-		$(LIBS) $(INSPECT_LIBS)
+		$(LIBS) $(INSPECT_LIBS) $(LDFLAGS)
 
 bowtie2-inspect-l-debug: bt2_inspect.cpp $(HEADERS) $(SHARED_CPPS)
 	$(CXX) $(DEBUG_FLAGS) \
@@ -385,7 +387,7 @@
 		$(INC) -I . \
 		-o $@ $< \
 		$(SHARED_CPPS) \
-		$(LIBS) $(INSPECT_LIBS)
+		$(LIBS) $(INSPECT_LIBS) $(LDFLAGS)
 
 #
 # bowtie2-dp targets
@@ -398,7 +400,7 @@
 		$(INC) -I . \
 		-o $@ $< \
 		$(DP_CPPS) $(SHARED_CPPS) \
-		$(LIBS) $(SEARCH_LIBS)
+		$(LIBS) $(SEARCH_LIBS) $(LDFLAGS)
 
 bowtie2-dp-debug: bt2_dp.cpp $(HEADERS) $(SHARED_CPPS) $(DP_CPPS)
 	$(CXX) $(DEBUG_FLAGS) \
@@ -407,7 +409,7 @@
 		$(INC) -I . \
 		-o $@ $< \
 		$(DP_CPPS) $(SHARED_CPPS) \
-		$(LIBS) $(SEARCH_LIBS)
+		$(LIBS) $(SEARCH_LIBS) $(LDFLAGS)
 
 bowtie2.bat:
 	echo "@echo off" > bowtie2.bat
Description: make build reproducible
 This patch removes the embedding of build specific values like
 hostname, time, etc. from the binary. It also ensures a stable
 sorting order for all wildcard expansions in the Makefile.
Author: Sascha Steinbiss <sascha@steinbiss.name>
--- bowtie2.orig/Makefile
+++ bowtie2/Makefile
@@ -31,7 +31,7 @@
 CC ?= $(GCC_PREFIX)/gcc$(GCC_SUFFIX)
 CPP ?= $(GCC_PREFIX)/g++$(GCC_SUFFIX)
 CXX ?= $(CPP)
-HEADERS = $(wildcard *.h)
+HEADERS = $(sort $(wildcard *.h))
 BOWTIE_MM = 1
 BOWTIE_SHARED_MEM = 0
 
@@ -162,7 +162,7 @@
 BUILD_CPPS = diff_sample.cpp
 BUILD_CPPS_MAIN = $(BUILD_CPPS) bowtie_build_main.cpp
 
-SEARCH_FRAGMENTS = $(wildcard search_*_phase*.c)
+SEARCH_FRAGMENTS = $(sort $(wildcard search_*_phase*.c))
 VERSION = $(shell cat VERSION)
 
 BITS=32
@@ -204,14 +204,14 @@
                        bowtie2-inspect-s-debug \
                        bowtie2-inspect-l-debug
 
-GENERAL_LIST = $(wildcard scripts/*.sh) \
-               $(wildcard scripts/*.pl) \
+GENERAL_LIST = $(sort $(wildcard scripts/*.sh)) \
+               $(sort $(wildcard scripts/*.pl)) \
                doc/manual.html \
                doc/README \
                doc/style.css \
-			   $(wildcard example/index/*.bt2) \
-			   $(wildcard example/reads/*.fq) \
-			   $(wildcard example/reads/*.pl) \
+			   $(sort $(wildcard example/index/*.bt2)) \
+			   $(sort $(wildcard example/reads/*.fq)) \
+			   $(sort $(wildcard example/reads/*.pl)) \
 			   example/reference/lambda_virus.fa \
                $(PTHREAD_PKG) \
 			   bowtie2 \
@@ -238,11 +238,11 @@
 # the Windows FIND tool instead.
 FIND=$(shell which find)
 
-SRC_PKG_LIST = $(wildcard *.h) \
-               $(wildcard *.hh) \
-               $(wildcard *.c) \
-               $(wildcard *.cpp) \
-               $(wildcard third_party/*) \
+SRC_PKG_LIST = $(sort $(wildcard *.h)) \
+               $(sort $(wildcard *.hh)) \
+               $(sort $(wildcard *.c)) \
+               $(sort $(wildcard *.cpp)) \
+               $(sort $(wildcard third_party/*)) \
                doc/strip_markdown.pl \
                Makefile \
                $(GENERAL_LIST)
@@ -265,9 +265,9 @@
 
 DEFS=-fno-strict-aliasing \
      -DBOWTIE2_VERSION="\"`cat VERSION`\"" \
-     -DBUILD_HOST="\"`hostname`\"" \
-     -DBUILD_TIME="\"`date`\"" \
-     -DCOMPILER_VERSION="\"`$(CXX) -v 2>&1 | tail -1`\"" \
+     -DBUILD_HOST="\"\"" \
+     -DBUILD_TIME="\"\"" \
+     -DCOMPILER_VERSION="\"\"" \
      $(FILE_FLAGS) \
      $(PREF_DEF) \
      $(MM_DEF) \
--- bowtie2.orig/bt2_build.cpp
+++ bowtie2/bt2_build.cpp
@@ -533,15 +533,15 @@
 			} else {
 				cout << "Neither 32- nor 64-bit: sizeof(void*) = " << sizeof(void*) << endl;
 			}
-			cout << "Built on " << BUILD_HOST << endl;
-			cout << BUILD_TIME << endl;
-			cout << "Compiler: " << COMPILER_VERSION << endl;
-			cout << "Options: " << COMPILER_OPTIONS << endl;
-			cout << "Sizeof {int, long, long long, void*, size_t, off_t}: {"
-				 << sizeof(int)
-				 << ", " << sizeof(long) << ", " << sizeof(long long)
-				 << ", " << sizeof(void *) << ", " << sizeof(size_t)
-				 << ", " << sizeof(off_t) << "}" << endl;
+			//cout << "Built on " << BUILD_HOST << endl;
+			//cout << BUILD_TIME << endl;
+			//cout << "Compiler: " << COMPILER_VERSION << endl;
+			//cout << "Options: " << COMPILER_OPTIONS << endl;
+			//cout << "Sizeof {int, long, long long, void*, size_t, off_t}: {"
+			//	 << sizeof(int)
+			//	 << ", " << sizeof(long) << ", " << sizeof(long long)
+			//	 << ", " << sizeof(void *) << ", " << sizeof(size_t)
+			//	 << ", " << sizeof(off_t) << "}" << endl;
 			return 0;
 		}
 
--- bowtie2.orig/bt2_inspect.cpp
+++ bowtie2/bt2_inspect.cpp
@@ -443,15 +443,15 @@
 			} else {
 				cout << "Neither 32- nor 64-bit: sizeof(void*) = " << sizeof(void*) << endl;
 			}
-			cout << "Built on " << BUILD_HOST << endl;
-			cout << BUILD_TIME << endl;
-			cout << "Compiler: " << COMPILER_VERSION << endl;
-			cout << "Options: " << COMPILER_OPTIONS << endl;
-			cout << "Sizeof {int, long, long long, void*, size_t, off_t}: {"
-				 << sizeof(int)
-				 << ", " << sizeof(long) << ", " << sizeof(long long)
-				 << ", " << sizeof(void *) << ", " << sizeof(size_t)
-				 << ", " << sizeof(off_t) << "}" << endl;
+			//cout << "Built on " << BUILD_HOST << endl;
+			//cout << BUILD_TIME << endl;
+			//cout << "Compiler: " << COMPILER_VERSION << endl;
+			//cout << "Options: " << COMPILER_OPTIONS << endl;
+			//cout << "Sizeof {int, long, long long, void*, size_t, off_t}: {"
+			//	 << sizeof(int)
+			//	 << ", " << sizeof(long) << ", " << sizeof(long long)
+			//	 << ", " << sizeof(void *) << ", " << sizeof(size_t)
+			//	 << ", " << sizeof(off_t) << "}" << endl;
 			return 0;
 		}
 
--- bowtie2.orig/bt2_search.cpp
+++ bowtie2/bt2_search.cpp
@@ -4658,15 +4658,15 @@
 			} else {
 				cout << "Neither 32- nor 64-bit: sizeof(void*) = " << sizeof(void*) << endl;
 			}
-			cout << "Built on " << BUILD_HOST << endl;
-			cout << BUILD_TIME << endl;
-			cout << "Compiler: " << COMPILER_VERSION << endl;
-			cout << "Options: " << COMPILER_OPTIONS << endl;
-			cout << "Sizeof {int, long, long long, void*, size_t, off_t}: {"
-				 << sizeof(int)
-				 << ", " << sizeof(long) << ", " << sizeof(long long)
-				 << ", " << sizeof(void *) << ", " << sizeof(size_t)
-				 << ", " << sizeof(off_t) << "}" << endl;
+			//cout << "Built on " << BUILD_HOST << endl;
+			//cout << BUILD_TIME << endl;
+			//cout << "Compiler: " << COMPILER_VERSION << endl;
+			//cout << "Options: " << COMPILER_OPTIONS << endl;
+			//cout << "Sizeof {int, long, long long, void*, size_t, off_t}: {"
+			//	 << sizeof(int)
+			//	 << ", " << sizeof(long) << ", " << sizeof(long long)
+			//	 << ", " << sizeof(void *) << ", " << sizeof(size_t)
+			//	 << ", " << sizeof(off_t) << "}" << endl;
 			return 0;
 		}
 		{
