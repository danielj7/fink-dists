diff -ru fort77-1.18/fort77 fort77-1.18-patched/fort77
--- fort77-1.18/fort77	Mon Apr 19 08:19:36 1999
+++ fort77-1.18-patched/fort77	Fri Oct  3 21:42:38 2003
@@ -191,7 +191,8 @@
 
 push(@fopts,$nnflag);
 push(@copts,'-ffast-math') if $optimize && $fast_math;
-push(@cppopts,@includes);
+push(@cppopts,@includes,"-I<PREFIX>/include");
+push(@lopts,"-L<PREFIX>/lib");
 push(@fopts,@includes,"-I.");
 push(@fopts, @pfiles);
 
@@ -253,7 +254,7 @@
 
 	if ($cpp || ($ffile =~ /\.F$/)) {
 #         Backslashes at the end of comment lines confuse cpp...
-	    $pipe =  "| /lib/cpp -traditional " . 
+	    $pipe =  '| /usr/bin/cpp | grep -v "#pragma" ' . 
 		join(' ',@cppopts) . " | f2c " .
 		    join(' ',@fopts) . $debugcmd . "2>$xtmperrout > $cfile ";
 	    print STDERR "$0: Running \"$pipe\"" if $verbose;
