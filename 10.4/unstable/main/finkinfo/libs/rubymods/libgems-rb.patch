diff -uNr rubygems-0.9.5/lib/rubygems/source_index.rb rubygems-0.9.5-new/lib/rubygems/source_index.rb
--- rubygems-0.9.5/lib/rubygems/source_index.rb	2007-11-17 01:23:34.000000000 -0500
+++ rubygems-0.9.5-new/lib/rubygems/source_index.rb	2007-12-08 09:28:08.000000000 -0500
@@ -220,7 +220,7 @@
       else
         version_requirement = platform_only_or_version_req ||
                                 Gem::Requirement.default
-        gem_pattern = /#{gem_pattern}/i
+        gem_pattern = /^#{gem_pattern}/i
       end
 
       unless Gem::Requirement === version_requirement then
diff -uNr rubygems-0.9.5/lib/rubygems.rb rubygems-0.9.5-new/lib/rubygems.rb
--- rubygems-0.9.5/lib/rubygems.rb	2007-11-13 16:18:38.000000000 -0500
+++ rubygems-0.9.5-new/lib/rubygems.rb	2007-12-08 09:29:21.000000000 -0500
@@ -531,7 +531,8 @@
       if defined? RUBY_FRAMEWORK_VERSION
         return File.join(File.dirname(Config::CONFIG["sitedir"]), "Gems", Config::CONFIG['ruby_version'])
       else
-        File.join(Config::CONFIG['libdir'], 'ruby', 'gems', Config::CONFIG['ruby_version'])
+        # File.join(Config::CONFIG['libdir'], 'ruby', 'gems', Config::CONFIG['ruby_version'])
+        File.join('@PREFIX@', 'var', 'lib', 'gems', Config::CONFIG['ruby_version'])
       end
     end
 
