diff -Nurd -x'*~' gedit-2.24.1.orig/configure gedit-2.24.1/configure
--- gedit-2.24.1.orig/configure	2008-11-02 18:18:39.000000000 -0500
+++ gedit-2.24.1/configure	2008-11-20 17:35:40.000000000 -0500
@@ -23903,7 +23903,7 @@
 echo "${ECHO_T}yes" >&6; }
 	:
 fi
-GEDIT_LIBS="${GEDIT_LIBS}"
+GEDIT_LIBS="${GEDIT_LIBS} -lSM"
 
 
 
diff -Nurd -x'*~' gedit-2.24.1.orig/gedit/gedit-python-module.c gedit-2.24.1/gedit/gedit-python-module.c
--- gedit-2.24.1.orig/gedit/gedit-python-module.c	2008-09-07 12:13:19.000000000 -0400
+++ gedit-2.24.1/gedit/gedit-python-module.c	2008-11-20 18:06:56.000000000 -0500
@@ -25,6 +25,8 @@
 #endif
 
 #include <Python.h>
+#undef NO_IMPORT_PYGOBJECT
+#undef NO_IMPORT_PYGTK
 #include <pygobject.h>
 #include <pygtk/pygtk.h>
 
