Package: cvs2svn
Version: 0.0.838
Revision: 1
Epoch: 1
Description: CVS to SVN (subversion) conversion [BETA]
License: BSD
Maintainer: Christian Schaffner <chris01@users.sourceforge.net>

# Dependencies:
Depends: svn-ssl (>= 1.0.1-1) | svn (>= 1.0.1-1), svn-client-ssl (>= 1.0.1-1) | svn-client (>= 1.0.1-1), svn-ssl-swig-py23 (>= 1.0.1-1) | svn-swig-py23 (>= 1.0.1-1), python23 (>= 1:2.3.3-23) | python23-nox (>= 1:2.3.3-23), python23-socket-ssl (>= 1:2.3.3-23) | python23-socket (>= 1:2.3.3-23) | python23-socket-nox (>= 1:2.3.3-23)
Conflicts: cvs2svn-ssl
Replaces: cvs2svn-ssl
Provides: cvs2svn-ssl

# Unpack Phase:
Source: mirror:sourceforge:fink/%n-%v.tar.gz
Source-MD5: 445fb4bd6702eba6be558181d0fa873d

# Compile Phase:
CompileScript: <<
  echo nothing to compile

  ### Tests disabled since they fail test 28: non ascii files converted incorrectly
  # echo "Running regression tests on cvs2svn"
  #./run-tests.py
<<

# Install Phase:
DocFiles: BUGS COMMITTERS COPYING HACKING README design-notes.txt
InstallScript: <<
 /usr/bin/install -d %i/bin
 sed -i -e 's;#!/usr/bin/env python;#!/usr/bin/env %p/bin/python2.3;' verify-cvs2svn.py
 sed -i -e 's;#!/usr/bin/env python;#!/usr/bin/env %p/bin/python2.3;' cvs2svn.py
 /usr/bin/install -m 755 cvs2svn.py %i/bin/cvs2svn
 /usr/bin/install -m 755 cvs2svn.py %i/bin/verify-cvs2svn
 /usr/bin/install -d %i/lib/python2.3/site-packages
 cp -r rcsparse %i/lib/python2.3/site-packages/rcsparse
 sed -i -e 's;cvs2svn.py;cvs2svn;' README
<<
PostInstScript: <<
 echo ""
 echo "PLEAE NOTE:"
 echo "****************************** Warning *****************************"
 echo "*                                                                  *"
 echo "* cvs2svn is not yet '1.0 quality' software. It may convert your   *"
 echo "* repository successfully, or it may error. In the worst case, it  *"
 echo "* may appear to convert your repository successfully but actually  *"
 echo "* introduce subtle inaccuracies into the revision history. Please  *"
 echo "* watch its output for warnings and errors, and mail               *"
 echo "* dev@cvs2svn.tigris.org if you encounter any problems. You can    *"
 echo "* also ask questions on the regular Subversion IRC channel,        *"
 echo "* irc.freenode.net : #svn.                                         *"
 echo "*                                                                  *"
 echo "********************************************************************"
 echo ""
<<

# Additional Info:
DescDetail: <<
cvs2svn is a Python script that converts a CVS repository to a Subversion 
repository. It is designed for one-time conversions, not for repeated 
synchronizations between CVS and Subversion.

****************************** Warning *****************************
*                                                                  *
* cvs2svn is not yet '1.0 quality' software. It may convert your   *
* repository successfully, or it may error. In the worst case, it  *
* may appear to convert your repository successfully but actually  *
* introduce subtle inaccuracies into the revision history. Please  *
* watch its output for warnings and errors, and mail               *
* dev@cvs2svn.tigris.org if you encounter any problems. You can    *
* also ask questions on the regular Subversion IRC channel,        *
* irc.freenode.net : #svn.                                         *
*                                                                  *
********************************************************************
<<
DescUsage: <<
Please read '/sw/share/doc/cvs2svn/README' and 'cvs2svn --help' 
for usage help.
<<
Homepage: http://cvs2svn.tigris.org/
