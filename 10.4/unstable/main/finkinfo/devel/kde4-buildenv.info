Package: kde4-buildenv
Version: 4.2.2
Revision: 3
Description: Scripts for simplifying KDE4 builds
License: BSD
Maintainer: Benjamin Reed <kde4-buildenv@fink.racoonfink.com>

Depends: cmake (>= 2.6.3-1)

CustomMirror: <<
	Primary: http://ranger.users.finkproject.org/distfiles
	eur-NL: http://ranger.users.finkproject.org/distfiles
	nam-US: http://ranger.befunk.com/fink
	nam-US: http://astrange.ithinksw.net/~astrange/ranger-fink
	nam-CA: http://www.southofheaven.net/befunk
<<
NoSourceDirectory: true
Source: mirror:custom:%n/%n-%v-%r.sh
Source-MD5: 674bf66831caf3e1a2a701ab7d5b3da3
Source2: mirror:custom:%n/normalize-filenames-%v-%r.sh
Source2-MD5: 1ed82aa98b9673ca6fc6749d3793d767

CompileScript: echo "none"

InstallScript: <<
#!/bin/sh -ev

	install -d -m 755 %i/sbin
	sed -e 's,@PREFIX@,%p,g' %n-%v-%r.sh > %i/sbin/%n.sh
	cp normalize-filenames-%v-%r.sh %i/sbin/normalize-filenames.sh
	chmod 755 %i/sbin/*.sh
<<

Homepage: http://ranger.befunk.com/fink/%n
DescDetail: <<
When packaging KDE4 software, in your CompileScript, first do:

  KDE4_TYPE=x11
  KDE4_PREFIX=%p
  . %p/sbin/%n.sh

Then, you run cmake like so:

  mkdir build
  pushd build
    cmake $KDE4_CMAKE_ARGS ..
  popd
<<

