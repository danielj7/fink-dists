--- wxPythonSrc-2.4.1.2/src/unix/utilsunx.cpp	Tue Apr  8 16:58:38 2003
+++ wxPythonSrc-2.4.1.2-patched/src/unix/utilsunx.cpp	Sat Dec 13 10:57:07 2003
@@ -534,7 +534,7 @@
     wxChar **mb_argv = argv;
 #endif // Unicode/ANSI
 
-#if wxUSE_GUI && !defined(__DARWIN__)
+#if wxUSE_GUI 
     // create pipes
     wxPipe pipeEndProcDetect;
     if ( !pipeEndProcDetect.Create() )
@@ -545,7 +545,7 @@
 
         return ERROR_RETURN_CODE;
     }
-#endif // wxUSE_GUI && !defined(__DARWIN__)
+#endif // wxUSE_GUI 
 
     // pipes for inter process communication
     wxPipe pipeIn,      // stdin
@@ -596,9 +596,9 @@
                 if ( fd == pipeIn[wxPipe::Read]
                         || fd == pipeOut[wxPipe::Write]
                         || fd == pipeErr[wxPipe::Write]
-#if wxUSE_GUI && !defined(__DARWIN__)
+#if wxUSE_GUI 
                         || fd == pipeEndProcDetect[wxPipe::Write]
-#endif // wxUSE_GUI && !defined(__DARWIN__)
+#endif // wxUSE_GUI 
                    )
                 {
                     // don't close this one, we still need it
@@ -620,12 +620,12 @@
         }
 #endif // !__VMS
 
-#if wxUSE_GUI && !defined(__DARWIN__)
+#if wxUSE_GUI 
         // reading side can be safely closed but we should keep the write one
         // opened
         pipeEndProcDetect.Detach(wxPipe::Write);
         pipeEndProcDetect.Close();
-#endif // wxUSE_GUI && !defined(__DARWIN__)
+#endif // wxUSE_GUI 
 
         // redirect stdin, stdout and stderr
         if ( pipeIn.IsOk() )
@@ -721,9 +721,7 @@
         }
 
 
-#if defined(__DARWIN__)
-        data->tag = wxAddProcessCallbackForPid(data,pid);
-#else
+
         data->tag = wxAddProcessCallback
                     (
                         data,
@@ -731,7 +729,6 @@
                     );
 
         pipeEndProcDetect.Close();
-#endif // defined(__DARWIN__)
 
         if ( flags & wxEXEC_SYNC )
         {
