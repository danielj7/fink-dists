Package: portaudio
Version: 0.18.1
Revision: 1

BuildDepends: autoconf2.5
BuildDependsOnly: true
Depends: portaudio-shlibs (= %v-%r)

Source: http://www.portaudio.com/archives/%n_v18_1.zip
Source-MD5: ce66a732d263fde2b5ad2262ef37a691
UpdateConfigGuess: true

Patch: %n.patch
PatchScript: <<
autoconf
chmod +x configure
<<

InstallScript: <<
mkdir %i/include
cp pa_common/portaudio.h %i/include
mkdir %i/lib
cp lib/libportaudio.dylib.0.0.18 %i/lib/libportaudio.dylib.0.18.1
cp lib/libportaudio.a %i/lib/
ranlib %i/lib/libportaudio.a
ln -s %p/lib/libportaudio.0.18.1 %i/lib/libportaudio.0.dylib
ln -s %p/lib/libportaudio.0.18.1 %i/lib/libportaudio.dylib
cp -r bin %i
mkdir %i/share
mkdir %i/share/doc
mkdir %i/share/doc/%n
cp -r docs %i/share/doc/%n/
<<


SplitOff: <<
  Package: %N-shlibs
  Files: lib/libportaudio.dylib.0.18.1 lib/libportaudio.0.dylib
  Shlibs: %p/lib/libportaudio.0.dylib 0.18.0 %n (>= 0.18.1-1)
  DocFiles: LICENSE.txt
<<


DocFiles: index.html LICENSE.txt README.txt

Description: Cross platform audio I/O library

DescDetail: <<
PortAudio is a cross platform, open-source audio I/O library proposed by Ross
Bencina to the music-dsp mailing list. It lets you write simple audio programs
in 'C' that will compile and run on Windows, Macintosh, Unix, BeOS. PortAudio
is intended to promote the exchange of audio synthesis software between
developers on different platforms.
<<

DescPort: <<
./configure, ./config.sub, ./config.guess were outdated.
libtool is not used so links for shared library had to be created and ranlib had to be called on static library
some frameworks were missing for linking were missing
copied doc files manually
<<

License: BSD
Homepage: http://www.portaudio.com
Maintainer: Matthias Ringwald <freckle@users.sf.net>
