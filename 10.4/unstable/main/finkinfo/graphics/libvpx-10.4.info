Package: libvpx
Version: 0.9.0-20100526
Revision: 1
Distribution: 10.4
Description: WebM VP8 Codec SDK
DescPackaging: <<
	Only contains headers and static library. Doesn't make shared libs.
<<
License: BSD
Homepage: http://www.webmproject.org/
Maintainer: Daniel Johnson <daniel@daniel-johnson.org>

#Source: http://webm.googlecode.com/files/%n-%v.tar.bz2
# Tarball made from git commit 0270a790d763fc66121a7d9c69030516994f2ca8
# from git://review.webmproject.org/libvpx.git
Source: http://homepage.mac.com/danielj7/%n-%v.tar.bz2
Source-MD5: d1bc9488827ca2d24414ce0540045ed8

#Older 10.4 Xcodes don't have system-sdk-10.4-universal
PatchScript: perl -pi -e 's/-isysroot.*sdk//g' build/make/configure.sh

BuildDepends: (%m != powerpc) yasm
BuildDependsOnly: true

NoSetCPPFLAGS: true
NoSetLDFLAGS: true

CompileScript: <<
	#!/bin/bash -ev
	if [ "%m" = "powerpc" ]; then
		./configure --target=ppc32-darwin8-gcc
	else
		./configure --target=x86-darwin8-gcc
	fi
	make
<<

InstallScript: <<
	make install DIST_DIR=%i
<<

DocFiles: AUTHORS CHANGELOG LICENSE README

SplitOff: <<
	Package: %N-bin
	Files: bin
	
	DocFiles: AUTHORS CHANGELOG LICENSE README
<<
