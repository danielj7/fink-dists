diff -Naur fluidsynth-1.0.8/configure.old fluidsynth-1.0.8/configure
--- fluidsynth-1.0.8/configure.old	2008-01-12 04:38:42.000000000 -0500
+++ fluidsynth-1.0.8/configure	2008-01-12 04:40:18.000000000 -0500
@@ -21478,13 +21478,13 @@
 
 	midishare_found=yes
 
-{ echo "$as_me:$LINENO: checking for MidiOpen in -lMidiShare" >&5
-echo $ECHO_N "checking for MidiOpen in -lMidiShare... $ECHO_C" >&6; }
+{ echo "$as_me:$LINENO: checking for MidiOpen in -framework MidiShare" >&5
+echo $ECHO_N "checking for MidiOpen in -framework MidiShare... $ECHO_C" >&6; }
 if test "${ac_cv_lib_MidiShare_MidiOpen+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lMidiShare  $LIBS"
+LIBS="-framework MidiShare  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -21544,7 +21544,7 @@
 #define HAVE_LIBMIDISHARE 1
 _ACEOF
 
-  LIBS="-lMidiShare $LIBS"
+  LIBS="-framework MidiShare $LIBS"
 
 else
   midishare_found=no
--- fluidsynth-1.0.9/src/fluid_coremidi.c.orig	2009-09-12 21:21:18.000000000 -0700
+++ fluidsynth-1.0.9/src/fluid_coremidi.c	2009-09-12 21:22:22.000000000 -0700
@@ -32,6 +32,18 @@
 #include "fluid_mdriver.h"
 #include "fluid_settings.h"
 
+/* enum definition in OpenTransportProviders.h defines these tokens 
+   which are #defined from <netinet/tcp.h> */
+#ifdef	TCP_NODELAY
+#undef	TCP_NODELAY
+#endif
+#ifdef	TCP_MAXSEG
+#undef	TCP_MAXSEG
+#endif
+#ifdef	TCP_KEEPALIVE
+#undef	TCP_KEEPALIVE
+#endif
+
 #include <unistd.h>
 #include <CoreServices/CoreServices.h>
 #include <CoreMIDI/MIDIServices.h>
