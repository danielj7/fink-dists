Info2: <<
Package: gmp%type_pkg[-64bit]
Version: 4.2.2
Revision: 1001
GCC: 4.0
Type: -64bit (boolean)
Source: mirror:gnu:gmp/gmp-%v.tar.gz
Source-MD5: 1def49df60248a08374ecd6cdcaa5d3d
PatchFile: %{ni}.patch
PatchFile-MD5: c5029ecea4364237056f9cfc9fe0e81c
Depends: %N-shlibs (= %v-%r), libgmpxx%type_pkg[-64bit]-shlibs (= %v-%r), ( %type_raw[-64bit] = -64bit ) 64bit-cpu
BuildDepends: fink (>= 0.26.0), gcc4.0 (>= 4.0.1-1)
Conflicts: gmp, gmp-64bit
Replaces: gmp, gmp-64bit
ConfigureParams: --infodir='${prefix}/share/info' --enable-cxx
CompileScript: <<
#! /bin/sh -ev
 if [ "%type_raw[-64bit]" == "." ]; then
  ABI=32 ./configure %c  --libdir='${prefix}/%lib'; 
 else
  patch -p1 < %{PatchFile}
  case "%m" in
    i386) ABI=64 ./configure %c --libdir='${prefix}/%lib';;
    powerpc) ABI=mode64  ./configure %c --libdir='${prefix}/%lib';;
  esac
fi
make
make check
<<
DocFiles: COPYING COPYING.LIB README
InfoDocs: gmp.info gmp.info-1 gmp.info-2
BuildDependsOnly: True
SplitOff: <<
  Package: %N-shlibs
  Depends: ( %type_raw[-64bit] = -64bit ) 64bit-cpu
  Replaces: gmp (<< 4.0.1-1)
  Files: %lib/libgmp.*.dylib
  Shlibs: <<
    %p/%lib/libgmp.3.dylib 8.0.0 %n (>= 4.2.1-1) %type_num[-64bit]
  <<
  Description: Shared library for gmp package
  DocFiles: doc/* AUTHORS COPYING COPYING.LIB ChangeLog INSTALL NEWS README
<<
SplitOff2: <<
  Package: libgmpxx%type_pkg[-64bit]-shlibs
  Depends: ( %type_raw[-64bit] = -64bit ) 64bit-cpu, %N-shlibs
  Replaces: gmp (<< 4.0.1-1), gmp-shlibs (<< 4.1.4-1)
  Files: %lib/libgmpxx.*.dylib
  Shlibs: <<
    %p/%lib/libgmpxx.4.dylib 5.0.0 %n (>= 4.2.1-1) %type_num[-64bit]
  <<
  Description: Shared C++ library for gmp package
  DocFiles: doc/* AUTHORS COPYING COPYING.LIB ChangeLog INSTALL NEWS README
<<
License: LGPL
Description: GNU multiple precision arithmetic library
DescDetail: <<
 GNU MP is a portable library written in C for arbitrary precision 
 arithmetic on integers, rational numbers, and floating-point numbers.
<<
DescPackaging: <<
 Unfortunately, the libgmpxx4 splitoff, which existed from vers. 4.1.4-1
 through vers. 4.2.1-1008, was misnamed.  It *should* have been called
 libgmpxx3, and the new version of that library should now be in a splitoff
 called libgmpxx4.  To work around this, the splitoff is now called
 libgmpxx (with no number); note that the next time the major version of
 this library changes, the splitoff should go to libgmpxx5.
<<
DescPort: <<
 Patch from Ben Hines to build libgmpxx, as of vers. 4.1-2.  As of vers.
 4.1.4-1, libgmpxx gets its own splitoff.

 As of vers. 4.2, mpfr is a separate library, available in fink as the 
 libmpfr1 package.
<<
Maintainer: Dave Morrison <drm@finkproject.org>
Homepage: http://gmplib.org
<<
