Package: openssl
Version: 0.9.6e
Revision: 1
Depends: %N-shlibs (= %v-%r)
Source: mirror:custom:source/%n-%v.tar.gz
CustomMirror: <<
  Primary:   http://www.openssl.org/
  Secondary: http://www.planetmirror.com/pub/openssl/
<<

Patch: %f.patch
PatchScript: perl util/perlpath.pl /usr/bin
CompileScript: <<
 ./config shared --prefix=%p --openssldir=%p/etc/ssl
 sed 's/^SHARED_LIBS_LINK_EXTS=.*/SHARED_LIBS_LINK_EXTS=.dylib/' <Makefile.ssl >Makefile.tmp
 mv -f Makefile.tmp Makefile.ssl
 make
<<
InstallScript: <<
 make install INSTALL_PREFIX=%d MANDIR=%p/share/man
<<
SplitOff: <<
  Package: %N-shlibs
  Replaces: %N (<= 0.9.6c-1)
  Files: lib/libcrypto.0.9.6.dylib lib/libssl.0.9.6.dylib
  DocFiles: README LICENSE CHANGES FAQ NEWS
<<
SplitOff2: <<
  Package: %N-dev
  Depends: %N-shlibs (= %v-%r)
  Replaces: %N (<= 0.9.6c-2)
  BuildDependsOnly: True
  Files: include lib/libcrypto.dylib lib/libssl.dylib lib/*.a share/man/man3 share/man/man5 share/man/man7
  DocFiles: README LICENSE CHANGES FAQ NEWS
<<
DocFiles: README LICENSE CHANGES FAQ NEWS
ConfFiles: %p/etc/ssl/openssl.cnf
#
Description: Secure Sockets Layer and general crypto library
DescDetail: <<
OpenSSL is a free implementation of the Secure Sockets Layer (SSL)
and Transport Layer Security (TLS) protocols. It includes command line
utilities to manager certificates and a separate library implementing
common cryptograhic algorithms.
<<
DescPort: <<
We do something ugly: we force the compatibility version of the created shared
libraries to be 0.9.6 instead of the default 0.9.0 (which is also used by Apple's
OpenSSL). We do so to be backward compatible with older versions of this package.
<<
License: OSI-Approved
Homepage: http://www.openssl.org/
Maintainer: Max Horn <max@quendi.de>
