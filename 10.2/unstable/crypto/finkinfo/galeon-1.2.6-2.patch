diff -Naur galeon-1.2.6/configure galeon-new/configure
--- galeon-1.2.6/configure	Sat Sep 14 00:35:09 2002
+++ galeon-new/configure	Sun Nov  3 15:21:53 2002
@@ -2573,13 +2573,13 @@
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g -O3"
   else
     CFLAGS="-g"
   fi
 else
   if test "$GCC" = yes; then
-    CFLAGS="-O2"
+    CFLAGS="-O3"
   else
     CFLAGS=
   fi
@@ -5209,7 +5209,7 @@
     # FIXME: Relying on posixy $() will cause problems for
     #        cross-compilation, but unfortunately the echo tests do not
     #        yet detect zsh echo's removal of \ escapes.
-    archive_cmds='$nonopt $(test "x$module" = xyes && echo -bundle || echo -dynamiclib) $allow_undefined_flag -o $lib $libobjs $deplibs$linker_flags -install_name $rpath/$soname $verstring'
+    archive_cmds='$nonopt $(test x$module = xyes && echo -bundle || echo -dynamiclib) $allow_undefined_flag -o $lib $libobjs $deplibs$linker_flags $(test x$module = xyes || echo -install_name $rpath/$soname $verstring)'
     # We need to add '_' to the symbols in $export_symbols first
     #archive_expsym_cmds="$archive_cmds"' && strip -s $export_symbols'
     hardcode_direct=yes
@@ -7748,13 +7748,13 @@
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g -O3"
   else
     CFLAGS="-g"
   fi
 else
   if test "$GCC" = yes; then
-    CFLAGS="-O2"
+    CFLAGS="-O3"
   else
     CFLAGS=
   fi
@@ -8098,13 +8098,13 @@
   CXXFLAGS=$ac_save_CXXFLAGS
 elif test $ac_cv_prog_cxx_g = yes; then
   if test "$GXX" = yes; then
-    CXXFLAGS="-g -O2"
+    CXXFLAGS="-g -O3"
   else
     CXXFLAGS="-g"
   fi
 else
   if test "$GXX" = yes; then
-    CXXFLAGS="-O2"
+    CXXFLAGS="-O3"
   else
     CXXFLAGS=
   fi
diff -Naur galeon-1.2.6/omf-install/Makefile.in galeon-new/omf-install/Makefile.in
--- galeon-1.2.6/omf-install/Makefile.in	Sat Sep 14 00:40:24 2002
+++ galeon-new/omf-install/Makefile.in	Sun Nov  3 15:21:53 2002
@@ -287,7 +287,7 @@
 	-for file in $(srcdir)/*.omf; do \
 		$(INSTALL_DATA) $(srcdir)/$$file $(DESTDIR)$(omf_dest_dir); \
 	done
-	-scrollkeeper-update -p $(scrollkeeper_localstate_dir) 
+#	-scrollkeeper-update -p $(scrollkeeper_localstate_dir) 
 
 uninstall-local:
 	-for file in $(srcdir)/*.omf; do \
diff -Naur galeon-1.2.6/src/galeon.in galeon-new/src/galeon.in
--- galeon-1.2.6/src/galeon.in	Thu Dec 27 19:13:42 2001
+++ galeon-new/src/galeon.in	Sun Nov  3 15:29:13 2002
@@ -21,8 +21,8 @@
 	exit
 fi
 
-LD_LIBRARY_PATH=$MOZILLA_HOME:$LD_LIBRARY_PATH
-export LD_LIBRARY_PATH
+DYLD_LIBRARY_PATH=$MOZILLA_HOME:$DYLD_LIBRARY_PATH
+export DYLD_LIBRARY_PATH
 
 MOZILLA_FIVE_HOME=$MOZILLA_HOME
 export MOZILLA_FIVE_HOME
@@ -34,9 +34,12 @@
 	fi
 fi
 
+# gconf screwing up again...
+$dist_bin/gconftool --install-schema-file=@prefix@/etc/gconf/schemas/galeon.schemas > /dev/null
+
 if [ -f ./galeon-bin ]; then
-exec ./galeon-bin "$@"
+exec ./galeon-bin --no-xshm "$@"
 else
-exec $dist_bin/galeon-bin "$@"
+exec $dist_bin/galeon-bin --no-xshm "$@"
 fi
 
diff -Naur galeon-1.2.6/src/mozilla/Makefile.in galeon-new/src/mozilla/Makefile.in
--- galeon-1.2.6/src/mozilla/Makefile.in	Sat Sep 14 00:39:56 2002
+++ galeon-new/src/mozilla/Makefile.in	Sun Nov  3 15:21:53 2002
@@ -248,7 +248,7 @@
 	ProgressCallbacks.h
 
 
-libgaleon_xpcom_la_LDFLAGS = -avoid-version
+libgaleon_xpcom_la_LDFLAGS = -avoid-version -module
 
 galeon_libdir = $(pkglibdir)/components
 galeon_lib_LTLIBRARIES = libgaleon-xpcom.la
