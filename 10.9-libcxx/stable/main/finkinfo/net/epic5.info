Package: epic5
Version: 1.1.11
Revision: 1
Source: ftp://ftp.epicsol.org/pub/epic/EPIC5-PRODUCTION/%n-%v.tar.bz2
Source-MD5: 32975dbdd238e3793227f975e408b428
BuildConflicts: <<
	ruby18-dev,
	ruby19-dev,
	ruby20-dev,
	ruby21-dev,
	ruby22-dev,
	ruby23-dev,
	tcltk-dev
<<
BuildDepends: <<
	fink-package-precedence,
	libarchive31,
	libiconv-dev,
	libncurses5 (>= 5.4-20041023-1006),
	openssl100-dev,
	system-perl
<<
Depends: <<
	libarchive31-shlibs,
	libiconv,
	libncurses5-shlibs,
	openssl100-shlibs
<<
DocFiles: BUG_FORM COPYRIGHT EPIC4-USERS-README KNOWNBUGS README README-CRYPTO UPDATES WISHLIST doc/DCC_REVERSE doc/EPIC_ABOUT doc/EPIC_THANKS doc/EPIC_VERSIONS doc/IPV6 doc/IRCII_VERSIONS doc/README.SSL doc/SILLINESS doc/TS4 doc/dccresum.txt doc/missing doc/nicknames doc/outputhelp
SetCFLAGS: -I%p/include -MD
PatchScript: <<
	perl -pi -e 's/iconv_open/libiconv_open/g' configure
	perl -pi -e 's/\s(iconv_(open|close))/ lib\1/g ; s/=\siconv\s/= libiconv /' source/ircaux.c source/functions.c
<<

ConfigureParams: <<
	--mandir=%i/share/man \
	--libexecdir=%i/lib \
	--with-perl \
	--with-ruby \
	--with-iconv=%p \
	--with-ssl=%p \
	--enable-dependency-tracking
<<
CompileScript: <<
	./configure %c
	### patch to find system-ruby
	perl -pi -e 's|-lruby.2.0.0|/usr/lib/libruby.dylib|g' source/Makefile
	make -w
	fink-package-precedence --depfile-ext='\.d' .
<<
# Default InstallScript

Description: Enhanced Programmable ircII Client
DescDetail: <<
The ircII/EPIC program is a unix-based character oriented user agent
('client') to Internet Relay Chat.  It is a fully functional ircII client
with many useful extensions.  This version works with all modern irc
server classes as of early 1999.
<<
DescPort: <<
Patch to use various libiconv*() rather than iconv*() functions which aren't in
Fink's libiconv.

The-idirafter flag in CFLAGS is to work around a conflict between the local term.h and 
the ncurses term.h.

Uses the system's Tcl, and Ruby (v2.0 max).  

Currently does not build Perl bindings because it wants to build multi-arch, and 
failed when I (AKH) tried to force it to build single-arch.
<<
License: BSD
Homepage: http://www.epicsol.org/
Maintainer: None <fink-devel@lists.sourceforge.net>
