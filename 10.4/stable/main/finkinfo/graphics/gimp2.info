Info2: <<
Package: gimp2%type_pkg[-svg]
Type: -svg (boolean)

Version: 2.4.5
Revision: 1

Source: mirror:gimp:v2.4/gimp-%v.tar.bz2
Depends: %N-shlibs (= %v-%r)
Conflicts: gimp2,gimp2-svg,gimp2-noprint,gimp2-svg-noprint
Replaces: gimp2,gimp2-svg,gimp2-noprint,gimp2-svg-noprint
Recommends: %N-default (= %v-%r), gimp2-help
BuildDepends: <<
pkgconfig (>= 0.21-1), xft2-dev, glitz, cairo (>= 1.6-1), libpng3, libjpeg, libtiff, glib2-dev (>= 2.14.0-1), giflib, aalib (>= 1.4rc5-2), libgettext3-dev, gettext-bin, gettext-tools, libiconv-dev, gtk-doc (>= 1.8-1), x11-dev, libexif12, gtk+2-dev (>= 2.12.0-1), libart2, libmng2, expat1, fontconfig2-dev (>= 2.4.1-1), lcms, libwmf, pango1-xft2-ft219-dev (>= 1.18.4-4), pixman (>= 0.10.0-1), atk1 (>= 1.20.0-1), intltool (>= 0.36.0-1), freetype219 (>= 2.3.5-1),
 (%type_raw[-svg] = -svg) librsvg2 (>= 2.18.0-1),
 (%type_raw[-svg] = -svg) audiofile,
 (%type_raw[-svg] = -svg) avahi-dev,
 (%type_raw[-svg] = -svg) esound,
 (%type_raw[-svg] = -svg) gail18-dev (>= 1.20.0-1),
 (%type_raw[-svg] = -svg) gconf2-dev (>= 2.20.0-1),
 (%type_raw[-svg] = -svg) dbus-dev (>= 1.0-1),
 (%type_raw[-svg] = -svg) gnome-vfs2-unified-dev (>= 1:2.20.0-1),
 (%type_raw[-svg] = -svg) gnome-keyring-dev,
 (%type_raw[-svg] = -svg) libavahi-glib1-dev,
 (%type_raw[-svg] = -svg) libbonobo2-dev (>= 2.20.0-1),
 (%type_raw[-svg] = -svg) libbonoboui2-dev (>= 2.20.0-1),
 (%type_raw[-svg] = -svg) libgnome2-dev (>= 2.20.0-1),
 (%type_raw[-svg] = -svg) libgnomecanvas2-dev (>= 2.20.0-1),
 (%type_raw[-svg] = -svg) libgnomeui2-dev (>= 2.20.0-1),
 (%type_raw[-svg] = -svg) libgsf1.114-dev (>= 1.14.5-1),
 (%type_raw[-svg] = -svg) libxml2 (>= 2.6.30-1),
 (%type_raw[-svg] = -svg) orbit2-dev (>= 2.14.9-1),
 (%type_raw[-svg] = -svg) libgtkhtml2 (>= 2.6.3-1013),
 (%type_raw[-svg] = -svg) libcroco3,
 (%type_raw[-svg] = -svg) popt,
 libxslt (>= 1.1.22-1), libncurses5, bzip2-dev
<<
Source-MD5: 162e264dc5f0c7e4de8794e78818381f
SetCC: gcc -I%p/lib/fontconfig2/include -L%p/lib/fontconfig2/lib -I%p/lib/freetype219/include -L%p/lib/freetype219/lib
SetLIBS: -liconv -lintl -lexpat
SetLDFLAGS: -Wl,-search_paths_first
DocFiles: COPYING AUTHORS LICENSE NEWS* README*
ConfigureParams: --disable-print --without-libcurl --without-poppler --disable-python --disable-dependency-tracking --enable-altivec --enable-mp --enable-gtk-doc --with-shm=posix --with-aa --with-sendmail=/usr/sbin/sendmail --mandir=%p/share/man --disable-mmx PKG_CONFIG_PATH="%p/lib/pango-ft219/lib/pkgconfig:%p/lib/fontconfig2/lib/pkgconfig:%p/lib/freetype219/lib/pkgconfig:$PKG_CONFIG_PATH" FREETYPE_CONFIG=%p/lib/freetype219/bin/freetype-config

PatchScript: <<
#!/bin/sh -ev
if [ "%type_raw[-svg]" != "-svg" ]; then
 sed 's;SVG = @SVG@;SVG = ;' < plug-ins/common/Makefile.in > tmp
 mv tmp plug-ins/common/Makefile.in
fi
sed -i.bak -e 's|# (web-browser "firefox|(web-browser "open|' etc/gimprc
<<

CompileScript: <<
#!/bin/sh -ev
export F77=no
./configure %c
make
<<

InstallScript: <<
#!/bin/sh -ev
  make install DESTDIR=%d

  if [ "%type_raw[-svg]" != "-svg" ]; then
   rm -f %i/lib/gimp/2.0/plug-ins/svg 
   rm -f %i/lib/gimp/2.0/plug-ins/helpbrowser
  fi

  strip -S %i/bin/gimp-2.4  %i/lib/libgimp*-2.0.0.400.5.dylib || true
  strip -S %i/lib/gimp/2.0/plug-ins/* || true
  strip -S %i/lib/gimp/2.0/modules/* || true
<<

SplitOff: <<
 Package: %N-ghostscript
 Depends: %N-shlibs (= %v-%r), ghostscript, libwmf-shlibs
 Conflicts: gimp2-ghostscript,gimp2-svg-ghostscript,gimp2-noprint-ghostscript,gimp2-svg-noprint-ghostscript
 Replaces: gimp2-ghostscript,gimp2-svg-ghostscript,gimp2-noprint-ghostscript,gimp2-svg-noprint-ghostscript
 Files: lib/gimp/2.0/plug-ins/wmf lib/gimp/2.0/plug-ins/postscript
 DocFiles: COPYING AUTHORS LICENSE NEWS* README*
<<

SplitOff2: <<
 Package: %N-shlibs
 Depends: libpng3-shlibs, libjpeg-shlibs, libtiff-shlibs, glib2-shlibs (>= 2.14.0-1), gtk+2-shlibs (>= 2.12.0-1), giflib-shlibs, aalib-shlibs, libgettext3-shlibs, libiconv, libexif12-shlibs, libart2-shlibs, libmng2-shlibs, expat1-shlibs, lcms-shlibs, (%type_raw[-svg] = -svg) librsvg2-shlibs (>= 2.18.0-1), (%type_raw[-svg] = -svg) libgtkhtml2-shlibs, atk1-shlibs (>= 1.20.0-1), pango1-xft2-ft219-shlibs (>= 1.18.4-4), libncurses5-shlibs, freetype219-shlibs (>= 2.3.5-1), fontconfig2-shlibs (>= 2.4.1-1)
 Conflicts: gimp2-shlibs,gimp2-svg-shlibs,gimp2-noprint-shlibs,gimp2-svg-noprint-shlibs
 Replaces: <<
   gimp2,gimp2-svg,gimp2-noprint,gimp2-svg-noprint,
   gimp2-shlibs,gimp2-svg-shlibs,gimp2-noprint-shlibs,gimp2-svg-noprint-shlibs
 <<
 Files: <<
 lib/gimp
 lib/libgimp-2.0.0.400.5.dylib        lib/libgimp-2.0.0.dylib
 lib/libgimpbase-2.0.0.400.5.dylib    lib/libgimpbase-2.0.0.dylib
 lib/libgimpcolor-2.0.0.400.5.dylib   lib/libgimpcolor-2.0.0.dylib
 lib/libgimpconfig-2.0.0.400.5.dylib  lib/libgimpconfig-2.0.0.dylib
 lib/libgimpmath-2.0.0.400.5.dylib    lib/libgimpmath-2.0.0.dylib
 lib/libgimpmodule-2.0.0.400.5.dylib  lib/libgimpmodule-2.0.0.dylib
 lib/libgimpthumb-2.0.0.400.5.dylib   lib/libgimpthumb-2.0.0.dylib
 lib/libgimpui-2.0.0.400.5.dylib      lib/libgimpui-2.0.0.dylib
 lib/libgimpwidgets-2.0.0.400.5.dylib lib/libgimpwidgets-2.0.0.dylib
 share/gimp
 share/locale
 <<
 Shlibs: <<
 %p/lib/libgimp-2.0.0.dylib        401.0.0 %n (>= 2.4.5-1)
 %p/lib/libgimpbase-2.0.0.dylib    401.0.0 %n (>= 2.4.5-1)
 %p/lib/libgimpcolor-2.0.0.dylib   401.0.0 %n (>= 2.4.5-1)
 %p/lib/libgimpconfig-2.0.0.dylib  401.0.0 %n (>= 2.4.5-1)
 %p/lib/libgimpmath-2.0.0.dylib    401.0.0 %n (>= 2.4.5-1)
 %p/lib/libgimpmodule-2.0.0.dylib  401.0.0 %n (>= 2.4.5-1)
 %p/lib/libgimpthumb-2.0.0.dylib   401.0.0 %n (>= 2.4.5-1)
 %p/lib/libgimpui-2.0.0.dylib      401.0.0 %n (>= 2.4.5-1)
 %p/lib/libgimpwidgets-2.0.0.dylib 401.0.0 %n (>= 2.4.5-1)
 <<
 DocFiles: COPYING AUTHORS LICENSE NEWS* README*
 DescPackaging: <<
   libgimpbase was previously in %N
 <<
<<

SplitOff3: <<
 Package: %N-dev
 Depends: %N-shlibs (= %v-%r), pkgconfig (>= 0.21-1)
 Conflicts: gimp2-dev,gimp2-svg-dev,gimp2-noprint-dev,gimp2-svg-noprint-dev, gimp-dev (<= 2.0.0-5)
 Replaces: gimp2-dev,gimp2-svg-dev,gimp2-noprint-dev,gimp2-svg-noprint-dev, gimp-dev (<= 2.0.0-5)
 BuildDependsOnly: true
 Files: include lib/*.la lib/libgimp-2.0.dylib lib/libgimpbase-2.0.dylib lib/libgimpcolor-2.0.dylib lib/libgimpconfig-2.0.dylib lib/libgimpmath-2.0.dylib lib/libgimpmodule-2.0.dylib lib/libgimpthumb-2.0.dylib lib/libgimpui-2.0.dylib lib/libgimpwidgets-2.0.dylib lib/pkgconfig share/aclocal share/gtk-doc bin/gimptool-2.0 
 DocFiles: COPYING AUTHORS LICENSE NEWS* README*
<<

SplitOff4: <<
 Package: %N-default
 Depends: %N (= %v-%r)
 Replaces: gimp-default, gimp2-default, gimp2-noprint-default, gimp2-svg-default, gimp2-svg-noprint-default, gimp (<= 1.2.5-4)
 Conflicts: gimp-default, gimp2-default, gimp2-noprint-default, gimp2-svg-default, gimp2-svg-noprint-default, gimp (<= 1.2.5-4)
 Files: bin/gimp bin/gimp-console bin/gimp-remote share/man/man1/gimp.1 share/man/man1/gimp-console.1 share/man/man1/gimp-remote.1 share/man/man5/gimprc.5
 DocFiles: COPYING AUTHORS LICENSE NEWS* README*
<<



ConfFiles: <<
 %p/etc/gimp/2.0/gimprc %p/etc/gimp/2.0/sessionrc
 %p/etc/gimp/2.0/gtkrc %p/etc/gimp/2.0/templaterc
 %p/etc/gimp/2.0/ps-menurc
 %p/etc/gimp/2.0/unitrc
 %p/etc/gimp/2.0/controllerrc
 %p/etc/gimp/2.0/menurc
<<
#
Description: The GNU Image Manipulation Program 2.0
DescUsage: <<
rsvg2 and gtkhtml are disabled by default, as they are very large.
Compiling gimp2-svg will enable them.

If you did not install "Gimp-Print Printer Drivers" when installing OS
X, you need -noprint. Note that printing is disabled on 10.4 even in the
variant that is not -noprint (in fact, it is identical to the -noprint
variant). "only -noprint will work until gimp-print7-dev exist"

The -ghostscript splitoff contains the WMF and PostScript plugins;
this allows you to run Gimp without libwmf and ghostscript installed.

The main program is installed as "gimp-2.0" in the main gimp2 package
(including the -svg and/or -noprint variants). To install it as "gimp"
also, install the package tagged -default associated with your chosen
gimp2 variant main package.
<<
License: GPL/LGPL
Homepage: http://www.gimp.org/
Maintainer: Alexander Strange <astrange@ithinksw.com>
<<
