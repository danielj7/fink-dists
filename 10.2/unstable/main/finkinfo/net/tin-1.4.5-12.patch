diff -ru tin-1.4.5/src/Makefile.in tin-1.4.5-patched/src/Makefile.in
--- tin-1.4.5/src/Makefile.in	Mon Jul  3 21:17:47 2000
+++ tin-1.4.5-patched/src/Makefile.in	Sun Sep  9 20:03:11 2001
@@ -20,7 +20,7 @@
 DEBUG	= @ENABLE_DEBUG@ -DDEBUG #-DDEBUG_NEWSRC -DPROFILE -DDEBUG_REFS
 DAEMON	= # -DINDEX_DAEMON
 CANLOCK = # -DUSE_CANLOCK # -DEVIL_INSIDE
-CPPOPTS	= @DEFS@ -I. -I../include -I$(top_srcdir)/pcre -I$(INCDIR) $(DEBUG) $(DAEMON) $(CANLOCK) @CPPFLAGS@
+CPPOPTS	= @DEFS@ -I. -I../include -I$(INCDIR) $(DEBUG) $(DAEMON) $(CANLOCK) -DMACOS_X @CPPFLAGS@
 CFLAGS	= @CFLAGS@
 
 LD	= $(CC)
@@ -28,7 +28,7 @@
 YACC	= @YACC@
 
 CANLIB	= # -L../libcanlock -lcanlock
-LIBS	= -L../pcre -lpcre $(CANLIB) @LIBS@ @INN_NNTPLIB@
+LIBS	= -lpcre $(CANLIB) /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation @LIBS@ @INN_NNTPLIB@
 
 # Where do you want the binary & manual page installed?
 INSTALL_PREFIX	= @INSTALL_PREFIX@
@@ -138,7 +138,7 @@
 
 EXTRAOBJS = @EXTRAOBJS@
 
-EXTRALIBS = ../pcre/$(PRELIB)pcre.a
+#EXTRALIBS = ../pcre/$(PRELIB)pcre.a
 
 OFILES	= @ALLOCA@ $(EXTRAOBJS) \
 	$(OBJDIR)/active.o \
diff -ru tin-1.4.5/src/init.c tin-1.4.5-patched/src/init.c
--- tin-1.4.5/src/init.c	Mon Jul  3 21:17:46 2000
+++ tin-1.4.5-patched/src/init.c	Sun Sep  9 20:00:31 2001
@@ -598,7 +598,11 @@
 	delete_index_file = FALSE;
 #endif /* INDEX_DAEMON */
 	disable_gnksa_domain_check = FALSE;
+#ifdef MACOS_X	
+        disable_sender = TRUE;
+#else
 	disable_sender = FALSE;
+#endif
 	filtered_articles = FALSE;
 	iso2asc_supported = atoi (get_val ("ISO2ASC", DEFAULT_ISO2ASC));
 	if (iso2asc_supported > NUM_ISO_TABLES)
diff -ru tin-1.4.5/src/misc.c tin-1.4.5-patched/src/misc.c
--- tin-1.4.5/src/misc.c	Mon Nov 20 08:54:00 2000
+++ tin-1.4.5-patched/src/misc.c	Sun Sep  9 20:00:31 2001
@@ -31,6 +31,10 @@
 #	include	"policy.h"
 #endif /* !TIN_POLICY_H */
 
+#ifdef MACOS_X
+#	include <CoreFoundation/CoreFoundation.h>
+#endif
+
 /*
  * defines to control GNKSA-checks behaviour:
  * - ENFORCE_RFC1034
@@ -1215,7 +1219,7 @@
 	/* use locale */
 	return isprint(c);
 #else
-#	ifdef LOCAL_CHARSET
+#	if defined(LOCAL_CHARSET) || defined(MACOS_X)
 		/* use some conversation table */
 		return (isprint(c) || (c>=0x80 && c<=0xff));
 #	else
@@ -2656,6 +2660,32 @@
 }
 #endif /* LOCAL_CHARSET */
 
+#ifdef MACOS_X
+
+void
+buffer_to_local (
+	char *b)
+{
+        CFStringRef convertedString;
+        
+        convertedString = CFStringCreateWithCString(NULL, b, kCFStringEncodingISOLatin9);
+        CFStringGetCString(convertedString, b, strlen(b)+1, CFStringGetSystemEncoding());
+        CFRelease(convertedString);
+}
+
+void
+buffer_to_network (
+	char *b)
+{
+    CFStringRef convertedString;
+    
+    convertedString = CFStringCreateWithCString(NULL, b, CFStringGetSystemEncoding());
+    
+    CFStringGetCString(convertedString, b, strlen(b)+1, kCFStringEncodingISOLatin9);
+    CFRelease(convertedString);
+}
+
+#endif
 
 /*
  * checking of mail adresses for GNKSA compliance
diff -ru tin-1.4.5/src/page.c tin-1.4.5-patched/src/page.c
--- tin-1.4.5/src/page.c	Mon Jul  3 21:17:46 2000
+++ tin-1.4.5-patched/src/page.c	Sun Sep  9 20:00:31 2001
@@ -1634,7 +1634,7 @@
 		 * Copy the 'body' of the header into return string
 		 */
 
-#ifdef LOCAL_CHARSET
+#if defined(LOCAL_CHARSET) || defined(MACOS_X)
 		/*
 		 * we have a bit of a problem here, if the header
 		 * contains 8 bit character, they were already
diff -ru tin-1.4.5/src/rfc1521.c tin-1.4.5-patched/src/rfc1521.c
--- tin-1.4.5/src/rfc1521.c	Mon Jul  3 21:17:46 2000
+++ tin-1.4.5-patched/src/rfc1521.c	Sun Sep  9 20:00:31 2001
@@ -109,7 +109,7 @@
 
 	/* pass article header unchanged */
 	while ((line = tin_fgets (infile, TRUE)) != (char *) 0) {
-#ifdef LOCAL_CHARSET
+#if defined(LOCAL_CHARSET) || defined(MACOS_X)
 		buffer_to_local(line);
 #endif /* LOCAL_CHARSET */
 		fputs(line, outfile);
@@ -293,7 +293,7 @@
 				strcpy (buf2, buf);
 			}
 
-#ifdef LOCAL_CHARSET
+#if defined(LOCAL_CHARSET) || defined(MACOS_X)
 			buffer_to_local(buf2);
 #endif /* LOCAL_CHARSET */
 			fputs (buf2, outfile);
@@ -304,7 +304,7 @@
 		rewind (outfile);
 		return outfile;
 	}
-#ifdef LOCAL_CHARSET
+#if defined(LOCAL_CHARSET) || defined(MACOS_X)
 	/*
 	 * If we have a different local charset, we also have to convert
 	 * 8bit articles (and we also convert 7bit articles thay may contain
diff -ru tin-1.4.5/src/rfc1522.c tin-1.4.5-patched/src/rfc1522.c
--- tin-1.4.5/src/rfc1522.c	Mon Jul  3 21:17:46 2000
+++ tin-1.4.5-patched/src/rfc1522.c	Sun Sep  9 20:00:31 2001
@@ -259,7 +259,7 @@
 	}
 	*t = '\0';
 
-#ifdef LOCAL_CHARSET
+#if defined(LOCAL_CHARSET) || defined(MACOS_X)
 	buffer_to_local(buffer);
 #endif /* LOCAL_CHARSET */
 
@@ -759,7 +759,7 @@
 	d = header;
 	quoteflag = 0;
 	while (fgets(buffer, 2048, f)) {
-#ifdef LOCAL_CHARSET
+#if defined(LOCAL_CHARSET) || defined(MACOS_X)
 		buffer_to_network(buffer);
 #endif /* LOCAL_CHARSET */
 		if (header[0]
@@ -781,7 +781,7 @@
 	}
 	fputc('\n', g);
 	while (fgets(buffer, 2048, f)) {
-#ifdef LOCAL_CHARSET
+#if defined(LOCAL_CHARSET) || defined(MACOS_X)
 		buffer_to_network(buffer);
 #endif /* LOCAL_CHARSET */
 		fputs(buffer, g);
