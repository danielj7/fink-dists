Package: hdf5-18-gfortran
Version: 1.8.2
Revision: 1
Source: ftp://ftp.hdfgroup.org/HDF5/current/src//hdf5-%v.tar.gz 
Source-MD5: af92ef65ef495dbd205131574ad4eee1
Description: Library and file format for scientific data--fortran bindings
DescDetail:  <<
It was designed to address some of the limitations of the HDF 4.x library
and to address current and anticipated requirements of modern systems
and applications. 

The fortran9X interface is built using gfortran.
It will only work with gfortran.
<<
DescPackaging: <<
Had to be built separately from the main packages, since upstream decided
to disable shared library builds if building the fortran libraries.
<<
Conflicts: hdf5
Replaces: hdf5
Depends: szip-shlibs (>= 2.0-2)
BuildDepends: szip (>= 2.0-2), gcc43, fink(>= 0.24.12)
GCC: 4.0
BuildDependsOnly: True
PatchScript: <<
# %{default_script}
 perl -pi -e 's/hardcode_direct=yes/hardcode_direct=no/g' configure
 cp config/apple config/i686-apple
 cp config/apple config/powerpc-apple
 # obsolete use of sort
 perl -pi -e 's,sort \+2,sort -k 2,' bin/ltmain.sh
<<
PatchFile: %n.patch
PatchFIle-MD5: 2c800bba8a7b9dd385f16c1aabc0b3d2
ConfigureParams: --enable-fortran  --without-ssl --with-zlib  --without-mpe --without-pablo --with-szlib --without-gass --without-srb --without-pthread  --disable-parallel --libdir=%p/lib/hdf5-18/lib --includedir=%p/lib/hdf5-18/include --disable-dependency-tracking
License: OSI-Approved
CompileScript: <<
  #!/bin/sh -ev
  export F9X=%p/bin/gfortran
  export FFLAGS='-fsecond-underscore'
  ./configure %c
  make
  #make check
<<
InstallScript: <<
	make install DESTDIR=%d
	rm -rf %i/bin %i/include/*.h %i/lib/hdf5-18/lib/libhdf5.* %i/lib/hdf5-18/lib/libhdf5_hl.*
	install -d %i/lib/hdf5-18/include
	mv %i/include/* %i/lib/hdf5-18/include
<<
DocFiles: COPYING README.txt release_docs/RELEASE.txt release_docs/HISTORY*
Homepage: http://www.hdfgroup.org/HDF5/index.html
Maintainer: None <fink-devel@lists.sourceforge.net>
