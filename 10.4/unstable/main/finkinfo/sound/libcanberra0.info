Package: libcanberra0
Version: 0.15
Revision: 1
Source: http://0pointer.de/lennart/projects/libcanberra/libcanberra-%v.tar.gz
Source-MD5: 79c3c0a62e2c8c7c1906e9072a92763b

BuildDepends: <<
	fink (>= 0.24.12-1),
	glib2-dev (>= 2.20.0-1),
	gstreamer-0.10-dev (>= 0.10.24-1),
	gtk-doc (>= 1.9-1),
	libgettext3-dev,
	libiconv-dev,
	libogg (>= 1.1.4-1),
	libtool2,
	libvorbis0 (>= 1.2.2-1),
	libxml2 (>= 2.6.30-1),
	pkgconfig (>= 0.23)
<<
Depends: %n-shlibs (= %v-%r)
BuildDependsOnly: true

ConfigureParams: --disable-dependency-tracking --disable-static --disable-gtk --disable-lynx --disable-tdb --enable-gstreamer --enable-gtk-doc
CompileScript: <<
	./configure %c
	make
<<
InstallScript: <<
	make install DESTDIR=%d
	rm %i/share/doc/libcanberra/README
	rmdir %i/share/doc/libcanberra
<<
DocFiles: LGPL README

SplitOff: <<
	Package: %N-shlibs
	Depends: <<
		glib2-shlibs (>= 2.20.0-1),
		gstreamer-0.10-shlibs (>= 0.10.24-1),
		libgettext3-shlibs,
		libiconv,
		libogg-shlibs (>= 1.1.4-1),
		libtool2-shlibs,
		libvorbis0-shlibs (>= 1.2.2-1),
		libxml2-shlibs (>= 2.6.30-1),
		xdg-base
	<<
	Files: <<
		lib/libcanberra.*.dylib
		lib/libcanberra-%v
	<<
	Shlibs: %p/lib/libcanberra.0.dylib 2.0.0 %n (>= 0.6-1)
	DocFiles: LGPL README
<<

SplitOff2: <<
	Package: canberra-plugins
	Depends: fink-obsolete-packages
	InstallScript: <<
		mkdir -p %i/share/doc/installed-packages
		touch %i/share/doc/installed-packages/%n
	<<
<<

DescPort: <<
<<
DescPackaging: <<
	Core lib doesn't use gtk and the gtk lib's libtool versioning
	is independent, so don't build as part of the main lib pkgs.

	Don't bother dragging in lynx just for .html -> .txt for the README

	tdb not in fink now--disable for consistency if we do get it.

	Plugins reverted canberra-plugins -> %N-shlibs as of 0.11-1.
	They are loaded by %N-shlibs and are now in libversioned dir.
	Third-party plugin packages (of which there are presently
	none) will have to be adjusted each time %v changes. Cannot
	have %N-shlibs:Conflicts:canberra-plugins and nuke it cleanly
	because old libcanberra-gtk0 and maybe other packages have
	Depends:canberra-plugins.

	We do our own doc files our own ways and places.
<<

Description: Abstract interface for playing event sounds
DescDetail: <<
	XDG Sound Theme and Name Specifications:
	http://0pointer.de/public/sound-theme-spec.html

	The gtk lib is in the libcanberra-gtk* packages.
<<
DescUsage: <<
	Actual sound output is handled by various back-end modules.
	The default/standard ones are in the canberra-plugins package.
<<

Homepage: http://0pointer.de/lennart/projects/libcanberra
License: LGPL
Maintainer: Daniel Macks <dmacks@netspace.org>
