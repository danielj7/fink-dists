diff -Nurd fop-0.95/fop fop-0.95-new/fop
--- fop-0.95/fop	2008-07-31 10:06:25.000000000 -0400
+++ fop-0.95-new/fop	2010-01-30 16:35:41.000000000 -0500
@@ -47,6 +47,11 @@
     . /etc/fop.conf
   fi
 
+  # then fink-specific fop configuration
+  if [ -f "@FINKPREFIX@//etc/fop.conf" ] ; then
+    . @FINKPREFIX@/etc/fop.conf
+  fi
+
   # load user fop configuration
   if [ -f "$HOME/.fop/fop.conf" ] ; then
     . $HOME/.fop/fop.conf
@@ -247,7 +252,11 @@
 
 # Execute FOP using eval/exec to preserve spaces in paths,
 # java options, and FOP args
-fop_exec_command="exec \"$JAVACMD\" $LOGCHOICE $LOGLEVEL -classpath \"$LOCALCLASSPATH\" $FOP_OPTS org.apache.fop.cli.Main $fop_exec_args"
+if [ -z "$MAIN_CLASS" ]; then
+	MAIN_CLASS="org.apache.fop.cli.Main"
+fi
+
+fop_exec_command="exec \"$JAVACMD\" $LOGCHOICE $LOGLEVEL -classpath \"$LOCALCLASSPATH\" $FOP_OPTS $MAIN_CLASS $fop_exec_args"
 if $fop_exec_debug ; then
     echo $fop_exec_command
 fi
