Info2: <<
Package: paraview-mpi-%type_pkg[handler]
Version: 2.6.2
Revision: 1001
Type: handler (lammpi openmpi)
Source: http://www.paraview.org/files/v2.6/ParaView-%v.tar.gz
Source-MD5: b3f9bff0ae7c13095791a27ac32552b8
License: BSD
Depends: x11, x11-shlibs, (%type_pkg[handler] = lammpi) lammpi (>= 7.1.2-1000), (%type_pkg[handler] = openmpi) openmpi (>= 1.1.5-1000)
BuildDepends: cmake (>= 2.4.2-1), x11-dev, (%type_pkg[handler] = lammpi) lammpi-dev (>= 7.1.2-1000), (%type_pkg[handler] = openmpi) openmpi-dev (>= 1.1.5-1000), fink (>= 0.24.12-1)
Conflicts: paraview, paraview-mpi-lammpi, paraview-mpi-openmpi 
Replaces:  paraview, paraview-mpi-lammpi, paraview-mpi-openmpi 
PatchFile: paraview.patch
PatchFile-MD5: 19815aec94861f22a4b7ee856d67f367
NoSetLDFLAGS: true
SetLIBRARY_PATH: %p/lib 
CompileScript: <<
#!/bin/sh -ex
 mkdir ../%n-darwin
 cd ../%n-darwin
 if [ %type_raw[handler] = "lammpi" ]
    then MPI_LIBRARY="-L%p/lib/lammpi -lmpi -llammpi++ -llam"
	 MPI_INCLUDE_PATH="i%p/include;%p/include/lammpi"
    else MPI_LIBRARY="-L%p/lib/openmpi -lmpi -lmpi_cxx -lopal"
	 MPI_INCLUDE_PATH="%p/include;%p/include/openmpi;%p/include/openmpi/openmpi"
 fi
 %p/bin/cmake -DCMAKE_VERBOSE_MAKEFILE:BOOL=ON  \
       -DBUILD_SHARED_LIBS:BOOL=ON \
       -DCMAKE_INSTALL_PREFIX:PATH=%p \
       -DCMAKE_INSTALL_NAME_DIR:STRING=%p/lib/paraview-2.6 \
       -DVTK_USE_RPATH=ON \
       -DCMAKE_EXE_LINKER_FLAGS:STRING="-Wl,-search_paths_first" \
       -DCMAKE_SHARED_LINKER_FLAGS:STRING="-Wl,-search_paths_first" \
       -DVTK_USE_CARBON:BOOL=OFF \
       -DVTK_USE_COCOA:BOOL=OFF \
       -DVTK_USE_X:BOOL=ON \
       -DCMAKE_X_LIBS:STRING="-lSM;-lICE;-lX11;-lXext" \
       -DOPENGL_gl_LIBRARY:STRING="-L/usr/X11R6/lib -lGL" \
       -DOPENGL_glu_LIBRARY:STRING="-L/usr/X11R6/lib -lGLU" \
       -DOPENGL_INCLUDE_DIR:PATH="/usr/X11R6/include" \
       -DOPENGL_xmesa_INCLUDE_DIR:PATH=/usr/X11R6/include \
       -DVTK_USE_INFOVIS:BOOL=ON \
       -DPARAVIEW_WRAP_PYTHON:BOOL=ON \
       -DCMAKE_BUILD_WITH_INSTALL_RPATH:BOOL=ON \
       -DVTK_USE_MPI:BOOL=ON \
       -DMPI_INCLUDE_PATH:PATH="$MPI_INCLUDE_PATH" \
       -DMPI_LIBRARY:STRING="$MPI_LIBRARY" \
	%b
 export DYLD_LIBRARY_PATH=`pwd`/bin
 make
<< 
InstallScript: <<
#!/bin/sh -ev
 /usr/bin/install -d %i/share/doc/%n
 /bin/cp -R Examples %i/share/doc/%n/
 cd ../%n-darwin
 make install DESTDIR=%d
<<
DocFiles: Compiling.html Copyright.txt README.html 
Description: Visualization application for large data sets
DescDetail: << 
 ParaView is an application designed with the need to visualize 
 large data sets in mind. The goals of the ParaView       
 project include the following:
   * Develop an open-source, multi-platform visualization application.
   * Support distributed computation models to process large data sets.
   * Create an open, flexible, and intuitive user interface.
   * Develop an extensible architecture based on open standards. 
 ParaView runs on distributed and shared memory parallel as well as 
 single processor systems and has been succesfully tested on Windows, 
 Linux and various Unix workstations and clusters. 
 Under the hood, ParaView uses the Visualization Toolkit (VTK) as the 
 data processing and rendering engine and has a user interface written 
 using a unique blend of Tcl/Tk and C++.
<<
DescUsage: <<
 Examples are provided in the %p/share/doc/%n/Examples folder.
 For documentation, point your browser at %p/share/doc/%n/README.html 
<<
DescPackaging: <<
 No shlibs splitoff. Dylibs are only used internally,
 and they don't have reasonable compatibility versions.

 The 3 package paraview, paraview-mpi-lammpi, paraview-mpi-openmpi
 conflict with each other. Only one of them can be installed.
<<
DescPort: <<
 The dylibs are still created with compat version 0.0.0, 
 because cmake doesn't know about compatibility versions.

 This version uses CMake's RPATH mechanism to get correct
 install_names for dibraries. 
 The patch is needed to desactivate the weird default that 
 does not install any executables when RPATH is used.

 Cmake knows now about versioned file names for dylibs, so 
 that a future repacked version will be able to adhere to 
 Fink's shlibs policy.
<<
Maintainer: Martin Costabel <costabel@wanadoo.fr>
Homepage: http://www.paraview.org/
<<

