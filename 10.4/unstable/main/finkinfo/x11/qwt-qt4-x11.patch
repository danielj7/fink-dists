diff -Naur qwt-5.2.0.orig/designer/designer.pro qwt-5.2.0/designer/designer.pro
--- qwt-5.2.0.orig/designer/designer.pro	2009-03-22 11:41:05.000000000 -0400
+++ qwt-5.2.0/designer/designer.pro	2011-08-02 14:21:22.000000000 -0400
@@ -61,7 +61,8 @@
         DEFINES += NO_QWT_WIDGETS
     }
 
-    unix:LIBS      += -L$${QWT_ROOT}/lib -l$${LIBNAME}
+    unix:PRE_TARGETDEPS += $${QWT_ROOT}/lib/lib$${LIBNAME}.$${QMAKE_EXTENSION_SHLIB}
+    unix:LIBS      += $${QWT_ROOT}/lib/lib$${LIBNAME}.$${QMAKE_EXTENSION_SHLIB}
     win32-msvc:LIBS  += $${QWT_ROOT}/lib/$${LIBNAME}.lib
     win32-msvc.net:LIBS  += $${QWT_ROOT}/lib/$${LIBNAME}.lib
     win32-msvc2002:LIBS += $${QWT_ROOT}/lib/$${LIBNAME}.lib
diff -Naur qwt-5.2.0.orig/examples/examples.pri qwt-5.2.0/examples/examples.pri
--- qwt-5.2.0.orig/examples/examples.pri	2009-03-22 11:41:05.000000000 -0400
+++ qwt-5.2.0/examples/examples.pri	2011-08-02 14:19:41.000000000 -0400
@@ -57,5 +57,6 @@
     win32-g++:LIBS   += -L$${QWT_ROOT}/lib -l$${QWTLIB}
 }
 else {
-    LIBS        += -L$${QWT_ROOT}/lib -l$${QWTLIB}
+    PRE_TARGETDEPS += $${QWT_ROOT}/lib/lib$${QWTLIB}.$${QMAKE_EXTENSION_SHLIB}
+    LIBS        += $${QWT_ROOT}/lib/lib$${QWTLIB}.$${QMAKE_EXTENSION_SHLIB}
 }
diff -Naur qwt-5.2.0.orig/qwt.prf qwt-5.2.0/qwt.prf
--- qwt-5.2.0.orig/qwt.prf	2009-03-22 11:41:05.000000000 -0400
+++ qwt-5.2.0/qwt.prf	2011-08-02 14:37:38.000000000 -0400
@@ -12,7 +12,7 @@
 
 unix {
     QwtBase    = /usr/local/qwt-$${QwtVersion}
-    LIBS        += -L$${QwtBase}/lib -lqwt
+    LIBS        += $${QwtBase}/lib/libqwt.$${QMAKE_EXTENSION_SHLIB}
 }
 win32 {
     QwtBase    = C:/Qwt-$${QwtVersion}
diff -Naur qwt-5.2.0.orig/qwt.pro qwt-5.2.0/qwt.pro
--- qwt-5.2.0.orig/qwt.pro	2009-03-22 11:41:05.000000000 -0400
+++ qwt-5.2.0/qwt.pro	2011-08-02 14:47:02.000000000 -0400
@@ -17,8 +17,10 @@
 
 contains(CONFIG, QwtDesigner ) {
     SUBDIRS += designer 
+    designer.depends = src
 }
 
 contains(CONFIG, QwtExamples ) {
     SUBDIRS += examples 
+    examples.depends = src
 }
diff -Naur qwt-5.2.0/qwtconfig.pri.orig qwt-5.2.0/qwtconfig.pri
--- qwt-5.2.0/qwtconfig.pri.orig	2009-04-08 08:43:13.000000000 +0200
+++ qwt-5.2.0/qwtconfig.pri	2009-04-08 08:45:52.000000000 +0200
@@ -8,7 +8,7 @@
 VERSION      = $${VER_MAJ}.$${VER_MIN}.$${VER_PAT}
 
 unix {
-    INSTALLBASE    = /usr/local/qwt-5.2.0
+    INSTALLBASE    =  @PREFIX@/lib/qt4-x11
 }
 
 win32 {
@@ -16,8 +16,13 @@
 }
 
 target.path    = $$INSTALLBASE/lib
-headers.path   = $$INSTALLBASE/include
-doc.path       = $$INSTALLBASE/doc
+headers.path   = $$INSTALLBASE/include/qwt
+doc.path       = @PREFIX@/share/doc/qwt
+doc.files      = doc/html 
+man.path       = @PREFIX@/share/man
+man.files      = doc/man
+
+QMAKE_LFLAGS_SONAME = -install_name$${LITERAL_WHITESPACE}@PREFIX@/lib/qt4-x11/lib/
 
 ######################################################################
 # qmake internal options
@@ -121,4 +126,4 @@
 # Otherwise you have to build them from the examples directory.
 ######################################################################
 
-#CONFIG     += QwtExamples
+CONFIG     += QwtExamples

 	  	 
