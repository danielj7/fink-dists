Package: libmms0
Version: 0.6.2
Revision: 1
BuildDepends: <<
	fink-package-precedence,
	glib2-dev (>= 2.22.0-1),
	libiconv-dev,
	pkgconfig
<<
Depends: %n-shlibs (= %v-%r)
BuildDependsOnly: true
Source: mirror:sourceforge:libmms/%v/libmms-%v.tar.gz
Source-MD5: 9f63aa363deb4874e072a45850161bff
PatchFile: %n.patch
PatchFile-MD5: 447e431e32a4031543a8aa8e0d796da8
ConfigureParams: --disable-static --enable-dependency-tracking PKG_CONFIG_PATH="%p/lib/glib-2.0/pkgconfig-strict:$PKG_CONFIG_PATH"
CompileScript: <<
	%{default_script}
	fink-package-precedence --prohibit-bdep=%n .
<<
InstallScript: make install DESTDIR=%d
DocFiles: AUTHORS COPYING.LIB ChangeLog NEWS README*
SplitOff: <<
	Package: %N-shlibs
	Depends: <<
		glib2-shlibs (>= 2.22.0-1),
		libiconv
	<<
	Files: %p/lib/libmms.0.dylib
	DocFiles: AUTHORS COPYING.LIB ChangeLog NEWS README*
	Shlibs: %p/lib/libmms.0.dylib 1.0.0 %n (>= 0.6.2-1)
<<
DescPackaging: <<
	mms.c uses libiconv directly but there's no autoconf test or
	-liconv propagation. See:
	https://sourceforge.net/p/libmms/bugs/15/

	0.5 -> 0.6.2 adds new symbols but c_v did not get bumped. See:
	https://sourceforge.net/p/libmms/bugs/16/
<<
Description: Microsoft Media Streaming protocol parser
Homepage: http://sourceforge.net/projects/libmms
Maintainer: Daniel Macks <dmacks@netspace.org>
License: LGPL
