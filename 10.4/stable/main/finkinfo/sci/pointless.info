Package: pointless
Version: 1.2.10
Revision: 1
Source: ftp://ftp.ccp4.ac.uk/ccp4/current/prerelease/%n-%v-src.tar.gz
Source-MD5: d2115796ea0aeaa42b2fe8f4ae16bcfd
Source2: ftp://ftp.ccp4.ac.uk/ccp4/6.0.2/prerelease/%n.html
Source2-MD5: 9e26dd2b8892e400f82f7b14c4e5c285
Source3: ftp://ftp.ccp4.ac.uk/ccp4/6.0.2/prerelease/%n-ccp4i-0.0.8.tar.gz
Source3-MD5: e4d9a43059ad3981ea7eda165c5ba5aa
NoSourceDirectory: yes
Depends: ccp4 (>= 6.0.2), fftw-shlibs
BuildDepends: fftw, ccp4-onlylibs-dev (>= 6.0.2-8) , cctbx-10.4 | cctbx-10.5
NoSetCPPFLAGS: true
NoSetLDFLAGS: true
PatchScript: <<
 sed 's|@prefix@|%p|g' <%a/%n.patch | patch -p1
 mv pointless pointless-ccp4i
#cp Makefile.linux Makefile
#perl -pi -e 's|CCTBX\=\${CLIB}/cctbx|CCTBX\=ccp4-6.0.2/lib/cctbx|g' Makefile
#perl -pi -e 's|lm|lm -L%p/lib -ldrfftw -lfftw|' Makefile
<<
CompileScript: << 
#!/bin/bash -efv
source %p/bin/init.sh
make
<<
InstallScript: <<
#!/bin/bash -efv
source %p/bin/init.sh
mkdir -p %i/share/xtal/ccp4-6.0.2/bin
mkdir -p %i/share/xtal/ccp4-6.0.2/html
cp %n  %i/share/xtal/ccp4-6.0.2/bin/.
cp %n.html  %i/share/xtal/ccp4-6.0.2/html/.
cd pointless-ccp4i
pwd
mkdir -p %i/share/xtal/pointless
cp modules.def %i/share/xtal/pointless
cp ccp4i_packages.def %i/share/xtal/pointless
mkdir -p %i/share/xtal/ccp4-6.0.2/ccp4i/templates
cp templates/pointless.com %i/share/xtal/ccp4-6.0.2/ccp4i/templates/. 
mkdir -p %i/share/xtal/ccp4-6.0.2/ccp4i/scripts
cp scripts/pointless_centre.script scripts/pointless_index.script scripts/pointless_laue.script %i/share/xtal/ccp4-6.0.2/ccp4i/scripts/. 
#mkdir -p %i/share/xtal/ccp4-6.0.2/ccp4i/help
# cppointless-ccp4i/help/* %i/share/xtal/ccp4-6.0.2/ccp4i/help/. 
mkdir -p %i/share/xtal/ccp4-6.0.2/ccp4i/tasks
cp tasks/pointless.def  tasks/pointless_index.def tasks/pointless_laue.tcl tasks/pointless_centre.def tasks/pointless_index.tcl tasks/pointless_utils.tcl tasks/pointless_centre.tcl tasks/pointless_laue.def  %i/share/xtal/ccp4-6.0.2/ccp4i/tasks/. 
<<
Description: CCP4 point and space group and index tests
DescDetail: <<
Pointless has several possible functions:
1. Determination of Laue group and space group (LAUEGROUP mode).
2. Testing of alternative indexing schemes
3. Checking the centre of the diffraction pattern
4. Reindexing

Detailed description available on package homepage link and by issuing
the command "ccp4help pointless"

To use the CCP4i interface with pointless, first execute the commands
mkdir -p ~/.CCP4/unix
touch ~/.CCP4/unix/modules.def
cat %p/share/xtal/pointless/modules.def >> ~/.CCP4/unix/modules.def
<<
License: Restrictive             
Homepage: ftp://ftp.ccp4.ac.uk/ccp4/6.0.2/prerelease/pointless.html
Maintainer: W. G. Scott <wgscott@chemistry.ucsc.edu>
