Package: libcurl3-unified
Version: 7.15.0
Revision: 2
Description: Lib. for transferring files with URL syntax
DescPackaging: <<
  Now use System's OpenSSL.
  
  Versions of curl before 7.11.1-11 were maintained by Max Horn.
<<
Maintainer: Daniel Johnson <daniel@daniel-johnson.org>
Homepage: http://curl.haxx.se/
License: OSI-Approved

Source: http://curl.haxx.se/download/curl-%v.tar.bz2
Source-MD5: e3b130320d3704af375c097606f49c01

Depends: %N-shlibs (= %v-%r)
BuildDepends: system-openssl-dev
Conflicts: curl-dev, curl-ssl-dev, curl-unified-dev
Replaces: curl-dev, curl-ssl-dev, curl-unified-dev, libcurl3 (<< %n-%r), libcurl3-ssl (<< %n-%r)
BuildDependsOnly: True

PatchScript: <<
  perl -pi.bak -e's,(Libs:) (-L\$\{libdir\}),$1 -L%p/lib/system-openssl/lib $2,' libcurl.pc.in
  perl -pi.bak -e's,(echo) (-L@libdir@),$1 -L%p/lib/system-openssl/lib $2,' curl-config.in
<<

SetCPPFLAGS: -I%p/lib/system-openssl/include
SetLDFLAGS: -no-undefined -L%p/lib/system-openssl/lib
ConfigureParams: --mandir=%p/share/man --with-ssl=%p/lib/system-openssl --without-gnutls --without-libidn --disable-dependency-tracking
InstallScript: <<
  make install DESTDIR=%d
  /bin/mkdir -p %I/share/doc/%N
  /bin/cp docs/*.html %I/share/doc/%N
  /bin/mkdir -p %I/share/doc/%N/libcurl
  /bin/cp docs/libcurl/*.html %I/share/doc/%N/libcurl
  /bin/mkdir -p %I/lib/pkgconfig
  /bin/cp libcurl.pc %I/lib/pkgconfig
<<
DocFiles: CHANGES COPYING README RELEASE-NOTES

SplitOff: <<
  Package: %N-shlibs
  
  Replaces: libcurl3-shlibs (<< %n-%r), libcurl3-ssl-shlibs (<< %n-%r)
  
  Files: lib/libcurl.3.0.0.dylib lib/libcurl.3.dylib
  Shlibs: %p/lib/libcurl.3.dylib 4.0.0 %n (>= 7.14.0-1)
  DocFiles: CHANGES COPYING README RELEASE-NOTES
<<

SplitOff2: <<
  Package: curl-unified
  Description: Tool for transferring files with URL syntax
  DescUsage: For additional documentation see the %N package.
  
  Depends: %N-shlibs (= %v-%r)
  Replaces: curl (<< %v-%r), curl-ssl(<< %v-%r)
  
  Files: bin/curl share/man/man1/curl.1 share/curl/curl-ca-bundle.crt
  DocFiles: CHANGES COPYING README RELEASE-NOTES docs/BINDINGS docs/BUGS docs/CONTRIBUTE docs/FAQ docs/FEATURES docs/HISTORY docs/KNOWN_BUGS docs/INTERNALS docs/MANUAL docs/RESOURCES docs/THANKS docs/TODO docs/TheArtOfHttpScripting docs/LICENSE-MIXING docs/SSLCERTS docs/VERSIONS
<<
SplitOff3: <<
  Package: libcurl3
  Description: Upgrade package for libcurl3
  Depends: %N (= %v-%r)
  Conflicts: curl-dev, curl-ssl-dev, curl-unified-dev
  Replaces: curl-dev, curl-ssl-dev, curl-unified-dev
  DocFiles: CHANGES COPYING README RELEASE-NOTES
<<
SplitOff4: <<
  Package: libcurl3-shlibs
  Description: Upgrade package for libcurl3-shlibs
  Depends: %N-shlibs (= %v-%r)
  DocFiles: CHANGES COPYING README RELEASE-NOTES
<<
SplitOff5: <<
  Package: curl
  Description: Upgrade package for curl
  Depends: curl-unified (= %v-%r)
  DocFiles: CHANGES COPYING README RELEASE-NOTES
<<
SplitOff6: <<
  Package: libcurl3-ssl
  Description: Upgrade package for libcurl3-ssl
  Depends: %N (= %v-%r)
  Conflicts: curl-dev, curl-ssl-dev, curl-unified-dev
  Replaces: curl-dev, curl-ssl-dev, curl-unified-dev
  DocFiles: CHANGES COPYING README RELEASE-NOTES
<<
SplitOff7: <<
  Package: libcurl3-ssl-shlibs
  Description: Upgrade package for libcurl3-ssl-shlibs
  Depends: %N-shlibs (= %v-%r)
  DocFiles: CHANGES COPYING README RELEASE-NOTES
<<
SplitOff8: <<
  Package: curl-ssl
  Description: Upgrade package for curl-ssl
  Depends: curl-unified (= %v-%r)
  DocFiles: CHANGES COPYING README RELEASE-NOTES
<<
