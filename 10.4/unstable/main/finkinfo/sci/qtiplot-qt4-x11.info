Package: qtiplot-qt4-x11
Version: 0.9.7.6
Revision: 3

Maintainer: Alexandre Vial <avial@altern.org>

Depends: x11, qt4-x11-core-shlibs, gsl-shlibs, muparser-shlibs, boost1.35.nopython-shlibs, qwt-qt4-x11-shlibs (>=5.2.0), libpng3-shlibs, freetype219-shlibs (>=2.3.8-2)
BuildDepends: x11-dev, qt4-x11, gsl, muparser, boost1.35.nopython, qwt-qt4-x11 (>=5.2.0), fink (>= 0.28), libgettext3-dev, glib2-dev, flag-sort, freetype219 (>=2.3.8-2), system-openssl-dev
BuildConflicts: labplot, labplot-shlibs, liborigin, liborigin-shlibs
Conflicts: qtiplot
Replaces: qtiplot

Description: Data analysis and scientific plotting
Homepage: http://soft.proindependent.com/qtiplot.html
License: GPL

Source: http://soft.proindependent.com/src/qtiplot-%v.tar.bz2
SourceDirectory: qtiplot-%v
Source-MD5: a9b9b2fbd3044022a7afa3a89ec5c47d

GCC: 4.0

PatchFile: %n.patch
PatchFile-MD5: 01cda00df83eda91e467eda1da118858
PatchScript: <<
#!/bin/sh -ev
sed 's,@PREFIX@,%p,g' < %{PatchFile} | patch -p1
echo '#!/bin/sh -ev
name=`basename $0`
flag-sort -v /usr/bin/$name $@' >> ../c++
chmod a+x ../c++
ln ../c++ ../cc
<<

CompileScript: <<
#!/bin/sh -ev
unset QMAKESPEC
export QTDIR=%p/lib/qt4-x11
export PATH="%b/..:$QTDIR/bin:$PATH"
%p/lib/qt4-x11/bin/qmake qtiplot.pro
make
<<

InstallScript: <<
INSTALL_ROOT=%d make install
mkdir %i/bin
cp %b/qtiplot/qtiplot %i/bin/qtiplot
<<

#Shlibs: <<
#!%p/lib/qtiplot/plugins/libexp_saturation.1.dylib 1.0.0
#!%p/lib/qtiplot/plugins/libexplin.1.dylib 1.0.0
#!%p/lib/qtiplot/plugins/libfitRational0.1.dylib 1.0.0
#!%p/lib/qtiplot/plugins/libfitRational1.1.dylib 1.0.0
#<<


DocFiles: gpl_licence.txt README.html manual qtiplot/translations qtiplot.css qtiplot_logo.png

DescDetail: <<
Data analysis and scientific plotting program
DescPackaging: <<
AKH: 20090626
uses the new "flag-order" package and a hack courtesy of jfmertens
to reset its flag ordering, which conviently also makes it not link
to X11's libpng and freetype in preference to Fink's.  
Links to the system's openssl, so there's a BuildDepend on that--this seems to
be robust regardless of whether a fink openssl*-dev is installed or not.
<<
<<

 	  	 
