Package: pilot-link9
Version: 0.11.8
Revision: 1037
###
Depends: x11, libpng3-shlibs, readline5-shlibs (>= 5.0-1004), tcltk-shlibs, %N-shlibs (= %v-%r)
BuildDepends: fink (>= 0.9.9), libpng3, readline5 (>= 5.0-1004), tcltk, tcltk-dev, python23 (>= 1:2.3.5-1124) | python23-nox (>= 1:2.3.4-1104), libiconv-dev, libncurses5 (>= 5.4-20041023-1006), x11-dev
BuildDependsOnly: true
Conflicts: pilot-link
Replaces: pilot-link
###
Source: http://pilot-link.org/source/pilot-link-%v.tar.bz2
Source-MD5: 586f84add601e8b86da3093ab784e997
###
Patch: %n.patch
PatchScript: <<
 perl -pi -e "s/python2.2/python2.3/" configure
 perl -pi -e 's/hardcode_direct=yes/hardcode_direct=no/g' configure
<<
###
GCC: 4.0
###
NoSetLDFLAGS: true
SetLIBS: -L%p/lib
SetCPPFLAGS: -no-cpp-precomp
###
DocFiles: AUTHORS COPYING* ChangeLog INSTALL NEWS README
###
# --with-java=/System/Library/Frameworks/JavaVM.framework/Versions/1.3.1/Home
ConfigureParams: --without-perl --with-pic --with-readline --enable-shared --enable-static --with-tcl=%p/lib --without-itcl --with-tk --without-java --with-python --with-libiconv --with-libpng --disable-debug --mandir=%i/share/man --infodir=%p/share/info --libexecdir=%p/lib
CompileScript: <<
  PYTHON=%p/bin/python2.3 ./configure %c
  make
<<
InstallScript: <<
 make install prefix=%i
 sed -e 's;-L%b/libpisock;-L%p/lib;' < %i/lib/libpisync.la > %i/lib/libpisync.la.tmp
 mv -f %i/lib/libpisync.la.tmp %i/lib/libpisync.la
<<
###
Splitoff: <<
  Package: %N-shlibs
  Depends: readline5-shlibs (>= 5.0-1004), ncurses (>= 5.4-20041023-1006), libncurses5-shlibs (>= 5.4-20041023-1006)
  Conflicts: pilot-link-shlibs
  Replaces: pilot-link-shlibs
  Files: <<
    lib/libpisock.*.dylib 
    lib/libpisock++.*.dylib
    lib/libpisync.*.dylib
    lib/libpitcl.*.dylib
  <<
  Shlibs: <<
    %p/lib/libpisock.8.dylib 9.0.0 pilot-link9-shlibs (>= 0.11.7-12)
    %p/lib/libpisock++.0.dylib 1.0.0 pilot-link9-shlibs (>= 0.11.7-12)
    %p/lib/libpisync.0.dylib 1.0.0 pilot-link9-shlibs (>= 0.11.7-12)
    %p/lib/libpitcl.0.dylib 1.0.0 pilot-link9-shlibs (>= 0.11.8-11)
  <<
  DocFiles: AUTHORS COPYING* ChangeLog INSTALL NEWS README bindings/Tcl/README
<<
Splitoff2: <<
  Package: %N-bin
  Depends: libpng3-shlibs, readline5-shlibs (>= 5.0-1004), tcltk-shlibs, %N-shlibs (= %v-%r)
  Replaces: pilot-link-bin
  Conflicts: pilot-link-bin
  Files: <<
    bin
    share/man
    share/pilot-link
  <<
  DocFiles: COPYING*
<<
Splitoff3: <<
  Package: %N-py23
  Depends: python23 | python23-nox
  Conflicts: pilot-link-python
  Replaces: pilot-link-python
  Files: <<
    lib/python2.3
  <<
  Docfiles: bindings/Python/NEWS bindings/Python/README bindings/Python/TODO
<<
### Off for now since I have no idea what to do with the lib
### and java -jar <jarfile> gives errors
#JarFiles: <<
#  bindings/Java/pilot-link.jar
#  bindings/Java/libjpisock.so
#<<
#Splitoff4: <<
#  Package: %N-java
#  Files: <<
#    share/java
#  <<
#  Docfiles: bindings/Java/README* bindings/Java/TODO
#<<
###
Description: Palm libraries                             
DescDetail: <<
  Pilot-Link is the tools and toys needed to connect your Palm or Palm
  compatible handheld (including Handspring, Sony, and Palm) with Unix
  and Linux machines.
<<
###
License: GPL
Maintainer: None <fink-devel@lists.sourceforge.net>
Homepage: http://www.pilot-link.org/
