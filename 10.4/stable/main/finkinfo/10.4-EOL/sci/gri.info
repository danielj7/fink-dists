Package: gri
Version: 2.12.23
Revision: 2
GCC: 4.0
BuildDepends: <<
	imagemagick | graphicsmagick-imagemagick-compat,
	readline6,
	tetex-base, 
	fink-package-precedence
<<
Depends: readline6-shlibs
Source: mirror:sourceforge:%n/%n-%v.tar.gz
Source-MD5: eabd37f80ac51f7aef83a89234fb6522

PatchScript: perl -pi -e 's/RpnFunction.html/RpnFunctionOps.html/' doc/gri.texi

ConfigureParams: --infodir='${prefix}/share/info' MAKEINFO=/usr/bin/makeinfo

CompileScript: <<
%{default_script}
fink-package-precedence .
<<

InfoTest: TestScript: make check || exit 2

InstallScript: <<
%{default_script}
# clear out gzipped info files
rm %i/share/info/*.gz
# put documentation into more standard location
# license.txt is included in these docs
mkdir -p %i/share/doc/%n
cp -r %i/share/%n/doc/* %i/share/doc/%n/
rm -rf %i/share/%n/doc
# last minute patching of gri.cmd:
<<

DocFiles: AUTHORS COPYING README NEWS THANKS
InfoDocs: gri.info
Description: Scientific graphics language
DescDetail: <<
Gri is a language for scientific graphics programming. The word "language" is 
important: Gri is command-driven, not point/click.

Some users consider Gri similar to LaTeX, since both provide extensive power 
as a reward for tolerating a learning curve.

Gri can make x-y graphs, contour graphs, and image graphs, in PostScript 
and (someday) SVG formats. Control is provided over all aspects of drawing,
e.g. line widths, colors, and fonts. A TeX-like syntax provides common
mathematical symbols.

Folks who write thousand-line Gri scripts usually start with something 
as simple as the following, which produces an auto-scaled graph.

   open file.dat
   read columns x y
   draw curve
<<
DescPackaging: <<
  Fink's dpkg's install-info has a bug that affects compressed .info
  files, so don't compress them.
  
  "RpnFunctions.html" and "Rpnfunctions.html" are the same file on a
  case-insensitive filesystem, so we rename the former.

  Maintained by Dan Kelley (<Dan.Kelley@Dal.Ca>) through version 
  2.12.8-1003
<<
License: GPL2
Maintainer: Alexander Hansen <alexkhansen@users.sourceforge.net>
Homepage: http://gri.sourceforge.net

