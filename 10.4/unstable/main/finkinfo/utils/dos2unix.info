Package: dos2unix
Version: 5.1.1
Revision: 1
Description: Convert DOS or Mac text files to Unix format
Architecture: powerpc, i386, x86_64
License: BSD
Homepage: http://www.xs4all.nl/~waterlan/dos2unix.html
Maintainer: Blair Zajac <blair@orcaware.com>
NoSetMAKEFLAGS: true
SetMAKEFLAGS: -j1

# Unpack Phase.
Source: http://downloads.sourceforge.net/%n/%v/%n-%v.tar.gz
Source-MD5: b8f6d8109fc6decf412bc1e3959450c0

PatchScript: <<
  sed -i.bak 's|/usr/local|/sw|g' Makefile
  sed -i.bak 's|/usr|/sw|g' Makefile
<<

# Compile Phase.
CompileScript: make

# Install Phase.
InstallScript: <<
  mkdir -p %i/bin
  mkdir -p %i/share/man/man1
  install -m 755 dos2unix %i/bin
  ln -s dos2unix %i/bin/mac2unix
  install -m 755 unix2dos %i/bin
  ln -s unix2dos %i/bin/unix2mac
  install -m 644 man/man1/dos2unix.1 %i/share/man/man1
  ln -s dos2unix.1 %i/share/man/man1/unix2dos.1
  ln -s dos2unix.1 %i/share/man/man1/mac2unix.1
  ln -s dos2unix.1 %i/share/man/man1/unix2mac.1
<<

DocFiles: <<
COPYING.txt INSTALL.txt NEWS.txt README.txt TODO.txt dos2unix.pdf 
dos2unix.ps dos2unix.txt
<<

# Documentation.
DescDetail: <<
Two utilities to convert DOS end-of-line (CRLF) and Macintosh classic
end-of-line (CR) formated text files into Unix (LF) format.
<<

DescUsage: <<
Usage: dos2unix [-hkqV] [-c convmode] [-o file ...] [-n infile outfile ...]
 -h --help        give this help
 -k --keepdate    keep output file date
 -q --quiet       quiet mode, suppress all warnings
                  always on in stdin->stdout mode
 -V --version     display version number
 -c --convmode    conversion mode
 convmode         ASCII, 7bit, ISO, Mac, default to ASCII
 -l --newline     add additional newline in all but Mac convmode
 -o --oldfile     write to old file
 file ...         files to convert in old file mode
 -n --newfile     write to new file
 infile           original file in new file mode
 outfile          output file in new file mode
<<
