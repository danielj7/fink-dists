Package: libopenjpeg2.7-shlibs
Version: 2.1.0
Revision: 1
Source: mirror:sourceforge:openjpeg.mirror/%v/openjpeg-%v.tar.gz
Source-MD5: f6419fcc233df84f9a81eb36633c6db6
BuildDepends: <<
	cmake,
	fink-package-precedence,
	lcms2 (>= 2.4-1),
	libpng16,
	libtiff5,
	pkgconfig
<<
PatchFile: %N.patch
PatchFile-MD5: 13c1731d04929b55c2abf22d1311c3a3
CompileScript: <<
	#!/bin/sh -ev
	cmake -DCMAKE_INSTALL_PREFIX=%p -DCMAKE_C_FLAGS:STRING=-MD .
	make
	fink-package-precedence --prohibit-bdep=libopenjpeg2.7 --depfile-ext='\.d' .
<<
InstallScript: <<
	make install DESTDIR=%d
	barf
<<
Shlibs: %p/lib/libopenjpeg/libopenjp2.7.dylib 7.0.0 %n (>= 2.1.0-1)
DocFiles: AUTHORS CHANGES LICENSE NEWS README THANKS
SplitOff: <<
	Package: libopenjpeg2.7
	Depends: %N (= %v-%r)
	Conflicts: <<
		libopenjpeg,
		libopenjpeg1,
		libopenjpeg2.7
	<<
	Replaces: <<
		libopenjpeg,
		libopenjpeg1,
		libopenjpeg2.7
	<<
	BuildDependsOnly: true
	Files: <<
		include
		lib/libopenjp2.dylib
		lib/openjpeg-2.1
		lib/pkgconfig
		share/man/man3
	<<
	DocFiles: AUTHORS CHANGES LICENSE NEWS README THANKS
<<
SplitOff2: <<
	Package: openjpeg-bin
	Depends: <<
		%N (>= %v-%r),
		lcms2-shlibs (>= 2.4-1),
		libpng16-shlibs,
		libtiff5-shlibs
	<<
	Files: <<
		bin
		share/man/man1
	<<
	DocFiles: AUTHORS CHANGES LICENSE NEWS README THANKS
<<
DescPackaging: <<
	During upstream 1.x->2.x, library was renamed
	libopenjpeg->libopenjp; retain old package-naming pattern for
	consistency.

	Standard cmake fix for its install_name stupidity. See:
	http://code.google.com/p/openjpeg/issues/detail?id=367
<<
Description: JPEG2000 with lossless compression
Homepage: http://code.google.com/p/openjpeg
License: BSD
Maintainer: Daniel Macks <dmacks@netspace.org>
