diff -uNr mono-1.0/data/config.in mono-1.0-new/data/config.in
--- mono-1.0/data/config.in	Wed Jun 23 14:12:50 2004
+++ mono-1.0-new/data/config.in	Wed Jun 30 14:02:40 2004
@@ -7,4 +7,8 @@
 	<dllmap dll="odbc32.dll" target="libodbc@libsuffix@" />
 	<dllmap dll="oci" target="clntsh" />
 	<dllmap dll="db2cli" target="libdb2_36@libsuffix@"/>
+	<dllmap dll="libgtk-win32-2.0-0.dll" target="libgtk-x11-2.0.dylib"/>
+	<dllmap dll="glib-2.0" target="libglib-2.0.dylib"/>
+	<dllmap dll="gnomevfs-2" target="libgnomevfs-2.dylib"/>
+	<dllmap dll="gtksourceview-1.0" target="libgtksourceview-1.0.dylib"/>
 </configuration>
diff -uNr mono-1.0/mono/metadata/loader.c mono-1.0-new/mono/metadata/loader.c
--- mono-1.0/mono/metadata/loader.c	Thu Jun 24 18:44:48 2004
+++ mono-1.0-new/mono/metadata/loader.c	Wed Jun 30 14:02:11 2004
@@ -643,6 +643,12 @@
 		}
 
 		if (!gmodule) {
+			full_name = g_module_build_path ("@PREFIX@/lib", file_name);
+			gmodule = g_module_open (full_name, G_MODULE_BIND_LAZY);
+			g_free (full_name);
+		}
+
+		if (!gmodule) {
 			full_name = g_module_build_path (".", file_name);
 			mono_trace (G_LOG_LEVEL_INFO, MONO_TRACE_DLLIMPORT,
 					"DllImport loading library: '%s'.", full_name);
