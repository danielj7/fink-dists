diff -Nurd -x'*~' leptonica-1.68.orig/src/pngio.c leptonica-1.68/src/pngio.c
--- leptonica-1.68.orig/src/pngio.c	2011-02-01 00:41:12.000000000 -0500
+++ leptonica-1.68/src/pngio.c	2011-07-08 12:27:16.000000000 -0400
@@ -105,9 +105,12 @@
 /* --------------------------------------------*/
 #if  HAVE_LIBPNG   /* defined in environ.h */
 /* --------------------------------------------*/
-
 #include "png.h"
 
+#ifdef HAVE_LIBZ
+#include "zlib.h"
+#endif
+
 /* ----------------Set defaults for read/write options ----------------- */
     /* strip 16 bpp --> 8 bpp on reading png; default is for stripping */
 static l_int32   var_PNG_STRIP_16_TO_8 = 1;
