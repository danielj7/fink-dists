Package: msp430-binutils
Version: 2.21.1-20110716
Revision: 1
BuildDepends: fink (>= 0.29.21)
Maintainer: Matthias Ringwald <freckle@users.sf.net>

Source: mirror:gnu:binutils/binutils-2.21.1.tar.bz2
Source-MD5: a22801a9cad45c85e9ff6afc10537d72 
Source2: mirror:sourceforge:mspgcc/mspgcc/mspgcc-20110716.tar.bz2
Source2-MD5: 6f16b6b8447295745de089bbcc350439
Source3: mirror:sourceforge:mspgcc/Patches/LTS/20110716/msp430-binutils-2.21.1-20110716-sf3379341.patch
Source3-MD5: 7af61d5a96171b74390740a8201678ea

PatchScript: <<
    patch -p1 < ../mspgcc-20110716/msp430-binutils-2.21.1-20110716.patch
    patch -p1 < ../msp430-binutils-2.21.1-20110716-sf3379341.patch
<<

ConfigureParams: <<
  --target=msp430            \
  --prefix=%p/lib/msp430     \
  --program-prefix=msp430-   \
  --bindir=%p/bin            \
  --mandir=%p/share/man      \
  --infodir=%p/share/info    \
  --disable-werror           \
  --disable-nls
<<

CompileScript: <<
    #!/bin/sh -ev
    ./configure %c
    num_cpu=$(echo `sysctl -n hw.ncpu`)
    make -j $num_cpu
<<

InstallScript: <<
    #!/bin/sh -ev
    make install DESTDIR=%d

    rm -fr %i/lib/msp430/lib
    rm -fr %i/share/info/*
<<

DocFiles: README COPYING MAINTAINERS

Description: GNU binutils for Texas Instruments MSP430 MCU
DescPort: <<

Fink package based on arm-binutils.info.

Removed libiberty.a installation of msp430-gcc & msp430-binutils.
Avoided using /sw/msp430. Its lib & include folders have been moved to /sw/share/msp430 and the binaries are put into /sw/bin.

It includes the binutils patches from the mspgcc project release 20110716.
<<

License: GPL
Homepage: http://mspgcc4.sourceforge.net/
