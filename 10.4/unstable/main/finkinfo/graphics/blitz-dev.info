Info3: <<
Package: blitz-%type_pkg[blitz]-dev
Version: 0.0.4
Revision: 1
Description: Image Effect Library
Type: blitz (x11 mac)
License: BSD
Maintainer: Benjamin Reed <blitz@fink.racoonfink.com>

Depends: blitz-%type_pkg[blitz]-shlibs (= %v-%r)
BuildDepends: <<
	qt4-%type_pkg[blitz] (>= 4.5.0-1),
	kdelibs4-%type_pkg[blitz] (>= 4.1.0-1)
<<
BuildDependsOnly: true
GCC: 4.0

Source: mirror:sourceforge:qimageblitz/qimageblitz-%v.tar.bz2
Source-MD5: cb87c7f1c0455e8984ee4830f1e749cf

NoSetCPPFLAGS: true
NoSetLDFLAGS: true
CompileScript: <<
#!/bin/sh -ev

	for dir in %type_pkg[blitz] qt4-%type_pkg[blitz] kde4-%type_pkg[blitz]; do
		export PATH="%p/lib/$dir/bin:$PATH"
		export CMAKE_INCLUDE_PATH="%p/lib/$dir/include:$CMAKE_INCLUDE_PATH"
		export CMAKE_LIBRARY_PATH="%p/lib/$dir/lib:$CMAKE_LIBRARY_PATH"
		export CMAKE_MODULE_PATH="%p/lib/$dir/share/apps/cmake/modules:$CMAKE_MODULE_PATH"
		export PKG_CONFIG_PATH="%p/lib/$dir/lib/pkgconfig:$PKG_CONFIG_PATH"
	done
	export CMAKE_INCLUDE_PATH="$CMAKE_INCLUDE_PATH:%p/include"
	export CMAKE_LIBRARY_PATH="$CMAKE_LIBRARY_PATH:%p/lib"
	mkdir -p build
	pushd build
		cmake -DCMAKE_INSTALL_PREFIX="%p/lib/%type_pkg[blitz]" ..
		make
	popd
<<

InstallScript: <<
#!/bin/sh -ev

	pushd build
		make -j1 install DESTDIR="%d"
	popd
<<
DocFiles: ChangeLog README*
SplitOff: <<
	Package: blitz-%type_pkg[blitz]-shlibs
	Description: Shared libraries for Blitz++
	Depends: kdelibs4-%type_pkg[blitz]-shlibs (>= 4.1.0-1)
	DocFiles: README*
	Files: lib/%type_pkg[blitz]/lib/libqimageblitz.4*.dylib
	Shlibs: %p/lib/%type_pkg[blitz]/lib/libqimageblitz.4.dylib 4.0.0 %n (>= 0.0.3-1)
<<

Homepage: http://www.kde.org/
DescDetail: <<
Blitz is an interm image effect library that people can use until KDE4.1 is
released. KImageEffect, the old image effect class is being dropped for KDE4.0
and the replacement, Quasar, won't be ready until KDE4.1. Blitz gives people 
something to use in the meantime.

At first glance Blitz may look like a KImageEffect2. That is what I originally 
intended. Nonetheless most of the effects have significantly changed so
may operate differently. Many of the methods in KImageEffect were quick hacks 
and ports I made. With Blitz I finally sat down, read my old code, and 
reimplemented everything. In some cases this was just code cleanup and 
bugfixing but in many other cases I used better algorithms and/or custom MMX 
code. Expect differences, hopefully for the better. I'm a little older,
a tad bit wiser, and a heck of a lot less drunk these days >:)
<<
<<

