Package: ant
Version: 1.4.1
Revision: 2
Source: http://jakarta.apache.org/builds/jakarta-ant/release/v%v/src/jakarta-%n-%v-src.tar.gz
SourceDirectory: jakarta-%n-%v
PatchScript: sed 's:@PREFIX@:%p:g' <%a/%f.patch | patch -p1
CompileScript: ./build.sh -Ddist.name=%n dist
InstallScript: mkdir -p %i/lib
 cp -R %n %i/lib
 #
 chmod -R ugo+r %i/lib/%n
 # binaries
 rm %i/lib/%n/bin/*.bat
 mkdir -p %i/bin
 cd %i/bin ; ln -s ../lib/%n/bin/* .
 # docs
 mkdir -p %i/share/doc/%n
 cd %i/share/doc/%n ; ln -s ../../../lib/%n/docs html
 # shell init scripts
 mkdir -p %i/etc/profile.d
 install -m 755 %n.sh %i/etc/profile.d/
 install -m 755 %n.csh %i/etc/profile.d/
DocFiles: KEYS LICENSE README WHATSNEW lib/optional/README:README.lib
Homepage: http://jakarta.apache.org/ant/index.html
Maintainer: Sylvain Cuaz <zauc@noos.fr>
Description: Java based build tool
DescDetail: <<
Ant is different. Instead of a model where it is extended with shell based commands, it is extended using Java classes. Instead of writing shell commands, the configuration files are XML based calling out a target tree where various tasks get executed. Each task is run by an object which implements a particular Task interface.

Granted, this removes some of the expressive power that is inherent by being able to construct a shell command such as `find . -name foo -exec rm {}` but it gives you the ability to be cross platform. To work anywhere and everywhere. And hey, if you really need to execute a shell command, Ant has an exec rule that allows different commands to be executed based on the OS that it is executing on.
<<
DescPackaging: <<
 build.sh can compile and install at the same time but i thought it was better to have it compile in %n (ant) in the compile phase and then to copy it to lib in the install phase.
 BTW I copy all the files to lib because there need to be a ANT_HOME env var.
 I have to do the chmod of the install script here because it fails in the Makefile.
 Linked the binaries in ... bin :-)
 Linked the docs to share/doc/%n
<<
DescPort: <<
 build.sh patched to set JAVA_HOME at build time
 Removed *.bat in bin
 The shell init script set JAVA_HOME & ANT_HOME.
<<
License: BSD