diff -Nurd kdebase-runtime-4.2.0/kcontrol/componentchooser/CMakeLists.txt kdebase-runtime-4.2.0-new/kcontrol/componentchooser/CMakeLists.txt
--- kdebase-runtime-4.2.0/kcontrol/componentchooser/CMakeLists.txt	2008-09-17 16:54:29.000000000 -0400
+++ kdebase-runtime-4.2.0-new/kcontrol/componentchooser/CMakeLists.txt	2009-02-17 11:57:54.000000000 -0500
@@ -19,10 +19,10 @@
     componentchooserterminal.cpp ktimerdialog.cpp)
 endif(NOT WIN32)
 
-if(NOT APPLE AND NOT WIN32)
+if(Q_WS_X11)
   set(kcm_componentchooser_SRCS ${kcm_componentchooser_SRCS}
      componentchooserwm.cpp )
-endif(NOT APPLE AND NOT WIN32)
+endif(Q_WS_X11)
 
 
 kde4_add_ui_files(kcm_componentchooser_SRCS 
diff -Nurd kdebase-runtime-4.2.0/kioslave/thumbnail/CMakeLists.txt kdebase-runtime-4.2.0-new/kioslave/thumbnail/CMakeLists.txt
--- kdebase-runtime-4.2.0/kioslave/thumbnail/CMakeLists.txt	2009-01-17 05:59:27.000000000 -0500
+++ kdebase-runtime-4.2.0-new/kioslave/thumbnail/CMakeLists.txt	2009-02-17 11:57:54.000000000 -0500
@@ -86,7 +86,7 @@
 
    kde4_add_plugin(exrthumbnail ${exrthumbnail_PART_SRCS})
 
-   target_link_libraries(exrthumbnail ${KDE4_KIO_LIBS} ${OPENEXR_LIBRARIES})
+   target_link_libraries(exrthumbnail ${KDE4_KIO_LIBS} ${OPENEXR_LIBRARIES} z)
 
    install(TARGETS exrthumbnail DESTINATION ${PLUGIN_INSTALL_DIR})
    install( FILES exrthumbnail.desktop DESTINATION ${SERVICES_INSTALL_DIR})
