Info3: <<
Package: iplike-pg%type_pkg[postgresql]
Version: 1.0.5
Revision: 1
Type: postgresql(7.4 8.0 8.1 8.2)

Conflicts: opennms-pgsql74, opennms-pgsql80, opennms-pgsql81, opennms-pgsql82
Replaces: opennms-pgsql74, opennms-pgsql80, opennms-pgsql81, opennms-pgsql82
Provides: opennms-pgsql
Source: mirror:sourceforge:opennms/iplike-%v-1.tar.gz
Source-MD5: 3a254fc3326072b7e6796ad01338f74f

BuildDepends: <<
	autoconf (>= 2.60-1),
	automake1.8,
	libtool14 (>= 1.5.18-1),
	(%type_raw[postgresql] <= 8.0) postgresql%type_pkg[postgresql]-unified-dev,
	(%type_raw[postgresql] >= 8.1) postgresql%type_pkg[postgresql]-dev,
<<
Depends: <<
	(%type_raw[postgresql] <= 7.4) postgresql%type_pkg[postgresql]-unified-shlibs,
	(%type_raw[postgresql] >= 8.1) postgresql%type_pkg[postgresql]-shlibs,
<<

PatchScript: <<
#!/bin/sh -ev

	IPLIKE_VERSION=`echo %type_raw[postgresql] | sed -e 's,\.,_,g'`
	perl -pi -e "s,iplike_la,iplike_${IPLIKE_VERSION}_la,g" Makefile.am
	perl -pi -e 's,iplike[^_]la,iplike-%type_raw[postgresql].la,g' Makefile.am install_iplike.sh.in
<<
CompileScript: <<
	autoreconf -fvi
	./configure %c
	make
<<
InstallScript: <<
	make install DESTDIR="%d"
	mv %i/sbin/install_iplike.sh %i/sbin/install_iplike_%type_pkg[postgresql].sh
<<

PostInstScript: <<
	cat <<END
*** NOTE ***

WARNING: this package will not work until you run
%p/sbin/install_iplike_%type_pkg[postgresql].sh with the appropriate options.

See \`%p/sbin/install_iplike_%type_pkg[postgresql].sh -h\` for more information.

END
<<

Homepage: http://www.opennms.org/
Maintainer: Benjamin Reed <iplike@fink.racoonfink.com>
Description: PostgreSQL IP address query interface
DescDetail: <<
This package contains a PostgreSQL function for doing complex
IP address queries on a text field.
<<
License: GPL
<<
