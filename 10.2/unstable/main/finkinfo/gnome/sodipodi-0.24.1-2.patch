diff -Naur sodipodi-0.24.1.old/src/sp-text.c sodipodi-0.24.1/src/sp-text.c
--- sodipodi-0.24.1.old/src/sp-text.c	Thu Sep 27 10:36:23 2001
+++ sodipodi-0.24.1/src/sp-text.c	Sun Feb 17 19:10:19 2002
@@ -1,7 +1,7 @@
 #define SP_TEXT_C
 
 #include <gnome.h>
-#include <wchar.h>
+//#include <wchar.h>
 #include <gal/unicode/gunicode.h>
 #include "svg/svg.h"
 #include "sp-text.h"
@@ -235,7 +235,7 @@
 				x = text->x;
 				y += text->size;
 			} else {
-				g_unichar_to_utf8 (btowc(*c), utfbuf);
+				g_unichar_to_utf8 (/*btowc(*c)*/ *c, utfbuf);
 				glyph = gnome_font_face_lookup_default (face, g_utf8_get_char(utfbuf));
 
 				w = gnome_font_face_get_glyph_width (face, glyph);
diff -Naur sodipodi-0.24.1.old/src/xml/repr-io.c sodipodi-0.24.1/src/xml/repr-io.c
--- sodipodi-0.24.1.old/src/xml/repr-io.c	Thu Oct  4 08:17:32 2001
+++ sodipodi-0.24.1/src/xml/repr-io.c	Sun Feb 17 19:09:34 2002
@@ -1,6 +1,6 @@
 #define SP_REPR_IO_C
 
-#include <malloc.h>
+//#include <malloc.h>
 #include <string.h>
 #include <stdio.h>
 #include "repr.h"
