Info4: <<
Package: kdegraphics4-x11
Version: 4.2.1
Revision: 1
Description: KDE4 - Graphics applications
Type: kde (x11)
License: GPL/LGPL
Maintainer: Benjamin Reed <kdegraphics4@fink.racoonfink.com>

Depends: <<
	gsthumbnail4-%type_pkg[kde] (>= %v-%r),
	gwenview4-%type_pkg[kde] (>= %v-%r),
	kamera4-%type_pkg[kde] (>= %v-%r),
	kcolorchooser4-%type_pkg[kde] (>= %v-%r),
	kolourpaint4-%type_pkg[kde] (>= %v-%r),
	kruler4-%type_pkg[kde] (>= %v-%r),
	ksaneplugin4-%type_pkg[kde] (>= %v-%r),
	okular4-%type_pkg[kde] (>= %v-%r),
	svgpart4-%type_pkg[kde] (>= %v-%r),
	kgamma4-%type_pkg[kde] (>= %v-%r),
	ksnapshot4-%type_pkg[kde] (>= %v-%r)
<<
BuildDepends: <<
	automoc-%type_pkg[kde] (>= 0.9.88-1),
	blitz-%type_pkg[kde]-dev,
	cmake (>= 2.6.3-1),
	dbus-dev (>= 1.2.12-1),
	fink (>= 0.28.0-1),
	fontconfig2-dev (>= 2.4.1-1),
	freetype219 (>= 2.3.7-7),
	glib2-dev (>= 2.14.0-1),
	kde4-buildenv (>= 4.2.1-4),
	kdebase4-%type_pkg[kde]-dev (>= 4.2.1-2),
	kdelibs4-%type_pkg[kde]-dev (>= 4.2.1-2),
	libdjvulibre21-dev,
	libexiv2-0.18,
	libgettext3-dev,
	libgphoto2,
	libtiff,
	pkgconfig (>= 0.22-3),
	poppler2-qt4-%type_pkg[kde],
	qca2-%type_pkg[kde],
	qt4-%type_pkg[kde] (>= 4.5.0-3),
	sane-backends-dev,
	soprano-%type_pkg[kde]-dev (>= 2.2.3-2),
	strigi-dev (>= 0.6.3-1),
	(%type_pkg[kde] = x11) x11-dev,
	system-openssl-dev,
	(%type_pkg[kde] = x11) xscreensaver
<<
GCC: 4.0

Source: mirror:kde:stable/%v/src/kdegraphics-%v.tar.bz2
Source-MD5: 9cc2bc859e678aa6178a5c6cf87eb0ab
PatchFile: kdegraphics4.patch
PatchFile-MD5: b9ddf5a66f7081bc3fea725228cb9042

CompileScript: <<
#!/bin/sh -ev

	export KDE4_PREFIX="%p" KDE4_TYPE="%type_pkg[kde]"
	. %p/sbin/kde4-buildenv.sh

	mkdir -p build
	pushd build
		cmake $KDE4_CMAKE_ARGS ..
		make VERBOSE=1
	popd
<<

InstallScript: <<
#!/bin/sh -ev

	pushd build
		make -j1 install/fast DESTDIR="%d"
	popd

	rm -rf %i/lib/%type_pkg[kde]/lib/libgwenviewlib.dylib
	rm -rf %i/lib/%type_pkg[kde]/lib/libkolourpaint_lgpl.dylib

	mkdir -p %i/share/doc/installed-packages
	touch %i/share/doc/installed-packages/%N
<<
SplitOff: <<
	Package: gsthumbnail4-%type_pkg[kde]
	Depends: %N-base (>= %v-%r)
	Files: <<
		lib/%type_pkg[kde]/lib/kde4/gsthumbnail*
		lib/%type_pkg[kde]/lib/strigi/strigita_dvi.so
		lib/%type_pkg[kde]/share/kde4/services/gsthumbnail*
	<<
<<
SplitOff10: <<
	Package: libkdcraw-data-%type_pkg[kde]
	Depends: %N-base (>= %v-%r)
	Files: <<
		lib/%type_pkg[kde]/share/apps/libkdcraw
		lib/%type_pkg[kde]/share/icons/hicolor/128x128/apps/kdcraw*
		lib/%type_pkg[kde]/share/icons/hicolor/32x32/apps/kdcraw*
		lib/%type_pkg[kde]/share/icons/hicolor/48x48/apps/kdcraw*
		lib/%type_pkg[kde]/share/icons/hicolor/64x64/apps/kdcraw*
	<<
<<
SplitOff11: <<
	Package: libkdcraw-7-%type_pkg[kde]-shlibs
	Depends: <<
		lcms-shlibs,
		libkdcraw-data-%type_pkg[kde] (>= %v-%r),
		%N-base (>= %v-%r)
	<<
	Files: lib/%type_pkg[kde]/lib/libkdcraw.7*.dylib
	Shlibs: %p/lib/%type_pkg[kde]/lib/libkdcraw.7.dylib 7.0.0 %n (>= 4.2.1-1)
<<
SplitOff12: <<
	Package: libkdcraw-7-%type_pkg[kde]-dev
	Depends: libkdcraw-7-%type_pkg[kde]-shlibs (>= %v-%r)
	Files: <<
		lib/%type_pkg[kde]/include/libkdcraw
		lib/%type_pkg[kde]/lib/libkdcraw.dylib
		lib/%type_pkg[kde]/lib/pkgconfig/libkdcraw.pc
	<<
<<
SplitOff13: <<
	Package: libkexiv2-7-%type_pkg[kde]-shlibs
	Depends: <<
		libexiv2-shlibs-0.18,
		%N-base (>= %v-%r)
	<<
	Files: lib/%type_pkg[kde]/lib/libkexiv2.7*.dylib
	Shlibs: %p/lib/%type_pkg[kde]/lib/libkexiv2.7.dylib 7.0.0 %n (>= 4.2.1-1)
<<
SplitOff14: <<
	Package: libkexiv2-7-%type_pkg[kde]-dev
	Depends: libkexiv2-7-%type_pkg[kde]-shlibs (>= %v-%r)
	Files: <<
		lib/%type_pkg[kde]/include/libkexiv2
		lib/%type_pkg[kde]/lib/libkexiv2.dylib
		lib/%type_pkg[kde]/lib/pkgconfig/libkexiv2.pc
	<<
<<
SplitOff15: <<
	Package: libkipi-data-%type_pkg[kde]
	Depends: %N-base (>= %v-%r)
	Files: <<
		lib/%type_pkg[kde]/share/apps/kipi
		lib/%type_pkg[kde]/share/icons/hicolor/128x128/apps/kipi*
		lib/%type_pkg[kde]/share/icons/hicolor/16x16/apps/kipi*
		lib/%type_pkg[kde]/share/icons/hicolor/22x22/apps/kipi*
		lib/%type_pkg[kde]/share/icons/hicolor/32x32/apps/kipi*
		lib/%type_pkg[kde]/share/icons/hicolor/48x48/apps/kipi*
		lib/%type_pkg[kde]/share/kde4/servicetypes/kipi*
	<<
<<
SplitOff16: <<
	Package: libkipi-6-%type_pkg[kde]-shlibs
	Depends: <<
		%N-base (>= %v-%r),
		libkipi-data-%type_pkg[kde] (>= %v-%r)
	<<
	Files: lib/%type_pkg[kde]/lib/libkipi.6*.dylib
	Shlibs: %p/lib/%type_pkg[kde]/lib/libkipi.6.dylib 6.0.0 %n (>= 4.2.1-1)
<<
SplitOff17: <<
	Package: libkipi-6-%type_pkg[kde]-dev
	Depends: libkipi-6-%type_pkg[kde]-shlibs (>= %v-%r)
	Files: <<
		lib/%type_pkg[kde]/include/libkipi
		lib/%type_pkg[kde]/lib/libkipi.dylib
		lib/%type_pkg[kde]/lib/pkgconfig/libkipi.pc
	<<
<<
SplitOff18: <<
	Package: libksane-0-%type_pkg[kde]-shlibs
	Depends: <<
		sane-backends-shlibs,
		%N-base (>= %v-%r)
	<<
	Files: lib/%type_pkg[kde]/lib/libksane.0*.dylib
	Shlibs: %p/lib/%type_pkg[kde]/lib/libksane.0.dylib 0.0.0 %n (>= 4.2.1-1)
<<
SplitOff19: <<
	Package: libksane-0-%type_pkg[kde]-dev
	Depends: libksane-0-%type_pkg[kde]-shlibs (>= %v-%r)
	Files: <<
		lib/%type_pkg[kde]/include/libksane
		lib/%type_pkg[kde]/lib/libksane.dylib
		lib/%type_pkg[kde]/lib/pkgconfig/libksane.pc
		lib/%type_pkg[kde]/share/apps/cmake/modules/FindKSane*
	<<
<<
SplitOff2: <<
	Package: gwenview4-%type_pkg[kde]
	Depends: <<
		libexiv2-shlibs-0.18,
		libkipi-6-%type_pkg[kde]-shlibs (>= %v-%r),
		%N-base (>= %v-%r)
	<<
	Files: <<
		lib/%type_pkg[kde]/bin/gwenview*
		lib/%type_pkg[kde]/lib/kde4/gvpart*
		lib/%type_pkg[kde]/lib/libgwenviewlib.4*.dylib
		lib/%type_pkg[kde]/share/applications/kde4/gwenview*
		lib/%type_pkg[kde]/share/apps/gvpart
		lib/%type_pkg[kde]/share/apps/gwenview
		lib/%type_pkg[kde]/share/doc/HTML/en/gwenview
		lib/%type_pkg[kde]/share/icons/hicolor/128x128/apps/gwenview*
		lib/%type_pkg[kde]/share/icons/hicolor/16x16/apps/gwenview*
		lib/%type_pkg[kde]/share/icons/hicolor/22x22/apps/gwenview*
		lib/%type_pkg[kde]/share/icons/hicolor/32x32/apps/gwenview*
		lib/%type_pkg[kde]/share/icons/hicolor/48x48/apps/gwenview*
		lib/%type_pkg[kde]/share/icons/hicolor/64x64/apps/gwenview*
		lib/%type_pkg[kde]/share/icons/hicolor/scalable/apps/gwenview*
		lib/%type_pkg[kde]/share/kde4/services/ServiceMenus/slideshow*
		lib/%type_pkg[kde]/share/kde4/services/gvpart*
	<<
	Shlibs: !%p/lib/%type_pkg[kde]/lib/libgwenviewlib.4.dylib
<<
SplitOff20: <<
	Package: svgpart4-%type_pkg[kde]
	Depends: %N-base (>= %v-%r)
	Files: <<
		lib/%type_pkg[kde]/lib/kde4/svgpart*
		lib/%type_pkg[kde]/share/apps/svgpart
		lib/%type_pkg[kde]/share/kde4/services/svgpart*
	<<
<<
SplitOff21: <<
	Package: kgamma4-%type_pkg[kde]
	Depends: %N-base (>= %v-%r)
	Files: <<
		lib/%type_pkg[kde]/bin/xf86gammacfg*
		lib/%type_pkg[kde]/lib/kde4/*kgamma*
		lib/%type_pkg[kde]/share/doc/HTML/en/kgamma
		lib/%type_pkg[kde]/share/apps/kgamma
		lib/%type_pkg[kde]/share/icons/hicolor/16x16/apps/kgamma*
		lib/%type_pkg[kde]/share/icons/hicolor/32x32/apps/kgamma*
		lib/%type_pkg[kde]/share/icons/hicolor/48x48/apps/kgamma*
		lib/%type_pkg[kde]/share/kde4/services/kgamma*
	<<
<<
SplitOff22: <<
	Package: ksnapshot4-%type_pkg[kde]
	Depends: %N-base (>= %v-%r)
	Files: <<
		lib/%type_pkg[kde]/bin/*snapshot*
		lib/%type_pkg[kde]/share/applications/kde4/ksnapshot*
		lib/%type_pkg[kde]/share/dbus-1/interfaces/org.kde.ksnapshot*
		lib/%type_pkg[kde]/share/doc/HTML/en/ksnapshot
		lib/%type_pkg[kde]/share/icons/hicolor/16x16/apps/ksnapshot.png
		lib/%type_pkg[kde]/share/icons/hicolor/22x22/apps/ksnapshot.png
		lib/%type_pkg[kde]/share/icons/hicolor/32x32/apps/ksnapshot.png
		lib/%type_pkg[kde]/share/icons/hicolor/48x48/apps/ksnapshot.png
		lib/%type_pkg[kde]/share/icons/hicolor/scalable/apps/ksnapshot.svgz
	<<
<<
SplitOff23: <<
	Package: %N-base
	Depends: <<
		kdebase4-runtime-%type_pkg[kde] (>= 4.2.1-2),
		libdjvulibre21-shlibs
	<<
	Files: lib
<<
SplitOff3: <<
	Package: kamera4-%type_pkg[kde]
	Depends: <<
		libgphoto2-shlibs,
		%N-base (>= %v-%r)
	<<
	Files: <<
		lib/%type_pkg[kde]/lib/kde4/*kamera*
		lib/%type_pkg[kde]/share/doc/HTML/en/kcontrol/kamera
		lib/%type_pkg[kde]/share/kde4/services/camera*
		lib/%type_pkg[kde]/share/kde4/services/kamera*
	<<
<<
SplitOff4: <<
	Package: kcolorchooser4-%type_pkg[kde]
	Depends: %N-base (>= %v-%r)
	Files: <<
		lib/%type_pkg[kde]/bin/kcolorchooser*
		lib/%type_pkg[kde]/share/applications/kde4/kcolorchooser*
		lib/%type_pkg[kde]/share/icons/hicolor/16x16/apps/kcolorchooser*
		lib/%type_pkg[kde]/share/icons/hicolor/22x22/apps/kcolorchooser*
	<<
<<
SplitOff5: <<
	Package: kolourpaint4-%type_pkg[kde]
	Depends: <<
		blitz-%type_pkg[kde]-shlibs,
		%N-base (>= %v-%r)
	<<
	Files: <<
		lib/%type_pkg[kde]/bin/kolourpaint*
		lib/%type_pkg[kde]/lib/libkolourpaint_lgpl.4*.dylib
		lib/%type_pkg[kde]/share/applications/kde4/kolourpaint*
		lib/%type_pkg[kde]/share/apps/kolourpaint
		lib/%type_pkg[kde]/share/doc/HTML/en/kolourpaint
		lib/%type_pkg[kde]/share/icons/hicolor/16x16/apps/kolourpaint*
		lib/%type_pkg[kde]/share/icons/hicolor/22x22/apps/kolourpaint*
		lib/%type_pkg[kde]/share/icons/hicolor/32x32/apps/kolourpaint*
		lib/%type_pkg[kde]/share/icons/hicolor/48x48/apps/kolourpaint*
		lib/%type_pkg[kde]/share/icons/hicolor/scalable/apps/kolourpaint*
	<<
	Shlibs: !%p/lib/%type_pkg[kde]/lib/libkolourpaint_lgpl.4.dylib
<<
SplitOff6: <<
	Package: kruler4-%type_pkg[kde]
	Depends: %N-base (>= %v-%r)
	Files: <<
		lib/%type_pkg[kde]/bin/kruler*
		lib/%type_pkg[kde]/share/applications/kde4/kruler*
		lib/%type_pkg[kde]/share/apps/kruler
		lib/%type_pkg[kde]/share/doc/HTML/en/kruler
		lib/%type_pkg[kde]/share/icons/hicolor/128x128/apps/kruler*
		lib/%type_pkg[kde]/share/icons/hicolor/16x16/apps/kruler*
		lib/%type_pkg[kde]/share/icons/hicolor/22x22/apps/kruler*
		lib/%type_pkg[kde]/share/icons/hicolor/32x32/apps/kruler*
		lib/%type_pkg[kde]/share/icons/hicolor/48x48/apps/kruler*
		lib/%type_pkg[kde]/share/icons/hicolor/64x64/apps/kruler*
		lib/%type_pkg[kde]/share/icons/hicolor/scalable/apps/kruler*
	<<
<<
SplitOff7: <<
	Package: ksaneplugin4-%type_pkg[kde]
	Depends: <<
		sane-backends-shlibs,
		%N-base (>= %v-%r)
	<<
	Files: <<
		lib/%type_pkg[kde]/lib/kde4/ksaneplugin*
		lib/%type_pkg[kde]/share/kde4/services/ksane*
	<<
<<
SplitOff8: <<
	Package: okular4-%type_pkg[kde]
	Depends: <<
		blitz-%type_pkg[kde]-shlibs,
		freetype219-shlibs,
		libdjvulibre21-shlibs,
		poppler2-qt4-%type_pkg[kde]-shlibs,
		qca2-%type_pkg[kde]-shlibs,
		%N-base (>= %v-%r)
	<<
	Files: <<
		lib/%type_pkg[kde]/bin/okular*
		lib/%type_pkg[kde]/lib/kde4/okular*
		lib/%type_pkg[kde]/lib/libokularcore.1*.dylib
		lib/%type_pkg[kde]/share/applications/kde4/okular*
		lib/%type_pkg[kde]/share/apps/okular
		lib/%type_pkg[kde]/share/config/okular*
		lib/%type_pkg[kde]/share/config.kcfg/okular*
		lib/%type_pkg[kde]/share/doc/HTML/en/okular
		lib/%type_pkg[kde]/share/icons/hicolor/128x128/apps/okular*
		lib/%type_pkg[kde]/share/icons/hicolor/16x16/apps/okular*
		lib/%type_pkg[kde]/share/icons/hicolor/22x22/apps/okular*
		lib/%type_pkg[kde]/share/icons/hicolor/32x32/apps/okular*
		lib/%type_pkg[kde]/share/icons/hicolor/48x48/apps/okular*
		lib/%type_pkg[kde]/share/icons/hicolor/64x64/apps/okular*
		lib/%type_pkg[kde]/share/icons/hicolor/scalable/apps/okular*
		lib/%type_pkg[kde]/share/kde4/services/*okular*
		lib/%type_pkg[kde]/share/kde4/servicetypes/okular*
	<<
	Shlibs: %p/lib/%type_pkg[kde]/lib/libokularcore.1.dylib 1.0.0 %n (>= 4.2.1-1)
<<
SplitOff9: <<
	Package: okular4-%type_pkg[kde]-dev
	Depends: okular4-%type_pkg[kde] (>= %v-%r)
	Files: <<
		lib/%type_pkg[kde]/include/okular
		lib/%type_pkg[kde]/lib/libokularcore.dylib
		lib/%type_pkg[kde]/share/apps/cmake/modules/FindOkular*
	<<
<<

DescDetail: 
<<

