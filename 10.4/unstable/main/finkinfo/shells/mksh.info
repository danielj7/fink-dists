Package: mksh
Version: 36
Revision: 2
Description: Enhanced version of the Korn shell
License: BSD
Maintainer: Andreas Gockel <fink-mksh@unixforge.de>
Replaces: mirbsdksh (<< 29.5-1)
Conflicts: mirbsdksh (<< 29.5-1)
CustomMirror: <<
 Primary: http://www.mirbsd.org/MirOS/dist/mir/%n/
# asi-JP: http://pub.allbsd.org/MirOS/dist/mir/%n/
<<
Source: mirror:custom:%n-R36b.cpio.gz
SourceRename: %f.cpio.gz
Source-md5: e5f4cfbc55b6fe8211f99d231125224d
NoSourceDirectory: true
PatchScript: /bin/pax -s ',^/*mksh//*,%f/,' -zf %f.cpio.gz -r
SetCPPFLAGS: -DMKSH_ASSUME_UTF8
CompileScript: cd %f; /bin/sh ./Build.sh -r
InstallScript: <<
#!/bin/sh -e -x
 cd %f
 /usr/bin/install -d -m 755 %i/{bin,share/man/man1,etc/profile.d}
 /usr/bin/install -c -s -m 555 %n %i/bin/%n
 /usr/bin/install -c -m 444 %n.1 %i/share/man/man1/%n.1
 /usr/bin/install -c -m 444 dot.%nrc %i/etc/%nrc
 /bin/cat >%i/etc/profile.d/%n.sh <<'EOF'
#!/bin/sh
case $KSH_VERSION in
	*MIRBSD\ KSH*)
		test \! -e ${HOME-nonexistant}/.%nrc && \
		test -e %p/etc/%nrc && \
		. %p/etc/%nrc
	;;
esac
EOF
 /bin/cat >%i/etc/profile.d/%n.csh <<'EOF'
#!/bin/csh
exit 0
EOF
 /bin/chmod 755 %i/etc/profile.d/*
<<
DocFiles: %f/copyright %f/dot.%nrc
ConfFiles: %p/etc/%nrc
Homepage: http://mirbsd.de/mksh
DescDetail: <<
 mksh is the MirBSD enhanced version of the Public Domain Korn
 shell (pdksh), a bourne-compatible and loosely POSIX compliant
 shell which is largely similar to the original AT&T Korn shell.
 It includes bug fixes and feature improvements in order to produce
 a modern, robust shell good for interactive and especially script
 use; emacs mode command line editing and input/script processing
 have been made UTF-8 safe.
<<
DescUsage: <<
 Add '%p/bin/%n' to your /etc/shells so users can use
 %n as their default shell
<<
InfoTest: <<
 TestScript: cd %f; ./test.sh -v || exit 2
<<
