diff -ru fuse-zip-0.2.0.orig/fuse-zip.cpp fuse-zip-0.2.0/fuse-zip.cpp
--- fuse-zip-0.2.0.orig/fuse-zip.cpp	2008-06-10 18:37:31.000000000 -0400
+++ fuse-zip-0.2.0/fuse-zip.cpp	2008-06-10 20:47:14.000000000 -0400
@@ -396,7 +396,9 @@
     }
     FuseZipData *data;
     try {
-        data = new FuseZipData(zip_file, get_current_dir_name());
+        char *cwd = (char*)malloc(PATH_MAX + 1);
+        getcwd(cwd, PATH_MAX);
+        data = new FuseZipData(zip_file, cwd);
     }
     catch (std::bad_alloc) {
       fprintf(stderr, "%s: no enough memory\n", PROGRAM);
